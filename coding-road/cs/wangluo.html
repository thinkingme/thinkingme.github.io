<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.46" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://vuepress-theme-hope-v2-demo.mrhope.site/coding-road/cs/wangluo.html"><meta property="og:site_name" content="coding-rode"><meta property="og:title" content="è®¡ç®—æœºç½‘ç»œæ ¸å¿ƒçŸ¥è¯†ç‚¹å¤§æ¢³ç†"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-06-04T07:20:53.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:tag" content="è®¡ç®—æœºç½‘ç»œ"><meta property="article:modified_time" content="2022-06-04T07:20:53.000Z"><script>var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?5dd2e8c97962d57b7b8fea1737c01743";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();</script><link rel="stylesheet" href="//at.alicdn.com/t/font_2410206_mfj6e1vbwo.css"><title>è®¡ç®—æœºç½‘ç»œæ ¸å¿ƒçŸ¥è¯†ç‚¹å¤§æ¢³ç† | coding-rode</title><meta name="description" content="å¹³å¹³æ— å¥‡çš„ç¨‹åºå‘˜">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/css/styles.c76527c7.css">
    <link rel="preload" href="/assets/js/runtime~app.9a7292d3.js" as="script"><link rel="preload" href="/assets/css/styles.c76527c7.css" as="style"><link rel="preload" href="/assets/js/5206.e84d5f36.js" as="script"><link rel="preload" href="/assets/js/app.2548dd9a.js" as="script"><link rel="prefetch" href="/assets/js/8010.572bcefe.js"><link rel="prefetch" href="/assets/js/1059.e16d3322.js"><link rel="prefetch" href="/assets/js/4792.3f621085.js"><link rel="prefetch" href="/assets/js/v-02987727.e6cfed42.js"><link rel="prefetch" href="/assets/js/v-39f8d868.198eed43.js"><link rel="prefetch" href="/assets/js/5817.718e6d8a.js"><link rel="prefetch" href="/assets/js/v-5584707a.d987688c.js"><link rel="prefetch" href="/assets/js/v-5db8ee06.d50570a7.js"><link rel="prefetch" href="/assets/js/v-e5434cc0.d84d46b7.js"><link rel="prefetch" href="/assets/js/v-16bd9afa.5f2c7286.js"><link rel="prefetch" href="/assets/js/v-b0ae7398.64f09b91.js"><link rel="prefetch" href="/assets/js/v-47fdfb72.d810252f.js"><link rel="prefetch" href="/assets/js/1231.8d9af74d.js"><link rel="prefetch" href="/assets/js/v-6f6524a3.dfc0652f.js"><link rel="prefetch" href="/assets/js/v-35406b06.b4239d88.js"><link rel="prefetch" href="/assets/js/2352.4a17eca8.js"><link rel="prefetch" href="/assets/js/v-0eefac60.ecdf7fd3.js"><link rel="prefetch" href="/assets/js/v-d679aa0a.ad812b9b.js"><link rel="prefetch" href="/assets/js/v-26a9e2de.a33d7ffd.js"><link rel="prefetch" href="/assets/js/v-4804f82a.fce40cf1.js"><link rel="prefetch" href="/assets/js/v-86629288.91e1684f.js"><link rel="prefetch" href="/assets/js/8969.6fa90c83.js"><link rel="prefetch" href="/assets/js/7694.3d01651c.js"><link rel="prefetch" href="/assets/js/v-16dd2d62.4779aa45.js"><link rel="prefetch" href="/assets/js/v-4c66ec4c.a11c70f1.js"><link rel="prefetch" href="/assets/js/v-5574e3d4.5c7a6b26.js"><link rel="prefetch" href="/assets/js/v-91a09cb6.2d03e94c.js"><link rel="prefetch" href="/assets/js/v-4b5fc87c.d177c8c7.js"><link rel="prefetch" href="/assets/js/v-efb05a0e.7786eaff.js"><link rel="prefetch" href="/assets/js/v-742c4c5f.5776532d.js"><link rel="prefetch" href="/assets/js/v-70a5c8e8.b4135b36.js"><link rel="prefetch" href="/assets/js/v-617d67b6.34da6e54.js"><link rel="prefetch" href="/assets/js/v-3f5c012d.8371cafa.js"><link rel="prefetch" href="/assets/js/v-2b1be316.5bd38e1d.js"><link rel="prefetch" href="/assets/js/v-5dd9244f.dacefbee.js"><link rel="prefetch" href="/assets/js/v-6fd5ef19.f587f97e.js"><link rel="prefetch" href="/assets/js/v-140d4ac7.3ffb8a55.js"><link rel="prefetch" href="/assets/js/v-6c08fa66.652b7c6e.js"><link rel="prefetch" href="/assets/js/v-6839f948.d05f07e0.js"><link rel="prefetch" href="/assets/js/v-4fefa229.8c40e61f.js"><link rel="prefetch" href="/assets/js/v-511807d4.e41b9b43.js"><link rel="prefetch" href="/assets/js/v-1ea6cf97.b8eee404.js"><link rel="prefetch" href="/assets/js/v-4bf8aa84.341ced6d.js"><link rel="prefetch" href="/assets/js/v-e2ed7982.cb0681b3.js"><link rel="prefetch" href="/assets/js/v-27206dbf.b5feedbd.js"><link rel="prefetch" href="/assets/js/v-782b55c0.6c5bbe95.js"><link rel="prefetch" href="/assets/js/v-5234d0cc.02b0dda0.js"><link rel="prefetch" href="/assets/js/v-0c03b2ff.f10fd124.js"><link rel="prefetch" href="/assets/js/v-656ae194.c37058e2.js"><link rel="prefetch" href="/assets/js/v-5688d525.91c388ba.js"><link rel="prefetch" href="/assets/js/v-6c3c0205.721cf3da.js"><link rel="prefetch" href="/assets/js/v-3200464c.46669ad2.js"><link rel="prefetch" href="/assets/js/v-13c949ed.613bd659.js"><link rel="prefetch" href="/assets/js/v-37329722.50132c9a.js"><link rel="prefetch" href="/assets/js/v-da37de0e.ae94cc43.js"><link rel="prefetch" href="/assets/js/5603.be34b86e.js"><link rel="prefetch" href="/assets/js/v-4309593e.c321dd34.js"><link rel="prefetch" href="/assets/js/v-aa7152d6.50b555f8.js"><link rel="prefetch" href="/assets/js/v-1e02ba69.ed64ad9f.js"><link rel="prefetch" href="/assets/js/v-9cbcd4f2.cf143502.js"><link rel="prefetch" href="/assets/js/v-23c013c5.f0cc31a6.js"><link rel="prefetch" href="/assets/js/v-7ca27778.d66552ab.js"><link rel="prefetch" href="/assets/js/v-78da5625.9689b972.js"><link rel="prefetch" href="/assets/js/v-6bee6f8a.be5b8ccd.js"><link rel="prefetch" href="/assets/js/v-b5b328f2.1aea5d26.js"><link rel="prefetch" href="/assets/js/v-394b0a50.73d77c11.js"><link rel="prefetch" href="/assets/js/v-266f212c.0a06d325.js"><link rel="prefetch" href="/assets/js/v-27b275fd.aedbabbf.js"><link rel="prefetch" href="/assets/js/v-7ac66f86.d431b2e9.js"><link rel="prefetch" href="/assets/js/v-01863d70.109599fe.js"><link rel="prefetch" href="/assets/js/v-bc331792.ec6d00d9.js"><link rel="prefetch" href="/assets/js/v-6a3ec72f.27e21daa.js"><link rel="prefetch" href="/assets/js/v-7dce6ccd.34d246fe.js"><link rel="prefetch" href="/assets/js/v-54482a46.5308814c.js"><link rel="prefetch" href="/assets/js/v-192feb23.f9e161db.js"><link rel="prefetch" href="/assets/js/v-4563e664.f1d628d4.js"><link rel="prefetch" href="/assets/js/v-134179f1.4cb819dd.js"><link rel="prefetch" href="/assets/js/v-1917f792.7ffde11a.js"><link rel="prefetch" href="/assets/js/v-2952f6c6.356be6b0.js"><link rel="prefetch" href="/assets/js/v-9771a0a8.76103cf0.js"><link rel="prefetch" href="/assets/js/v-4be08f7a.25f32fc4.js"><link rel="prefetch" href="/assets/js/v-64db0126.37f42a45.js"><link rel="prefetch" href="/assets/js/v-42143a24.ec37b5ab.js"><link rel="prefetch" href="/assets/js/v-c8c3f352.4404455b.js"><link rel="prefetch" href="/assets/js/v-456aab32.396733c3.js"><link rel="prefetch" href="/assets/js/v-6f1101c6.1ca44e9d.js"><link rel="prefetch" href="/assets/js/v-da70f896.a0cb0caf.js"><link rel="prefetch" href="/assets/js/v-684980e5.f52f1d45.js"><link rel="prefetch" href="/assets/js/v-e9b72fe6.95b3ddee.js"><link rel="prefetch" href="/assets/js/v-0978b044.e16e5a47.js"><link rel="prefetch" href="/assets/js/v-07ecbd9a.d7fdf80f.js"><link rel="prefetch" href="/assets/js/v-7797a8d4.e607dc2f.js"><link rel="prefetch" href="/assets/js/v-7f40bef6.6148ea9f.js"><link rel="prefetch" href="/assets/js/v-32afc5b8.9e51212c.js"><link rel="prefetch" href="/assets/js/v-403359a2.86906acd.js"><link rel="prefetch" href="/assets/js/v-0ef42136.4ff8f228.js"><link rel="prefetch" href="/assets/js/v-88684c7a.8d0f801d.js"><link rel="prefetch" href="/assets/js/v-5e43ea68.2aaa2b0c.js"><link rel="prefetch" href="/assets/js/v-6b26ba50.7e9c8418.js"><link rel="prefetch" href="/assets/js/v-1b8f724a.46d938f7.js"><link rel="prefetch" href="/assets/js/v-62ba302e.15e9ba65.js"><link rel="prefetch" href="/assets/js/v-58bbf4b8.92352842.js"><link rel="prefetch" href="/assets/js/v-1af08716.0d8c2ce6.js"><link rel="prefetch" href="/assets/js/v-209d1db4.678b50f0.js"><link rel="prefetch" href="/assets/js/v-1cc7c988.9d37bfcc.js"><link rel="prefetch" href="/assets/js/v-d2b36234.a53e3b99.js"><link rel="prefetch" href="/assets/js/v-a50a90da.13500a5a.js"><link rel="prefetch" href="/assets/js/v-acf1e714.cd4ca44e.js"><link rel="prefetch" href="/assets/js/v-8a4b7f68.247bec06.js"><link rel="prefetch" href="/assets/js/v-5b1ec212.2f508a42.js"><link rel="prefetch" href="/assets/js/v-6775b565.af180cd9.js"><link rel="prefetch" href="/assets/js/7751.c37bb860.js"><link rel="prefetch" href="/assets/js/v-50cb7167.87c3411f.js"><link rel="prefetch" href="/assets/js/v-2d6d3d32.d4627ad2.js"><link rel="prefetch" href="/assets/js/v-03633072.2be09b28.js"><link rel="prefetch" href="/assets/js/v-7ef52104.a55e1f37.js"><link rel="prefetch" href="/assets/js/v-06cfe8ec.f0b9661d.js"><link rel="prefetch" href="/assets/js/v-73e90246.e6182b0b.js"><link rel="prefetch" href="/assets/js/v-28553bf3.937f3d82.js"><link rel="prefetch" href="/assets/js/v-d1027ba8.41e87fb3.js"><link rel="prefetch" href="/assets/js/v-61a996a5.2c5bd2e8.js"><link rel="prefetch" href="/assets/js/v-4eee3f85.425812f6.js"><link rel="prefetch" href="/assets/js/v-0e5ce2da.c826f353.js"><link rel="prefetch" href="/assets/js/v-3b896528.4ac9002a.js"><link rel="prefetch" href="/assets/js/v-1cfcac05.0b969e18.js"><link rel="prefetch" href="/assets/js/v-69a888bc.6e18a003.js"><link rel="prefetch" href="/assets/js/v-245e2880.64347b99.js"><link rel="prefetch" href="/assets/js/v-64b29970.d039ab79.js"><link rel="prefetch" href="/assets/js/v-af124e26.389ea62b.js"><link rel="prefetch" href="/assets/js/v-0fe1631a.99f271fe.js"><link rel="prefetch" href="/assets/js/v-392a4a55.4cb92d52.js"><link rel="prefetch" href="/assets/js/v-23c4d63b.66565060.js"><link rel="prefetch" href="/assets/js/v-2324f0f8.710ba6e6.js"><link rel="prefetch" href="/assets/js/v-9342af48.9505f62d.js"><link rel="prefetch" href="/assets/js/v-f130b72e.849bd0f8.js"><link rel="prefetch" href="/assets/js/v-cabeb87c.da451cc8.js"><link rel="prefetch" href="/assets/js/v-4d15f91d.95d0ba60.js"><link rel="prefetch" href="/assets/js/v-5aa7e3e3.150272e6.js"><link rel="prefetch" href="/assets/js/v-fe84e98c.28fe953d.js"><link rel="prefetch" href="/assets/js/v-359cf4be.c82ee4a4.js"><link rel="prefetch" href="/assets/js/3828.6c03a64c.js"><link rel="prefetch" href="/assets/js/v-60932f0a.1553daef.js"><link rel="prefetch" href="/assets/js/v-10518002.b2039899.js"><link rel="prefetch" href="/assets/js/v-6fefc4ad.4e775a21.js"><link rel="prefetch" href="/assets/js/v-65878152.7899f1d1.js"><link rel="prefetch" href="/assets/js/v-60d73587.ff917989.js"><link rel="prefetch" href="/assets/js/v-20d19b7c.48733f90.js"><link rel="prefetch" href="/assets/js/v-9662e438.4a23b8df.js"><link rel="prefetch" href="/assets/js/v-21d20d11.e6e91974.js"><link rel="prefetch" href="/assets/js/v-9d8feca8.7c742b59.js"><link rel="prefetch" href="/assets/js/v-4d5057ac.cdf98c92.js"><link rel="prefetch" href="/assets/js/v-4e81d27b.1fe92453.js"><link rel="prefetch" href="/assets/js/v-36b58b89.a563cfba.js"><link rel="prefetch" href="/assets/js/v-ae7ed870.0a691a4e.js"><link rel="prefetch" href="/assets/js/v-398fbf9e.cd3566d1.js"><link rel="prefetch" href="/assets/js/v-c16116c6.a122ff87.js"><link rel="prefetch" href="/assets/js/v-358ab252.6c53cf3c.js"><link rel="prefetch" href="/assets/js/v-611e28c1.d0746407.js"><link rel="prefetch" href="/assets/js/v-efc7f704.47ce9fe3.js"><link rel="prefetch" href="/assets/js/v-0009bba2.0e5e7576.js"><link rel="prefetch" href="/assets/js/v-39e4032a.235ac902.js"><link rel="prefetch" href="/assets/js/v-51e6f4e1.c93b18f8.js"><link rel="prefetch" href="/assets/js/v-1d705569.105421eb.js"><link rel="prefetch" href="/assets/js/v-60347a74.90c3a877.js"><link rel="prefetch" href="/assets/js/v-19933ab6.021c0a76.js"><link rel="prefetch" href="/assets/js/v-7bfaa797.4bd649fd.js"><link rel="prefetch" href="/assets/js/v-80075a2c.e392a4ec.js"><link rel="prefetch" href="/assets/js/v-34daa66e.374d309d.js"><link rel="prefetch" href="/assets/js/v-5c219956.33651109.js"><link rel="prefetch" href="/assets/js/v-90a5c0b0.26612962.js"><link rel="prefetch" href="/assets/js/v-5a16d06a.fb092732.js"><link rel="prefetch" href="/assets/js/v-6d539db4.f380e862.js"><link rel="prefetch" href="/assets/js/v-5f32d9f7.d6221d6a.js"><link rel="prefetch" href="/assets/js/v-fe2f9764.426babae.js"><link rel="prefetch" href="/assets/js/v-0e503981.ad44eba2.js"><link rel="prefetch" href="/assets/js/v-daaebf80.175f9896.js"><link rel="prefetch" href="/assets/js/v-ae8fc1d0.d462655e.js"><link rel="prefetch" href="/assets/js/v-6d4ea801.27b437c8.js"><link rel="prefetch" href="/assets/js/5577.658f4946.js"><link rel="prefetch" href="/assets/js/v-96d47244.a427c122.js"><link rel="prefetch" href="/assets/js/v-6713c6ee.4dad4ea4.js"><link rel="prefetch" href="/assets/js/v-aa81c5be.af956bd6.js"><link rel="prefetch" href="/assets/js/v-103c45a4.e016fbd9.js"><link rel="prefetch" href="/assets/js/v-13c29c6e.bf7e5d5d.js"><link rel="prefetch" href="/assets/js/v-47a04e70.560f4e9f.js"><link rel="prefetch" href="/assets/js/v-6914dc26.156a9c1a.js"><link rel="prefetch" href="/assets/js/v-b9a9dbe4.43b2bf31.js"><link rel="prefetch" href="/assets/js/v-21b53bf7.ac171934.js"><link rel="prefetch" href="/assets/js/v-798ab5d8.2954c6f8.js"><link rel="prefetch" href="/assets/js/v-56058f8f.affd9e88.js"><link rel="prefetch" href="/assets/js/v-7c48e0b0.c79e1458.js"><link rel="prefetch" href="/assets/js/v-43bd2008.ebe3f70e.js"><link rel="prefetch" href="/assets/js/v-213c1c36.b6ea8c9a.js"><link rel="prefetch" href="/assets/js/v-39e9b7bd.17982a6a.js"><link rel="prefetch" href="/assets/js/v-61ea6a74.46c7a644.js"><link rel="prefetch" href="/assets/js/v-ce278e5a.039bf4c1.js"><link rel="prefetch" href="/assets/js/v-27176ea2.78c1e152.js"><link rel="prefetch" href="/assets/js/v-54b60ea6.21df2dde.js"><link rel="prefetch" href="/assets/js/v-27b383ed.d4ad0a6e.js"><link rel="prefetch" href="/assets/js/v-8902f224.9c67735c.js"><link rel="prefetch" href="/assets/js/v-24e935de.fe5bb072.js"><link rel="prefetch" href="/assets/js/v-0dd65f08.bacd62aa.js"><link rel="prefetch" href="/assets/js/v-09c101bf.74ebbbb5.js"><link rel="prefetch" href="/assets/js/v-f6ee2602.871e25bf.js"><link rel="prefetch" href="/assets/js/v-3d098d67.53f1b8d3.js"><link rel="prefetch" href="/assets/js/v-373e95f4.221ea9ce.js"><link rel="prefetch" href="/assets/js/v-17a98493.a53890ee.js"><link rel="prefetch" href="/assets/js/v-8a6fc126.84a4b43e.js"><link rel="prefetch" href="/assets/js/v-f7c4cbc4.9f61ee1f.js"><link rel="prefetch" href="/assets/js/v-5d00799b.49ec1da2.js"><link rel="prefetch" href="/assets/js/v-11f2a69f.9dd2ac45.js"><link rel="prefetch" href="/assets/js/v-2f9ad7d3.7cecf34e.js"><link rel="prefetch" href="/assets/js/v-f2d0b44a.cdddf40f.js"><link rel="prefetch" href="/assets/js/v-45bb41f0.9b020d3d.js"><link rel="prefetch" href="/assets/js/v-079efdae.00fa335f.js"><link rel="prefetch" href="/assets/js/v-1749ea82.01be9082.js"><link rel="prefetch" href="/assets/js/v-14afe378.6fe2656a.js"><link rel="prefetch" href="/assets/js/v-000948f2.52d94018.js"><link rel="prefetch" href="/assets/js/v-29a47f1f.65a144f0.js"><link rel="prefetch" href="/assets/js/v-97a45628.dedcf779.js"><link rel="prefetch" href="/assets/js/v-66366bd2.196dd5a4.js"><link rel="prefetch" href="/assets/js/v-da1bbc34.014c0bf5.js"><link rel="prefetch" href="/assets/js/v-e02c3326.0cbcc752.js"><link rel="prefetch" href="/assets/js/v-167bf9ac.229b5a7f.js"><link rel="prefetch" href="/assets/js/v-c99ec8c6.0808ee44.js"><link rel="prefetch" href="/assets/js/v-f6953288.07480e2d.js"><link rel="prefetch" href="/assets/js/v-78df38f4.121ed01c.js"><link rel="prefetch" href="/assets/js/v-10c9ec92.cf12dc73.js"><link rel="prefetch" href="/assets/js/v-56835d6c.8e00c588.js"><link rel="prefetch" href="/assets/js/v-594fcfb0.2cb1abb8.js"><link rel="prefetch" href="/assets/js/v-3ebce416.34a2a59e.js"><link rel="prefetch" href="/assets/js/v-eb9ba2e8.929602ca.js"><link rel="prefetch" href="/assets/js/v-0b4c795c.ed4668fe.js"><link rel="prefetch" href="/assets/js/v-55f39fd8.593820e8.js"><link rel="prefetch" href="/assets/js/v-6476d1b6.405304f4.js"><link rel="prefetch" href="/assets/js/v-64f5ed84.617417da.js"><link rel="prefetch" href="/assets/js/v-04141eef.18e63143.js"><link rel="prefetch" href="/assets/js/v-7758bcc5.7c6fcd0a.js"><link rel="prefetch" href="/assets/js/v-2f159023.2b9c53f2.js"><link rel="prefetch" href="/assets/js/v-d7fd2414.e8c25797.js"><link rel="prefetch" href="/assets/js/v-6789c688.c1294a03.js"><link rel="prefetch" href="/assets/js/v-4eaf9f84.c171a579.js"><link rel="prefetch" href="/assets/js/v-13fb5e67.3a415083.js"><link rel="prefetch" href="/assets/js/v-7897c568.cffb5cc2.js"><link rel="prefetch" href="/assets/js/v-0a391fc2.2b2d599d.js"><link rel="prefetch" href="/assets/js/3150.1121d4cb.js"><link rel="prefetch" href="/assets/js/v-070fbd0c.843c7347.js"><link rel="prefetch" href="/assets/js/v-bf720700.308834c3.js"><link rel="prefetch" href="/assets/js/v-c3ddceb6.7077b4eb.js"><link rel="prefetch" href="/assets/js/v-fffb8e28.c9f07d37.js"><link rel="prefetch" href="/assets/js/v-0c0c61ab.0ba2379b.js"><link rel="prefetch" href="/assets/js/v-0a57890c.b976318b.js"><link rel="prefetch" href="/assets/js/v-0f7612e9.4984564e.js"><link rel="prefetch" href="/assets/js/v-06edd7ce.ef85b2ea.js"><link rel="prefetch" href="/assets/js/v-08a2b06d.153e8ae2.js"><link rel="prefetch" href="/assets/js/v-0dc13a4a.5cbfff23.js"><link rel="prefetch" href="/assets/js/v-0538ff2f.fde5d234.js"><link rel="prefetch" href="/assets/js/v-5deafbd7.3536ab94.js"><link rel="prefetch" href="/assets/js/v-03842690.e35deebc.js"><link rel="prefetch" href="/assets/js/v-5a814a99.25966e3d.js"><link rel="prefetch" href="/assets/js/v-5c362338.69b10094.js"><link rel="prefetch" href="/assets/js/v-4c863446.d8bde974.js"><link rel="prefetch" href="/assets/js/v-7beb5be1.16806d0c.js"><link rel="prefetch" href="/assets/js/v-728c3a8f.c26b1128.js"><link rel="prefetch" href="/assets/js/6613.c2b6cfcc.js"><link rel="prefetch" href="/assets/css/9717.styles.33e171de.css"><link rel="prefetch" href="/assets/js/4983.e4d70fa4.js"><link rel="prefetch" href="/assets/js/v-8daa1a0e.91727727.js"><link rel="prefetch" href="/assets/js/7455.4cdf8f46.js"><link rel="prefetch" href="/assets/js/7881.8cde9a91.js"><link rel="prefetch" href="/assets/js/v-65161197.681fc751.js"><link rel="prefetch" href="/assets/js/v-f7880a58.8ec0d844.js"><link rel="prefetch" href="/assets/js/v-5109092b.6c93c008.js"><link rel="prefetch" href="/assets/js/v-5cb1803c.c5517b7f.js"><link rel="prefetch" href="/assets/js/v-3019c66c.908d6ffc.js"><link rel="prefetch" href="/assets/js/v-4da84576.78bf9fab.js"><link rel="prefetch" href="/assets/js/v-79574331.52c1169e.js"><link rel="prefetch" href="/assets/js/v-56c5d014.857320ae.js"><link rel="prefetch" href="/assets/js/v-7812146a.b60175a2.js"><link rel="prefetch" href="/assets/js/v-03d57386.4d913503.js"><link rel="prefetch" href="/assets/js/v-26f70a8d.9be1bb12.js"><link rel="prefetch" href="/assets/js/v-2ab50b44.f986bc51.js"><link rel="prefetch" href="/assets/js/v-d0224b9a.6eaa3d62.js"><link rel="prefetch" href="/assets/js/v-3c966536.66340210.js"><link rel="prefetch" href="/assets/js/v-4c9dbeea.89e1e009.js"><link rel="prefetch" href="/assets/js/v-6ab5d844.c0ba3e5f.js"><link rel="prefetch" href="/assets/js/v-95714f4e.7ad6901c.js"><link rel="prefetch" href="/assets/js/v-0ae00356.4acb7127.js"><link rel="prefetch" href="/assets/js/v-10a04a2f.6e976fc1.js"><link rel="prefetch" href="/assets/js/v-2952ebd2.5686abab.js"><link rel="prefetch" href="/assets/js/v-3af016b0.6b54fcda.js"><link rel="prefetch" href="/assets/js/v-51a50d90.d53b572f.js"><link rel="prefetch" href="/assets/js/v-7b167472.edb89cd3.js"><link rel="prefetch" href="/assets/js/v-7f16123b.cf9c7e0a.js"><link rel="prefetch" href="/assets/js/v-a378ad66.4d1b6e34.js"><link rel="prefetch" href="/assets/js/v-f8dae2d4.891b42cb.js"><link rel="prefetch" href="/assets/js/v-1e447d61.c779ae71.js"><link rel="prefetch" href="/assets/js/v-5e0b61bd.0154c422.js"><link rel="prefetch" href="/assets/js/v-11f139c6.f972dbb0.js"><link rel="prefetch" href="/assets/js/v-a920ffc4.a3a39d77.js"><link rel="prefetch" href="/assets/js/v-2cce94e0.929488a6.js"><link rel="prefetch" href="/assets/js/v-4d850690.31bade4c.js"><link rel="prefetch" href="/assets/js/v-77e612a6.2fffef22.js"><link rel="prefetch" href="/assets/js/v-61cffec7.286aed4c.js"><link rel="prefetch" href="/assets/js/v-3e5b7ba3.cbe5208b.js"><link rel="prefetch" href="/assets/js/v-3e5b7b84.c80be64c.js"><link rel="prefetch" href="/assets/js/v-eba48dea.e8c55266.js"><link rel="prefetch" href="/assets/js/v-7ee76437.bc9ea58d.js"><link rel="prefetch" href="/assets/js/v-2ed043dc.2a542332.js"><link rel="prefetch" href="/assets/js/v-83e1f92e.e2c7794b.js"><link rel="prefetch" href="/assets/js/v-95f987f4.ec07ca4b.js"><link rel="prefetch" href="/assets/js/v-2671299e.2b9140e4.js"><link rel="prefetch" href="/assets/js/v-484552dc.11080a9b.js"><link rel="prefetch" href="/assets/js/v-794d224b.ed3ec918.js"><link rel="prefetch" href="/assets/js/v-245f5676.09a351cd.js"><link rel="prefetch" href="/assets/js/v-7d0ba9b4.97703546.js"><link rel="prefetch" href="/assets/js/v-65f163c6.b0a36ccd.js"><link rel="prefetch" href="/assets/js/v-06bbb224.dc545239.js"><link rel="prefetch" href="/assets/js/v-06bbb262.66991759.js"><link rel="prefetch" href="/assets/js/v-1a8900ba.0f8e20d0.js"><link rel="prefetch" href="/assets/js/v-1bee38ca.23f5493a.js"><link rel="prefetch" href="/assets/js/v-1e90405c.b8eb575c.js"><link rel="prefetch" href="/assets/js/v-0d1f4c3c.1ada6e3d.js"><link rel="prefetch" href="/assets/js/v-28a1d8bf.7af89f90.js"><link rel="prefetch" href="/assets/js/v-b308ce6a.5258b02b.js"><link rel="prefetch" href="/assets/js/v-b3165a4c.66b8b3dd.js"><link rel="prefetch" href="/assets/js/v-b310d42a.031750f2.js"><link rel="prefetch" href="/assets/js/v-0da0c339.cead7b90.js"><link rel="prefetch" href="/assets/js/v-01560935.df68b84d.js"><link rel="prefetch" href="/assets/js/v-5bc93818.cccb6fcb.js"><link rel="prefetch" href="/assets/js/v-75ed4ea4.bc353762.js"><link rel="prefetch" href="/assets/js/v-d804e652.a43df878.js"><link rel="prefetch" href="/assets/js/v-e52c881c.dd404686.js"><link rel="prefetch" href="/assets/js/v-744d024e.777793ef.js"><link rel="prefetch" href="/assets/js/v-154dc4c4.57690557.js"><link rel="prefetch" href="/assets/js/v-3706649a.848ff893.js"><link rel="prefetch" href="/assets/css/4158.styles.f581f063.css"><link rel="prefetch" href="/assets/css/8557.styles.66d3dc14.css"><link rel="prefetch" href="/assets/css/7031.styles.1ceedcd2.css">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo" src="/logo.svg" alt="coding-rode"><!----><span class="site-name hide-in-pad">coding-rode</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="ä¸»é¡µ"><span class="icon iconfont icon-home" style=""></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a href="/coding-road/home.html" class="nav-link" aria-label="è¿›é˜¶ä¹‹è·¯"><span class="icon iconfont icon-lujing" style=""></span>è¿›é˜¶ä¹‹è·¯<!----></a></div><div class="nav-item hide-in-mobile"><a href="/xuexiluxian/" class="nav-link" aria-label="å­¦ä¹ è·¯çº¿"><span class="icon iconfont icon-luxian" style=""></span>å­¦ä¹ è·¯çº¿<!----></a></div><div class="nav-item hide-in-mobile"><a href="/article/" class="nav-link" aria-label="å…¨éƒ¨æ–‡ç« "><span class="icon iconfont icon-bzhan" style=""></span>å…¨éƒ¨æ–‡ç« <!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="çè—èµ„æº"><span class="title"><span class="icon iconfont icon-youzhi" style=""></span>çè—èµ„æº</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/coding-road/study-resource/download/java.html" class="nav-link" aria-label="Javaç”µå­ä¹¦ä¸‹è½½"><span class="icon iconfont icon-java" style=""></span>Javaç”µå­ä¹¦ä¸‹è½½<!----></a></li><li class="dropdown-item"><a href="/coding-road/study-resource/download/pdf.html" class="nav-link" aria-label="PDFå¹²è´§ç¬”è®°ä¸‹è½½"><span class="icon iconfont icon-pdf" style=""></span>PDFå¹²è´§ç¬”è®°ä¸‹è½½<!----></a></li><li class="dropdown-item"><a href="/coding-road/study-resource/download/learn-jianyi.html" class="nav-link" aria-label="å­¦ä¹ å»ºè®®"><span class="icon iconfont icon-xuexijianyi" style=""></span>å­¦ä¹ å»ºè®®<!----></a></li><li class="dropdown-item"><a href="/sidebar/sanfene/nixi.html" class="nav-link" aria-label="é¢æ¸£é€†è¢­"><span class="icon iconfont icon-zhunbei" style=""></span>é¢æ¸£é€†è¢­<!----></a></li><li class="dropdown-item"><a href="/coding-road/study-resource/download/nicearticle.html" class="nav-link" aria-label="ä¼˜è´¨æ–‡ç« "><span class="icon iconfont icon-youzhi" style=""></span>ä¼˜è´¨æ–‡ç« <!----></a></li><li class="dropdown-item"><a href="/coding-road/study-resource/download/history.html" class="nav-link" aria-label="ç½‘ç»œæ—¥å¿—"><span class="icon iconfont icon-rizhi" style=""></span>ç½‘ç»œæ—¥å¿—<!----></a></li></ul></button></div></div></nav><!----></div><div class="navbar-right"><!----><div class="nav-item"><!----></div><div class="nav-item"><a class="repo-link" href="https://github.com/thinkingme/thinkingme.github.io" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/coding-road/home.html" class="nav-link sidebar-link sidebar-page" aria-label="ä¸€ã€å‰è¨€"><!---->ä¸€ã€å‰è¨€<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">äºŒã€Javaæ ¸å¿ƒ</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">ä¸‰ã€Javaä¼ä¸šçº§å¼€å‘</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">å››ã€æ•°æ®åº“</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><span class="title">äº”ã€è®¡ç®—æœºåŸºç¡€</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/coding-road/cs/os.html" class="nav-link sidebar-link sidebar-page" aria-label="è®¡ç®—æœºæ“ä½œç³»ç»ŸçŸ¥è¯†ç‚¹å¤§æ¢³ç†"><!---->è®¡ç®—æœºæ“ä½œç³»ç»ŸçŸ¥è¯†ç‚¹å¤§æ¢³ç†<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/coding-road/cs/wangluo.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="è®¡ç®—æœºç½‘ç»œæ ¸å¿ƒçŸ¥è¯†ç‚¹å¤§æ¢³ç†"><!---->è®¡ç®—æœºç½‘ç»œæ ¸å¿ƒçŸ¥è¯†ç‚¹å¤§æ¢³ç†<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#osi-ä¸ƒå±‚æ¨¡å‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="OSI ä¸ƒå±‚æ¨¡å‹"><!---->OSI ä¸ƒå±‚æ¨¡å‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#tcp-å’Œ-ip-æ¨¡å‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="TCP å’Œ IP æ¨¡å‹"><!---->TCP å’Œ IP æ¨¡å‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#ç½‘ç»œè®¾å¤‡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç½‘ç»œè®¾å¤‡"><!---->ç½‘ç»œè®¾å¤‡<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#äº¤æ¢æœº" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="äº¤æ¢æœº"><!---->äº¤æ¢æœº<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#è·¯ç”±å™¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è·¯ç”±å™¨"><!---->è·¯ç”±å™¨<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#http" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="HTTP"><!---->HTTP<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#çŠ¶æ€ç " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="çŠ¶æ€ç "><!---->çŠ¶æ€ç <!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#http1-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="HTTP1.1"><!---->HTTP1.1<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#http2-0" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="HTTP2.0"><!---->HTTP2.0<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#http3-0" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="HTTP3.0"><!---->HTTP3.0<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#https" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="HTTPS"><!---->HTTPS<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#è¯·æ±‚æŠ¥æ–‡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è¯·æ±‚æŠ¥æ–‡"><!---->è¯·æ±‚æŠ¥æ–‡<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#å“åº”æŠ¥æ–‡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å“åº”æŠ¥æ–‡"><!---->å“åº”æŠ¥æ–‡<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#tcp" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="TCP"><!---->TCP<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#æŠ¥æ–‡æ®µ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æŠ¥æ–‡æ®µ"><!---->æŠ¥æ–‡æ®µ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#ç²˜åŒ…ä¸æ‹†åŒ…" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç²˜åŒ…ä¸æ‹†åŒ…"><!---->ç²˜åŒ…ä¸æ‹†åŒ…<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#ä¸‰æ¬¡æ¡æ‰‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸‰æ¬¡æ¡æ‰‹"><!---->ä¸‰æ¬¡æ¡æ‰‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#å››æ¬¡æŒ¥æ‰‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å››æ¬¡æŒ¥æ‰‹"><!---->å››æ¬¡æŒ¥æ‰‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#æµé‡æ§åˆ¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æµé‡æ§åˆ¶"><!---->æµé‡æ§åˆ¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#æ‹¥å¡æ§åˆ¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ‹¥å¡æ§åˆ¶"><!---->æ‹¥å¡æ§åˆ¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#socket" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Socket"><!---->Socket<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#udp" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="UDP"><!---->UDP<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#æŠ¥æ–‡æ®µ-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æŠ¥æ–‡æ®µ"><!---->æŠ¥æ–‡æ®µ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#ç½‘ç»œå±‚" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç½‘ç»œå±‚"><!---->ç½‘ç»œå±‚<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#mac-åœ°å€" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MAC åœ°å€"><!---->MAC åœ°å€<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#ip-åœ°å€" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="IP åœ°å€"><!---->IP åœ°å€<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#å­ç½‘æ©ç " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å­ç½‘æ©ç "><!---->å­ç½‘æ©ç <!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#ç½‘å…³" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç½‘å…³"><!---->ç½‘å…³<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#ping" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Ping"><!---->Ping<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#dns" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="DNS"><!---->DNS<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#arp-åè®®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ARP åè®®"><!---->ARP åè®®<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#æ•°å­—ç­¾å" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•°å­—ç­¾å"><!---->æ•°å­—ç­¾å<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#sql-æ³¨å…¥" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="SQL æ³¨å…¥"><!---->SQL æ³¨å…¥<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#åŠ å¯†ç®—æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åŠ å¯†ç®—æ³•"><!---->åŠ å¯†ç®—æ³•<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#å¯¹ç§°åŠ å¯†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¯¹ç§°åŠ å¯†"><!---->å¯¹ç§°åŠ å¯†<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#éå¯¹ç§°åŠ å¯†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="éå¯¹ç§°åŠ å¯†"><!---->éå¯¹ç§°åŠ å¯†<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#ç½‘ç»œæ”»å‡»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç½‘ç»œæ”»å‡»"><!---->ç½‘ç»œæ”»å‡»<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#csrf-å’Œ-xss" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="CSRF å’Œ XSS"><!---->CSRF å’Œ XSS<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#dos-æ”»å‡»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="DOS æ”»å‡»"><!---->DOS æ”»å‡»<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#cookie-å’Œ-session" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Cookie å’Œ Session"><!---->Cookie å’Œ Session<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/coding-road/cs/wangluo.html#å¸¸è§é¢è¯•é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¸¸è§é¢è¯•é¢˜"><!---->å¸¸è§é¢è¯•é¢˜<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">å…­ã€æ±‚èŒé¢è¯•</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">ä¸ƒã€å­¦ä¹ èµ„æº</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">å…«ã€è”ç³»ä½œè€…</span><span class="arrow right"></span></button><!----></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->è®¡ç®—æœºç½‘ç»œæ ¸å¿ƒçŸ¥è¯†ç‚¹å¤§æ¢³ç†</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://thinkingme.github.io" target="_blank" rel="noopener noreferrer">thinkingme</a></span><span property="author" content="thinkingme"></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022å¹´5æœˆ27æ—¥</span><meta property="datePublished" content="2022-05-27T02:04:56.000Z"></span><span class="category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li class="category category4 clickable" role="navigation">è®¡ç®—æœºåŸºç¡€</li><meta property="articleSection" content="è®¡ç®—æœºåŸºç¡€"></ul></span><span aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li class="tag tag2 clickable" role="navigation">è®¡ç®—æœºç½‘ç»œ</li></ul><meta property="keywords" content="è®¡ç®—æœºç½‘ç»œ"></span><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 73 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT73M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#osi-ä¸ƒå±‚æ¨¡å‹" class="router-link-active router-link-exact-active toc-link level2">OSI ä¸ƒå±‚æ¨¡å‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#tcp-å’Œ-ip-æ¨¡å‹" class="router-link-active router-link-exact-active toc-link level2">TCP å’Œ IP æ¨¡å‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#ç½‘ç»œè®¾å¤‡" class="router-link-active router-link-exact-active toc-link level2">ç½‘ç»œè®¾å¤‡</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#äº¤æ¢æœº" class="router-link-active router-link-exact-active toc-link level3">äº¤æ¢æœº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#è·¯ç”±å™¨" class="router-link-active router-link-exact-active toc-link level3">è·¯ç”±å™¨</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#http" class="router-link-active router-link-exact-active toc-link level2">HTTP</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#çŠ¶æ€ç " class="router-link-active router-link-exact-active toc-link level3">çŠ¶æ€ç </a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#http1-1" class="router-link-active router-link-exact-active toc-link level3">HTTP1.1</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#http2-0" class="router-link-active router-link-exact-active toc-link level3">HTTP2.0</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#http3-0" class="router-link-active router-link-exact-active toc-link level3">HTTP3.0</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#https" class="router-link-active router-link-exact-active toc-link level3">HTTPS</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#è¯·æ±‚æŠ¥æ–‡" class="router-link-active router-link-exact-active toc-link level3">è¯·æ±‚æŠ¥æ–‡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#å“åº”æŠ¥æ–‡" class="router-link-active router-link-exact-active toc-link level3">å“åº”æŠ¥æ–‡</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#tcp" class="router-link-active router-link-exact-active toc-link level2">TCP</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#æŠ¥æ–‡æ®µ" class="router-link-active router-link-exact-active toc-link level3">æŠ¥æ–‡æ®µ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#ç²˜åŒ…ä¸æ‹†åŒ…" class="router-link-active router-link-exact-active toc-link level3">ç²˜åŒ…ä¸æ‹†åŒ…</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#ä¸‰æ¬¡æ¡æ‰‹" class="router-link-active router-link-exact-active toc-link level3">ä¸‰æ¬¡æ¡æ‰‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#å››æ¬¡æŒ¥æ‰‹" class="router-link-active router-link-exact-active toc-link level3">å››æ¬¡æŒ¥æ‰‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#æµé‡æ§åˆ¶" class="router-link-active router-link-exact-active toc-link level3">æµé‡æ§åˆ¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#æ‹¥å¡æ§åˆ¶" class="router-link-active router-link-exact-active toc-link level3">æ‹¥å¡æ§åˆ¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#socket" class="router-link-active router-link-exact-active toc-link level3">Socket</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#udp" class="router-link-active router-link-exact-active toc-link level2">UDP</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#æŠ¥æ–‡æ®µ-1" class="router-link-active router-link-exact-active toc-link level3">æŠ¥æ–‡æ®µ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#ç½‘ç»œå±‚" class="router-link-active router-link-exact-active toc-link level2">ç½‘ç»œå±‚</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#mac-åœ°å€" class="router-link-active router-link-exact-active toc-link level3">MAC åœ°å€</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#ip-åœ°å€" class="router-link-active router-link-exact-active toc-link level3">IP åœ°å€</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#å­ç½‘æ©ç " class="router-link-active router-link-exact-active toc-link level3">å­ç½‘æ©ç </a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#ç½‘å…³" class="router-link-active router-link-exact-active toc-link level3">ç½‘å…³</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#ping" class="router-link-active router-link-exact-active toc-link level3">Ping</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#dns" class="router-link-active router-link-exact-active toc-link level3">DNS</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#arp-åè®®" class="router-link-active router-link-exact-active toc-link level3">ARP åè®®</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#æ•°å­—ç­¾å" class="router-link-active router-link-exact-active toc-link level2">æ•°å­—ç­¾å</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#sql-æ³¨å…¥" class="router-link-active router-link-exact-active toc-link level2">SQL æ³¨å…¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#åŠ å¯†ç®—æ³•" class="router-link-active router-link-exact-active toc-link level2">åŠ å¯†ç®—æ³•</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#å¯¹ç§°åŠ å¯†" class="router-link-active router-link-exact-active toc-link level3">å¯¹ç§°åŠ å¯†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#éå¯¹ç§°åŠ å¯†" class="router-link-active router-link-exact-active toc-link level3">éå¯¹ç§°åŠ å¯†</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#ç½‘ç»œæ”»å‡»" class="router-link-active router-link-exact-active toc-link level2">ç½‘ç»œæ”»å‡»</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#csrf-å’Œ-xss" class="router-link-active router-link-exact-active toc-link level3">CSRF å’Œ XSS</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#dos-æ”»å‡»" class="router-link-active router-link-exact-active toc-link level3">DOS æ”»å‡»</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#cookie-å’Œ-session" class="router-link-active router-link-exact-active toc-link level2">Cookie å’Œ Session</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/coding-road/cs/wangluo.html#å¸¸è§é¢è¯•é¢˜" class="router-link-active router-link-exact-active toc-link level2">å¸¸è§é¢è¯•é¢˜</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="è®¡ç®—æœºç½‘ç»œæ ¸å¿ƒçŸ¥è¯†ç‚¹å¤§æ¢³ç†" tabindex="-1"><a class="header-anchor" href="#è®¡ç®—æœºç½‘ç»œæ ¸å¿ƒçŸ¥è¯†ç‚¹å¤§æ¢³ç†" aria-hidden="true">#</a> è®¡ç®—æœºç½‘ç»œæ ¸å¿ƒçŸ¥è¯†ç‚¹å¤§æ¢³ç†</h1><blockquote><p>ä½œè€…ï¼šæœˆä¼´é£é±¼ï¼Œè½¬è½½é“¾æ¥ï¼š<a href="https://mp.weixin.qq.com/s/7EddtzpwIRvYfw34QE4zvw" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s/7EddtzpwIRvYfw34QE4zvw<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-608345cf-8378-4b34-bc91-ca6d2fa25da7.png" alt="" loading="lazy"></p><h2 id="osi-ä¸ƒå±‚æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#osi-ä¸ƒå±‚æ¨¡å‹" aria-hidden="true">#</a> OSI ä¸ƒå±‚æ¨¡å‹</h2><p><strong>ç‰©ç†å±‚</strong></p><p>é¦–å…ˆè§£å†³ä¸¤å°ç‰©ç†æœºä¹‹é—´çš„é€šä¿¡éœ€æ±‚ï¼Œå…·ä½“å°±æ˜¯æœºå™¨ A å¾€æœºå™¨ B å‘é€æ¯”ç‰¹æµï¼Œæœºå™¨ B èƒ½æ”¶åˆ°æ¯”ç‰¹æµã€‚</p><p>ç‰©ç†å±‚ä¸»è¦å®šä¹‰äº†ç‰©ç†è®¾å¤‡çš„æ ‡å‡†ï¼Œå¦‚ç½‘çº¿çš„ç±»å‹ï¼Œå…‰çº¤çš„æ¥å£ç±»å‹ï¼Œå„ç§ä¼ è¾“ä»‹è´¨çš„ä¼ è¾“é€Ÿç‡ã€‚</p><p>ä¸»è¦ä½œç”¨æ˜¯ä¼ è¾“æ¯”ç‰¹æµï¼ˆ<code>0101</code>äºŒè¿›åˆ¶æ•°æ®ï¼‰ï¼Œå°†æ¯”ç‰¹æµè½¬åŒ–ä¸ºç”µæµå¼ºå¼±ä¼ è¾“ï¼Œåˆ°è¾¾ç›®çš„åå†è½¬åŒ–ä¸ºæ¯”ç‰¹æµï¼Œå³å¸¸è¯´çš„æ•°æ¨¡è½¬åŒ–å’Œæ¨¡æ•°è½¬æ¢ã€‚</p><p>è¿™å±‚æ•°æ®å«åšæ¯”ç‰¹ã€‚<strong>ç½‘å¡å·¥ä½œåœ¨è¿™å±‚</strong>ã€‚</p><p>ç‰©ç†å±‚æ˜¯ OSI ä¸ƒå±‚æ¨¡å‹çš„ç‰©ç†åŸºç¡€ï¼Œæ²¡æœ‰å®ƒå°±è°ˆä¸ä¸Šæ•°æ®ä¼ è¾“äº†</p><p>ç‰©ç†å±‚å°±æ˜¯ç”±å®ç‰©æ‰€æ‰¿è½½çš„ï¼Œæ‰€ä»¥ä½œæ¯”å–»çš„è¯ï¼Œå…¬è·¯ã€æ±½è½¦å’Œé£æœºç­‰æ‰¿è½½è´§ç‰©ï¼ˆæ•°æ®ï¼‰çš„äº¤é€šå·¥å…·ï¼Œå°±æ˜¯ç‰©ç†å±‚çš„è±¡å¾</p><p><strong>æ•°æ®é“¾è·¯å±‚</strong></p><p>åœ¨ä¼ è¾“æ¯”ç‰¹æµçš„è¿‡ç¨‹ä¸­ï¼Œä¼šäº§ç”Ÿé”™ä¼ ã€æ•°æ®ä¼ è¾“ä¸å®Œæ•´çš„å¯èƒ½ã€‚</p><p>æ•°æ®é“¾è·¯å±‚å®šä¹‰äº†<strong>å¦‚ä½•æ ¼å¼åŒ–æ•°æ®è¿›è¡Œä¼ è¾“</strong>ï¼Œä»¥åŠå¦‚ä½•æ§åˆ¶å¯¹ç‰©ç†ä»‹è´¨çš„è®¿é—®ã€‚é€šå¸¸æä¾›é”™è¯¯æ£€æµ‹å’Œçº æ­£ï¼Œä»¥ç¡®ä¿æ•°æ®ä¼ è¾“çš„å‡†ç¡®æ€§ã€‚</p><p>æœ¬å±‚å°†æ¯”ç‰¹æ•°æ®ç»„æˆå¸§ï¼Œäº¤æ¢æœºå·¥ä½œåœ¨è¿™å±‚ï¼Œå¯¹å¸§è§£ç ï¼Œå¹¶æ ¹æ®å¸§ä¸­åŒ…å«çš„ä¿¡æ¯æŠŠæ•°æ®å‘é€åˆ°æ­£ç¡®çš„æ¥æ”¶æ–¹ã€‚</p><p>è¯¥å±‚è´Ÿè´£ç‰©ç†å±‚é¢ä¸Šäº’è¿çš„èŠ‚ç‚¹ä¹‹é—´çš„é€šä¿¡ä¼ è¾“ã€‚ä¾‹å¦‚ä¸ 1 ä¸ªä»¥å¤ªç½‘ç›¸è¿çš„ä¸¤ä¸ªèŠ‚ç‚¹é—´çš„é€šè®¯ã€‚</p><p>å¸¸è§çš„åè®®æœ‰ <code>HDLCã€PPPã€SLIP</code>ç­‰</p><p>æ•°æ®é“¾è·¯å±‚ä¼šå°†<code>0ã€1</code>åºåˆ—åˆ’åˆ†ä¸ºå…·æœ‰æ„ä¹‰çš„æ•°æ®å¸§ä¼ é€ç»™å¯¹ç«¯ï¼ˆ<strong>æ•°æ®å¸§çš„ç”Ÿæˆä¸æ¥æ”¶</strong>ï¼‰</p><p><strong>ç½‘ç»œå±‚</strong></p><p>éšç€ç½‘ç»œèŠ‚ç‚¹çš„ä¸æ–­å¢åŠ ï¼Œç‚¹å¯¹ç‚¹é€šè®¯éœ€è¦é€šè¿‡å¤šä¸ªèŠ‚ç‚¹ï¼Œå¦‚ä½•æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œå¦‚ä½•é€‰æ‹©æœ€ä½³è·¯å¾„æˆä¸ºé¦–è¦éœ€æ±‚ã€‚</p><p>ç½‘ç»œå±‚ä¸»è¦åŠŸèƒ½æ˜¯å°†ç½‘ç»œåœ°å€è½¬åŒ–ä¸ºå¯¹åº”çš„ç‰©ç†åœ°å€ï¼Œå¹¶å†³å®šå¦‚ä½•å°†æ•°æ®ä»å‘é€æ–¹è·¯ç”±åˆ°æ¥æ”¶æ–¹ã€‚</p><p>ç½‘ç»œå±‚é€šè¿‡ç»¼åˆè€ƒè™‘å‘é€ä¼˜å…ˆæƒã€ç½‘ç»œæ‹¥å¡ç¨‹åº¦ã€æœåŠ¡è´¨é‡ä»¥åŠå¯é€‰è·¯ç”±çš„èŠ±è´¹æ¥å†³å®šä»ä¸€ä¸ªç½‘ç»œä¸­èŠ‚ç‚¹ A åˆ°å¦ä¸€ä¸ªç½‘ç»œä¸­èŠ‚ç‚¹ B çš„æœ€ä½³è·¯å¾„ã€‚</p><p>ç”±äºç½‘ç»œå±‚å¤„ç†å¹¶æ™ºèƒ½æŒ‡å¯¼æ•°æ®ä¼ é€ï¼Œè·¯ç”±å™¨è¿æ¥ç½‘ç»œéš”æ–­ï¼Œæ‰€ä»¥è·¯ç”±å™¨å±äºç½‘ç»œå±‚ã€‚</p><p>æ­¤å±‚çš„æ•°æ®ç§°ä¹‹ä¸ºæ•°æ®åŒ…ã€‚æœ¬å±‚éœ€è¦å…³æ³¨çš„åè®®<code>TCP/IP</code>åè®®ä¸­çš„ IP åè®®ã€‚</p><p>ç½‘ç»œå±‚è´Ÿè´£å°†æ•°æ®ä¼ è¾“åˆ°ç›®æ ‡åœ°å€ã€‚ç›®æ ‡åœ°å€å¯ä»¥ä½¿å¤šä¸ªç½‘ç»œé€šè¿‡è·¯ç”±å™¨è¿æ¥è€Œæˆçš„æŸä¸€ä¸ªåœ°å€ã€‚å› æ­¤è¿™ä¸€å±‚ä¸»è¦è´Ÿè´£<strong>å¯»å€å’Œè·¯ç”±é€‰æ‹©</strong>ã€‚ä¸»è¦ç”± <code>IPã€ICMP</code> ä¸¤ä¸ªåè®®ç»„æˆ</p><p>ç½‘ç»œå±‚å°†æ•°æ®ä»å‘é€ç«¯çš„ä¸»æœºå‘é€åˆ°æ¥æ”¶ç«¯çš„ä¸»æœºï¼Œä¸¤å°ä¸»æœºé—´å¯èƒ½ä¼šå­˜åœ¨å¾ˆå¤šæ•°æ®é“¾è·¯ï¼Œä½†ç½‘ç»œå±‚å°±æ˜¯è´Ÿè´£æ‰¾å‡ºä¸€æ¡ç›¸å¯¹é¡ºç•…çš„é€šè·¯å°†æ•°æ®ä¼ é€’è¿‡å»ã€‚ä¼ è¾“çš„åœ°å€ä½¿ç”¨çš„æ˜¯ IP åœ°å€ã€‚IP åœ°å€é€šè¿‡ä¸æ–­è½¬å‘åˆ°æ›´è¿‘çš„ IP åœ°å€ï¼Œæœ€ç»ˆå¯ä»¥åˆ°è¾¾ç›®æ ‡åœ°å€</p><p><strong>ä¼ è¾“å±‚</strong></p><p>éšç€ç½‘ç»œé€šä¿¡éœ€æ±‚çš„è¿›ä¸€æ­¥æ‰©å¤§ï¼Œé€šä¿¡è¿‡ç¨‹ä¸­éœ€è¦å‘é€å¤§é‡çš„æ•°æ®ï¼Œå¦‚æµ·é‡æ–‡ä»¶ä¼ è¾“ï¼Œå¯èƒ½éœ€è¦å¾ˆé•¿æ—¶é—´ï¼Œç½‘ç»œåœ¨é€šä¿¡çš„è¿‡ç¨‹ä¸­ä¼šä¸­æ–­å¾ˆå¤šæ¬¡ï¼Œæ­¤æ—¶ä¸ºäº†ä¿è¯ä¼ è¾“å¤§é‡æ–‡ä»¶æ—¶çš„å‡†ç¡®æ€§ï¼Œéœ€è¦å¯¹å‘é€å‡ºå»çš„æ•°æ®è¿›è¡Œåˆ‡åˆ†ï¼Œåˆ‡å‰²ä¸ºä¸€ä¸ªä¸€ä¸ªçš„æ®µè½ï¼ˆ<code>Segement</code>ï¼‰å‘é€ï¼Œå…¶ä¸­ä¸€ä¸ªæ®µè½ä¸¢å¤±æ˜¯å¦é‡ä¼ ï¼Œæ®µè½æ˜¯å¦æŒ‰é¡ºåºåˆ°è¾¾ï¼Œæ˜¯ä¼ è¾“å±‚éœ€è¦è€ƒè™‘çš„é—®é¢˜ã€‚</p><p>ä¼ è¾“å±‚è§£å†³äº†ä¸»æœºé—´çš„æ•°æ®ä¼ è¾“ï¼Œæ•°æ®é—´çš„ä¼ è¾“å¯ä»¥æ˜¯ä¸åŒç½‘ç»œï¼Œå¹¶ä¸”ä¼ è¾“å±‚è§£å†³äº†<strong>ä¼ è¾“è´¨é‡</strong>çš„é—®é¢˜ã€‚</p><p>ä¼ è¾“å±‚éœ€è¦å…³æ³¨çš„åè®®æœ‰ TCP/IP åè®®ä¸­çš„<code>TCP</code>åè®®å’Œ<code>UDP</code>åè®®ã€‚</p><p><strong>ä¼šè¯å±‚</strong></p><p>è‡ªåŠ¨æ”¶å‘åŒ…ï¼Œè‡ªåŠ¨å¯»å€ã€‚</p><p>ä¼šè¯å±‚ä½œç”¨æ˜¯<strong>è´Ÿè´£å»ºç«‹å’Œæ–­å¼€é€šä¿¡è¿æ¥</strong>ï¼Œä½•æ—¶å»ºç«‹ï¼Œæ–­å¼€è¿æ¥ä»¥åŠä¿æŒå¤šä¹…çš„è¿æ¥ã€‚å¸¸è§çš„åè®®æœ‰ <code>ADSPã€RPC</code> ç­‰</p><p><strong>è¡¨ç¤ºå±‚</strong></p><p>Linux ç»™ WIndows å‘åŒ…ï¼Œä¸åŒç³»ç»Ÿè¯­æ³•ä¸ä¸€è‡´ï¼Œå¦‚ exe ä¸èƒ½åœ¨<code>Linux</code>ä¸‹æ‰§è¡Œï¼Œshell ä¸èƒ½åœ¨ Windows ä¸èƒ½ç›´æ¥è¿è¡Œã€‚äºæ˜¯éœ€è¦è¡¨ç¤ºå±‚ã€‚</p><p>è§£å†³<strong>ä¸åŒç³»ç»Ÿä¹‹é—´é€šä¿¡è¯­æ³•é—®é¢˜</strong>ï¼Œåœ¨è¡¨ç¤ºå±‚æ•°æ®å°†æŒ‰ç…§ç½‘ç»œèƒ½ç†è§£çš„æ–¹æ¡ˆè¿›è¡Œæ ¼å¼åŒ–ï¼Œæ ¼å¼åŒ–å› æ‰€ä½¿ç”¨ç½‘ç»œçš„ä¸åŒè€Œä¸åŒã€‚</p><p>å®ƒä¸»è¦è´Ÿè´£æ•°æ®æ ¼å¼çš„è½¬æ¢ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯è®²è®¾å¤‡å›ºæœ‰çš„æ•°æ®æ ¼å¼è½¬æ¢ä¸ºç½‘ç»œæ ‡å‡†æ ¼å¼ã€‚å¸¸è§çš„åè®®æœ‰<code>ASCIIã€SSL/TLS</code> ç­‰</p><p><strong>åº”ç”¨å±‚</strong></p><p>è§„å®šå‘é€æ–¹å’Œæ¥æ”¶æ–¹å¿…é¡»ä½¿ç”¨ä¸€ä¸ªå›ºå®šé•¿åº¦çš„æ¶ˆæ¯å¤´ï¼Œæ¶ˆæ¯å¤´å¿…é¡»ä½¿ç”¨æŸç§å›ºå®šçš„ç»„æˆï¼Œæ¶ˆæ¯å¤´ä¸­å¿…é¡»è®°å½•æ¶ˆæ¯ä½“çš„é•¿åº¦ç­‰ä¿¡æ¯ï¼Œæ–¹ä¾¿æ¥æ”¶æ–¹æ­£ç¡®è§£æå‘é€æ–¹å‘é€çš„æ•°æ®ã€‚</p><p>åº”ç”¨å±‚æ—¨åœ¨æ›´<strong>æ–¹ä¾¿åº”ç”¨ä»ç½‘ç»œä¸­æ¥æ”¶çš„æ•°æ®</strong>ï¼Œé‡ç‚¹å…³æ³¨<code>TCP/IP</code>åè®®ä¸­çš„ HTTP åè®®</p><p>å››å±‚ä¼ è¾“å±‚æ•°æ®è¢«ç§°ä½œ<strong>æ®µ</strong>ï¼ˆSegmentsï¼‰ï¼›</p><p>ä¸‰å±‚ç½‘ç»œå±‚æ•°æ®è¢«ç§°åš<strong>åŒ…</strong>ï¼ˆPackagesï¼‰ï¼›</p><p>äºŒå±‚æ•°æ®é“¾è·¯å±‚æ—¶æ•°æ®è¢«ç§°ä¸º<strong>å¸§</strong>ï¼ˆFramesï¼‰ï¼›</p><p>ä¸€å±‚ç‰©ç†å±‚æ—¶æ•°æ®è¢«ç§°ä¸º<strong>æ¯”ç‰¹æµ</strong>ï¼ˆBitsï¼‰ã€‚</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-d1fdc5fc-c955-4591-9c95-e297a64eccdc.png" alt="" loading="lazy"></p><h2 id="tcp-å’Œ-ip-æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#tcp-å’Œ-ip-æ¨¡å‹" aria-hidden="true">#</a> TCP å’Œ IP æ¨¡å‹</h2><p>OSI æ¨¡å‹æ³¨é‡é€šä¿¡åè®®å¿…è¦çš„åŠŸèƒ½ï¼›TCP/IP æ›´å¼ºè°ƒåœ¨è®¡ç®—æœºä¸Šå®ç°åè®®åº”è¯¥å¼€å‘å“ªç§ç¨‹åº</p><p><strong>TCP/IP åˆ’åˆ†äº†å››å±‚ç½‘ç»œæ¨¡å‹</strong></p><ul><li>ç¬¬ä¸€å±‚ï¼šåº”ç”¨å±‚ï¼Œä¸»è¦æœ‰è´Ÿè´£ web æµè§ˆå™¨çš„ HTTP åè®®ï¼Œ æ–‡ä»¶ä¼ è¾“çš„ FTP åè®®ï¼Œè´Ÿè´£ç”µå­é‚®ä»¶çš„ SMTP åè®®ï¼Œè´Ÿè´£åŸŸåç³»ç»Ÿçš„ DNS ç­‰</li><li>ç¬¬äºŒå±‚ï¼šä¼ è¾“å±‚ï¼Œä¸»è¦æ˜¯æœ‰<strong>å¯é ä¼ è¾“</strong>çš„ TCP åè®®ï¼Œç‰¹åˆ«<strong>é«˜æ•ˆ</strong>çš„ UDP åè®®ã€‚ä¸»è¦è´Ÿè´£ä¼ è¾“åº”ç”¨å±‚çš„æ•°æ®åŒ…ã€‚</li><li>ç¬¬ä¸‰å±‚ï¼šç½‘ç»œå±‚ï¼Œä¸»è¦æ˜¯ IP åè®®ã€‚ä¸»è¦è´Ÿè´£å¯»å€ï¼ˆæ‰¾åˆ°ç›®æ ‡è®¾å¤‡çš„ä½ç½®ï¼‰</li><li>ç¬¬å››å±‚ï¼šæ•°æ®é“¾è·¯å±‚ï¼Œä¸»è¦æ˜¯è´Ÿè´£è½¬æ¢æ•°å­—ä¿¡å·å’Œç‰©ç†äºŒè¿›åˆ¶ä¿¡å·ã€‚</li></ul><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-fa4a4d20-f0db-4ba7-a31e-7772f2f132a8.png" alt="" loading="lazy"></p><p><strong>å››å±‚ç½‘ç»œåè®®çš„ä½œç”¨</strong></p><ul><li>å‘é€ç«¯æ˜¯ç”±ä¸Šè‡³ä¸‹ï¼ŒæŠŠä¸Šå±‚æ¥çš„æ•°æ®åœ¨å¤´éƒ¨åŠ ä¸Šå„å±‚åè®®çš„æ•°æ®ï¼ˆéƒ¨é¦–ï¼‰å†ä¸‹å‘ç»™ä¸‹å±‚ã€‚</li><li>æ¥å—ç«¯åˆ™ç”±ä¸‹è€Œä¸Šï¼ŒæŠŠä»ä¸‹å±‚æ¥å—åˆ°çš„æ•°æ®è¿›è¡Œè§£å¯†å’Œå»æ‰å¤´éƒ¨çš„éƒ¨é¦–åå†å‘é€ç»™ä¸Šå±‚ã€‚</li><li>å±‚å±‚åŠ å¯†å’Œè§£å¯†åï¼Œåº”ç”¨å±‚æœ€ç»ˆæ‹¿åˆ°äº†éœ€è¦çš„æ•°æ®ã€‚</li></ul><p><strong>ä¸¾ä¸ªä¾‹å­ï¼š</strong></p><p>æˆ‘ä»¬éœ€è¦å‘é€ä¸€ä¸ª<strong>index.html</strong>ã€‚</p><p>ä¸¤å°ç”µè„‘åœ¨åº”ç”¨å±‚éƒ½ä½¿ç”¨ HTTP åè®®ï¼ˆå³éƒ½ä½¿ç”¨æµè§ˆå™¨ï¼‰ã€‚</p><p>åœ¨ä¼ è¾“å±‚ï¼ŒTCP åè®®ä¼šå°† HTTP åè®®å‘é€çš„æ•°æ®çœ‹ä½œä¸€ä¸ªæ•°æ®åŒ…ï¼Œå¹¶åœ¨è¿™ä¸ªæ•°æ®åŒ…å‰é¢åŠ ä¸Š TCP åŒ…çš„ä¸€éƒ¨åˆ†ä¿¡æ¯ï¼ˆéƒ¨é¦–ï¼‰</p><p>åœ¨ç½‘ç»œå±‚ï¼ŒIP åè®®ä¼šå°† TCP åè®®è¦å‘é€çš„æ•°æ®çœ‹ä½œä¸€ä¸ªæ•°æ®åŒ…ï¼ŒåŒæ ·çš„åœ¨è¿™ä¸ªæ•°æ®åŒ…å‰ç«¯åŠ ä¸Š IP åè®®çš„éƒ¨é¦–</p><p>åœ¨æ•°æ®é“¾è·¯å±‚ï¼Œå¯¹åº”çš„åè®®ä¹Ÿä¼šåœ¨ IP æ•°æ®åŒ…å‰ç«¯åŠ ä¸Šä»¥å¤ªç½‘çš„éƒ¨é¦–ã€‚</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-1d3ce227-fd77-4b95-89dd-aeb786bb4b9e.png" alt="" loading="lazy"></p><p>æºè®¾å¤‡å’Œç›®æ ‡è®¾å¤‡é€šè¿‡ç½‘çº¿è¿æ¥ï¼Œå°±å¯ä»¥é€šè¿‡ç‰©ç†å±‚çš„äºŒè¿›åˆ¶ä¼ è¾“æ•°æ®ã€‚</p><p>æ•°æ®é“¾è·¯å±‚ï¼Œä¼šä½¿ç”¨å¯¹åº”çš„åè®®æ‰¾åˆ°ç‰©ç†å±‚çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œè§£ç å¾—åˆ°ä»¥å¤ªç½‘çš„éƒ¨é¦–ä¿¡æ¯å’Œå¯¹åº”çš„ IP æ•°æ®åŒ…ï¼Œå†å°† IP æ•°æ®åŒ…ä¼ ç»™ä¸Šå±‚çš„ç½‘ç»œå±‚ã€‚</p><p>æ•°æ®é“¾è·¯å±‚&gt;ç½‘ç»œå±‚&gt;ä¼ è¾“å±‚&gt;åº”ç”¨å±‚ï¼Œä¸€å±‚å±‚çš„è§£ç ï¼Œæœ€åå°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸­å¾—åˆ°ç›®æ ‡è®¾å¤‡ä¼ é€è¿‡æ¥çš„<strong>index.html</strong>ã€‚</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-731f7daa-1b47-4191-828f-c6e54d650604.png" alt="" loading="lazy"></p><p><strong>TCP/IP åè®®æ—</strong></p><p>ä»å­—é¢æ„ä¹‰ä¸Šæ¥è®²ï¼ŒTCP/IP æ˜¯æŒ‡<strong>ä¼ è¾“å±‚</strong>çš„ TCP åè®®å’Œ<strong>ç½‘ç»œå±‚</strong>çš„ IP åè®®ã€‚</p><p>å®é™…ä¸Šï¼ŒTCP/IP åªæ˜¯åˆ©ç”¨ IP è¿›è¡Œé€šä¿¡æ—¶æ‰€å¿…é¡»ç”¨åˆ°çš„åè®®ç¾¤çš„ç»Ÿç§°ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œåœ¨ç½‘ç»œå±‚æ˜¯ IP/ICMP åè®®ã€åœ¨ä¼ è¾“å±‚æ˜¯ TCP/UDP åè®®ã€åœ¨åº”ç”¨å±‚æ˜¯ SMTPã€FTPã€ä»¥åŠ HTTP ç­‰ã€‚ä»–ä»¬éƒ½å±äº TCP/IP åè®®ã€‚</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/xingbiaogongzhonghao.png" alt="" loading="lazy"></p><h2 id="ç½‘ç»œè®¾å¤‡" tabindex="-1"><a class="header-anchor" href="#ç½‘ç»œè®¾å¤‡" aria-hidden="true">#</a> ç½‘ç»œè®¾å¤‡</h2><h3 id="äº¤æ¢æœº" tabindex="-1"><a class="header-anchor" href="#äº¤æ¢æœº" aria-hidden="true">#</a> äº¤æ¢æœº</h3><p>äº¤æ¢æœºå¯ä»¥æ¥å…¥å¤šå°ç”µè„‘</p><p>æ¯ä¸ªç”µè„‘ç½‘å¡çš„ <strong>MAC åœ°å€</strong>éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œç”µè„‘å‘é€æ•°æ®æ—¶ï¼Œæ•°æ®å¤´éƒ¨æºå¸¦ç½‘å¡çš„ MAC åœ°å€ï¼Œç”¨ MAC åœ°å€æ ‡è¯†æ¥ä¸åŒçš„ç”µè„‘</p><p>äº¤æ¢æœºå°±å¯ä»¥è¯†åˆ«æ•°æ®å¤´éƒ¨çš„ MAC åœ°å€æ¥åŒºåˆ†ä¸åŒçš„ç”µè„‘</p><p>äº¤æ¢æœºé™¤äº†èƒ½è¯†åˆ«ä¸åŒçš„ç”µè„‘ï¼Œè¿˜éœ€è¦æ‰¾åˆ°ç”µè„‘è¿æ¥çš„<strong>äº¤æ¢æœºç«¯å£</strong>ï¼Œæ‰èƒ½é¡ºåˆ©çš„æŠŠæ•°æ®ä»ç›¸åº”ç«¯å£å‘é€å‡ºå»</p><p>äº¤æ¢æœºé€šè¿‡<strong>è‡ªå­¦æœºåˆ¶</strong>ï¼ŒæŠŠå­¦ä¹ åˆ°çš„è®¾å¤‡ MAC åœ°å€å’Œäº¤æ¢æœºç«¯å£å·æ·»åŠ åˆ° <strong>MAC åœ°å€è¡¨</strong>ï¼Œå¹¶æ ¹æ® MAC åœ°å€è¡¨è¿›è¡Œæ•°æ®<strong>è½¬å‘</strong></p><h3 id="è·¯ç”±å™¨" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±å™¨" aria-hidden="true">#</a> è·¯ç”±å™¨</h3><p>äº¤æ¢æœºéœ€è¦è®°å½•çš„ MAC åœ°å€è¡¨ä¹Ÿè¶Šæ¥è¶Šå¤šï¼Œéœ€è¦çš„äº¤æ¢æœºä¹Ÿè¶Šæ¥è¶Šå¤š</p><p>ä½†æ˜¯äº¤æ¢æœºçš„<strong>å®¹é‡å’Œæ€§èƒ½æœ‰é™</strong>ï¼ŒMAC åœ°å€è¡¨æ— æ³•è®°å½•å…¨ä¸–ç•Œç”µè„‘çš„ MAC åœ°å€å’Œå¯¹åº”çš„ç«¯å£å·ï¼ŒMAC åœ°å€è¡¨å¤ªå¤§ä¹Ÿæ— æ³•å¿«é€ŸæŸ¥æ‰¾åˆ°å¯¹åº”çš„ MAC åœ°å€è¡¨é¡¹</p><p>äºæ˜¯å°±æœ‰äº†ä¸‰å±‚ç½‘ç»œè®¾å¤‡<strong>è·¯ç”±å™¨</strong>ï¼Œè·¯ç”±å™¨å¯ä»¥æŠŠå…¨ä¸–ç•Œçš„ç½‘ç»œè¿æ¥èµ·æ¥</p><p>å±€åŸŸç½‘å†…çš„ç½‘ç»œè¿æ¥å¯ä»¥ä½¿ç”¨<strong>äº¤æ¢æœº</strong>ï¼Œä¾‹å¦‚ä¸€ä¸ªå…¬å¸å†…çš„ç½‘ç»œæˆ–è€…ä¸€ä¸ªæ ¡å›­å†…çš„ç½‘ç»œé€šè¿‡äº¤æ¢æœºè¿æ¥</p><p>ä¸åŒåŒºåŸŸçš„å±€åŸŸç½‘äº’è”ä½¿ç”¨<strong>è·¯ç”±å™¨</strong></p><blockquote><p>é‚£ä¹ˆå¦‚ä½•åŒºåˆ†ä¸åŒçš„ç½‘ç»œåŒºåŸŸå‘¢ï¼Ÿåˆæ˜¯å¦‚ä½•è·¨ç½‘ç»œåŒºåŸŸè¿›è¡Œæ•°æ®è½¬å‘çš„å‘¢ï¼Ÿ</p></blockquote><p>è·¯ç”±å™¨æœ‰å¤šä¸ªç«¯å£ï¼Œåˆ†åˆ«è¿æ¥ä¸åŒçš„ç½‘ç»œåŒºåŸŸï¼Œä¸åŒç½‘ç»œåŒºåŸŸçš„ IP åœ°å€<strong>ç½‘ç»œå·ä¸åŒ</strong></p><p>å®ƒé€šè¿‡è¯†åˆ«ç›®çš„ IP åœ°å€çš„<strong>ç½‘ç»œå·</strong>ï¼Œå†æ ¹æ®<strong>è·¯ç”±è¡¨</strong>è¿›è¡Œæ•°æ®è½¬å‘</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/xingbiaogongzhonghao.png" alt="" loading="lazy"></p><h2 id="http" tabindex="-1"><a class="header-anchor" href="#http" aria-hidden="true">#</a> HTTP</h2><p><strong>è¯·æ±‚æ–¹æ³•</strong></p><p>HTTP1.0 å®šä¹‰äº†ä¸‰ç§è¯·æ±‚æ–¹æ³•ï¼š GET, POST å’Œ HEAD æ–¹æ³•ã€‚</p><p>HTTP1.1 æ–°å¢äº†å…­ç§è¯·æ±‚æ–¹æ³•ï¼šOPTIONSã€PUTã€PATCHã€DELETEã€TRACE å’Œ CONNECT æ–¹æ³•ã€‚</p><table><thead><tr><th>åº å·</th><th>æ–¹æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>1</td><td>GET</td><td>è¯·æ±‚æŒ‡å®šçš„é¡µé¢ä¿¡æ¯ï¼Œå¹¶è¿”å›å®ä½“ä¸»ä½“ã€‚</td></tr><tr><td>2</td><td>HEAD</td><td>ç±»ä¼¼äº GET è¯·æ±‚ï¼Œåªä¸è¿‡è¿”å›çš„å“åº”ä¸­æ²¡æœ‰å…·ä½“çš„å†…å®¹ï¼Œç”¨äºè·å–æŠ¥å¤´</td></tr><tr><td>3</td><td>POST</td><td>å‘æŒ‡å®šèµ„æºæäº¤æ•°æ®è¿›è¡Œå¤„ç†è¯·æ±‚ï¼ˆä¾‹å¦‚æäº¤è¡¨å•æˆ–è€…ä¸Šä¼ æ–‡ä»¶ï¼‰ã€‚æ•°æ®è¢«åŒ…å«åœ¨è¯·æ±‚ä½“ä¸­ã€‚POST è¯·æ±‚å¯èƒ½ä¼šå¯¼è‡´æ–°çš„èµ„æºçš„å»ºç«‹å’Œ/æˆ–å·²æœ‰èµ„æºçš„ä¿®æ”¹ã€‚</td></tr><tr><td>4</td><td>PUT</td><td>ä»å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ä¼ é€çš„æ•°æ®å–ä»£æŒ‡å®šçš„æ–‡æ¡£çš„å†…å®¹ã€‚</td></tr><tr><td>5</td><td>DELETE</td><td>è¯·æ±‚æœåŠ¡å™¨åˆ é™¤æŒ‡å®šçš„é¡µé¢ã€‚</td></tr><tr><td>6</td><td>CONNECT</td><td>HTTP/1.1 åè®®ä¸­é¢„ç•™ç»™èƒ½å¤Ÿå°†è¿æ¥æ”¹ä¸ºç®¡é“æ–¹å¼çš„ä»£ç†æœåŠ¡å™¨ã€‚</td></tr><tr><td>7</td><td>OPTIONS</td><td>å…è®¸å®¢æˆ·ç«¯æŸ¥çœ‹æœåŠ¡å™¨çš„æ€§èƒ½ã€‚</td></tr><tr><td>8</td><td>TRACE</td><td>å›æ˜¾æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œä¸»è¦ç”¨äºæµ‹è¯•æˆ–è¯Šæ–­ã€‚</td></tr><tr><td>9</td><td>PATCH</td><td>æ˜¯å¯¹ PUT æ–¹æ³•çš„è¡¥å……ï¼Œç”¨æ¥å¯¹å·²çŸ¥èµ„æºè¿›è¡Œå±€éƒ¨æ›´æ–° ã€‚</td></tr></tbody></table><p><strong>GET è¯·æ±‚å’Œ POST è¯·æ±‚çš„åŒºåˆ«</strong></p><ol><li>GET è¯·æ±‚çš„è¯·æ±‚å‚æ•°æ˜¯æ·»åŠ åˆ° head ä¸­ï¼Œå¯ä»¥åœ¨ url ä¸­å¯ä»¥çœ‹åˆ°ï¼›POST è¯·æ±‚çš„è¯·æ±‚å‚æ•°æ˜¯æ·»åŠ åˆ° body ä¸­ï¼Œåœ¨ url ä¸­ä¸å¯è§ã€‚</li><li>è¯·æ±‚çš„ url æœ‰é•¿åº¦é™åˆ¶ï¼Œè¿™ä¸ªé™åˆ¶ç”±æµè§ˆå™¨å’Œ web æœåŠ¡å™¨å†³å®šå’Œè®¾ç½®çš„ï¼Œä¾‹å¦‚ IE æµè§ˆå™¨å¯¹ URL çš„æœ€å¤§é™åˆ¶ä¸º 2083 ä¸ªå­—ç¬¦ï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªæ•°å­—ï¼Œæäº¤æŒ‰é’®æ²¡æœ‰ä»»ä½•ååº”ï¼Œå› ä¸º GET è¯·æ±‚çš„å‚æ•°æ˜¯æ·»åŠ åˆ° URL ä¸­ï¼Œæ‰€ä»¥ GET è¯·æ±‚çš„ URL çš„é•¿åº¦é™åˆ¶éœ€è¦å°†è¯·æ±‚å‚æ•°é•¿åº¦ä¹Ÿè€ƒè™‘è¿›å»ã€‚è€Œ POST è¯·æ±‚ä¸ç”¨è€ƒè™‘è¯·æ±‚å‚æ•°çš„é•¿åº¦ã€‚</li><li>GET è¯·æ±‚äº§ç”Ÿä¸€ä¸ªæ•°æ®åŒ…; POST è¯·æ±‚äº§ç”Ÿ 2 ä¸ªæ•°æ®åŒ…ï¼Œåœ¨ç«ç‹æµè§ˆå™¨ä¸­ï¼Œäº§ç”Ÿä¸€ä¸ªæ•°æ®åŒ…ï¼Œè¿™ä¸ªåŒºåˆ«ç‚¹åœ¨äºæµè§ˆå™¨çš„è¯·æ±‚æœºåˆ¶ï¼Œå…ˆå‘é€è¯·æ±‚å¤´ï¼Œå†å‘é€è¯·æ±‚ä½“ï¼Œå› ä¸º GET æ²¡æœ‰è¯·æ±‚ä½“ï¼Œæ‰€ä»¥å°±å‘é€ä¸€ä¸ªæ•°æ®åŒ…ï¼Œè€Œ POST åŒ…å«è¯·æ±‚ä½“ï¼Œæ‰€ä»¥å‘é€ä¸¤æ¬¡æ•°æ®åŒ…ï¼Œä½†æ˜¯ç”±äºç«ç‹æœºåˆ¶ä¸åŒï¼Œæ‰€ä»¥å‘é€ä¸€ä¸ªæ•°æ®åŒ…ã€‚</li><li>GET è¯·æ±‚ä¼šè¢«æµè§ˆå™¨ä¸»åŠ¨ç¼“å­˜ä¸‹æ¥ï¼Œç•™ä¸‹å†å²è®°å½•ï¼Œè€Œ POST é»˜è®¤ä¸ä¼šã€‚</li><li>GET æ˜¯å¹‚ç­‰çš„ï¼Œè€Œ POST ä¸æ˜¯(å¹‚ç­‰è¡¨ç¤ºæ‰§è¡Œç›¸åŒçš„æ“ä½œï¼Œç»“æœä¹Ÿæ˜¯ç›¸åŒçš„)</li><li>GET æ˜¯è·å–æ•°æ®ï¼ŒPOST æ˜¯ä¿®æ”¹æ•°æ®</li></ol><h3 id="çŠ¶æ€ç " tabindex="-1"><a class="header-anchor" href="#çŠ¶æ€ç " aria-hidden="true">#</a> çŠ¶æ€ç </h3><p><strong>çŠ¶æ€ç ç”± 3 ä½æ•°å­—ç»„æˆï¼Œç¬¬ä¸€ä½å®šä¹‰å“åº”çš„ç±»åˆ«</strong></p><p>1XXï¼šæŒ‡ç¤ºä¿¡æ¯ï¼Œè¡¨ç¤ºè¯·æ±‚ä»¥æ¥æ”¶ï¼Œç»§ç»­å¤„ç†</p><p>2XXï¼šæˆåŠŸï¼Œè¡¨ç¤ºè¯·æ±‚å·²ç»è¢«æˆåŠŸæ¥æ”¶ã€ç†è§£ã€æ¥å—</p><ul><li><p>200 OK æ˜¯æœ€å¸¸è§çš„æˆåŠŸçŠ¶æ€ç ï¼Œè¡¨ç¤ºä¸€åˆ‡æ­£å¸¸ã€‚å¦‚æœæ˜¯é HEAD è¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿”å›çš„å“åº”å¤´éƒ½ä¼šæœ‰ body æ•°æ®ã€‚</p></li><li><p>204 No Content ä¹Ÿæ˜¯å¸¸è§çš„æˆåŠŸçŠ¶æ€ç ï¼Œä¸ 200 OK åŸºæœ¬ç›¸åŒï¼Œä½†å“åº”å¤´æ²¡æœ‰ body æ•°æ®ã€‚</p></li><li><p>206 Partial Content æ˜¯åº”ç”¨äº HTTP åˆ†å—ä¸‹è½½æˆ–æ–­ç”µç»­ä¼ ï¼Œè¡¨ç¤ºå“åº”è¿”å›çš„ body æ•°æ®å¹¶ä¸æ˜¯èµ„æºçš„å…¨éƒ¨ï¼Œè€Œæ˜¯å…¶ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯æœåŠ¡å™¨å¤„ç†æˆåŠŸçš„çŠ¶æ€ã€‚</p></li></ul><p>3XXï¼šçŠ¶æ€ç è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚çš„èµ„æºå‘é€äº†å˜åŠ¨ï¼Œéœ€è¦å®¢æˆ·ç«¯ç”¨æ–°çš„ URL é‡æ–°å‘é€è¯·æ±‚è·å–èµ„æºï¼Œä¹Ÿå°±æ˜¯<strong>é‡å®šå‘</strong>ã€‚</p><ul><li>301 Moved Permanently è¡¨ç¤ºæ°¸ä¹…é‡å®šå‘ï¼Œè¯´æ˜è¯·æ±‚çš„èµ„æºå·²ç»ä¸å­˜åœ¨äº†ï¼Œéœ€æ”¹ç”¨æ–°çš„ URL å†æ¬¡è®¿é—®ï¼Œæœç´¢å¼•æ“åœ¨æŠ“å–æ–°å†…å®¹çš„åŒæ—¶ä¹Ÿå°†æ—§çš„ç½‘å€äº¤æ¢ä¸ºé‡å®šå‘ä¹‹åçš„ç½‘å€ã€‚</li><li>302 Moved Permanently è¡¨ç¤ºä¸´æ—¶é‡å®šå‘ï¼Œè¯´æ˜è¯·æ±‚çš„èµ„æºè¿˜åœ¨ï¼Œä½†æš‚æ—¶éœ€è¦ç”¨å¦ä¸€ä¸ª URL æ¥è®¿é—®ï¼Œæœç´¢å¼•æ“ä¼šæŠ“å–æ–°çš„å†…å®¹è€Œä¿å­˜æ—§çš„ç½‘å€ã€‚</li></ul><p>301 å’Œ 302 éƒ½ä¼šåœ¨å“åº”å¤´é‡Œä½¿ç”¨å­—æ®µ Locationï¼ŒæŒ‡æ˜åç»­è¦è·³è½¬çš„ URLï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨é‡å®šå‘æ–°çš„ URLã€‚</p><ul><li>304 Not Modified ä¸å…·æœ‰è·³è½¬çš„å«ä¹‰ï¼Œè¡¨ç¤ºèµ„æºæœªä¿®æ”¹ï¼Œé‡å®šå‘å·²å­˜åœ¨çš„ç¼“å†²æ–‡ä»¶ï¼Œä¹Ÿç§°ç¼“å­˜é‡å®šå‘ï¼Œç”¨äºç¼“å­˜æ§åˆ¶ã€‚</li></ul><p>4XXï¼šçŠ¶æ€ç è¡¨ç¤ºå®¢æˆ·ç«¯å‘é€çš„<strong>æŠ¥æ–‡æœ‰è¯¯</strong>ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†ï¼Œä¹Ÿå°±æ˜¯é”™è¯¯ç çš„å«ä¹‰ã€‚</p><ul><li><p>400 Bad Request è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚çš„æŠ¥æ–‡æœ‰é”™è¯¯ã€‚</p></li><li><p>401 Unauthorizedï¼šç¼ºå¤±æˆ–é”™è¯¯çš„è®¤è¯ï¼Œè¿™ä¸ªçŠ¶æ€ä»£ç å¿…é¡»å’Œ WWW-Authenticate æŠ¥å¤´åŸŸä¸€èµ·ä½¿ç”¨ã€‚</p></li><li><p>403 Forbidden è¡¨ç¤ºæœåŠ¡å™¨ç¦æ­¢è®¿é—®èµ„æºï¼Œå¹¶ä¸æ˜¯å®¢æˆ·ç«¯çš„è¯·æ±‚å‡ºé”™ã€‚</p></li><li><p>404 Not Found è¡¨ç¤ºè¯·æ±‚çš„èµ„æºåœ¨æœåŠ¡å™¨ä¸Šä¸å­˜åœ¨æˆ–æœªæ‰¾åˆ°ï¼Œæ‰€ä»¥æ— æ³•æä¾›ç»™å®¢æˆ·ç«¯ã€‚</p></li></ul><p>5XXï¼šçŠ¶æ€ç è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚æŠ¥æ–‡æ­£ç¡®ï¼Œä½†æ˜¯<strong>æœåŠ¡å™¨å¤„ç†æ—¶å†…éƒ¨å‘ç”Ÿäº†é”™è¯¯</strong>ï¼Œå±äºæœåŠ¡å™¨ç«¯çš„é”™è¯¯ç ã€‚</p><ul><li><p>501 Not Implemented è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚çš„åŠŸèƒ½è¿˜ä¸æ”¯æŒã€‚</p></li><li><p>502 Bad Gateway é€šå¸¸æ˜¯æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†æ—¶è¿”å›çš„é”™è¯¯ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨è‡ªèº«å·¥ä½œæ­£å¸¸ï¼Œè®¿é—®åç«¯æœåŠ¡å™¨å‘ç”Ÿäº†é”™è¯¯ã€‚</p></li><li><p>503 Service Unavailable è¡¨ç¤ºæœåŠ¡å™¨å½“å‰å¾ˆå¿™ï¼Œæš‚æ—¶æ— æ³•å“åº”æœåŠ¡å™¨ã€‚</p></li><li><p>504 Gateway Timeoutï¼šç½‘å…³è¶…æ—¶ï¼Œç”±ä½œä¸ºä»£ç†æˆ–ç½‘å…³çš„æœåŠ¡å™¨ä½¿ç”¨ï¼Œè¡¨ç¤ºä¸èƒ½åŠæ—¶åœ°ä»è¿œç¨‹æœåŠ¡å™¨è·å¾—åº”ç­”ã€‚</p></li></ul><p><strong>301 å’Œ 302 çš„åŒºåˆ«</strong></p><p>301 é‡å®šå‘ï¼ŒæŒ‡é¡µé¢æ°¸ä¹…æ€§è½¬ç§»ï¼Œè¡¨ç¤ºä¸ºèµ„æºæˆ–é¡µé¢æ°¸ä¹…æ€§åœ°è½¬ç§»åˆ°äº†å¦ä¸€ä¸ªä½ç½®ã€‚</p><p>301 æ˜¯ HTTP åè®®ä¸­çš„ä¸€ç§çŠ¶æ€ç ï¼Œå½“ç”¨æˆ·æˆ–æœç´¢å¼•æ“å‘æœåŠ¡å™¨å‘å‡ºæµè§ˆè¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨è¿”å›çš„ HTTP æ•°æ®æµä¸­å¤´ä¿¡æ¯ä¸­åŒ…å«çŠ¶æ€ç  301 ï¼Œè¡¨ç¤ºè¯¥èµ„æºå·²ç»æ°¸ä¹…æ”¹å˜äº†ä½ç½®ã€‚</p><p>302 é‡å®šå‘æ˜¯é¡µé¢æš‚æ—¶æ€§è½¬ç§»ï¼Œæœç´¢å¼•æ“ä¼šæŠ“å–æ–°çš„å†…å®¹è€Œä¿å­˜æ—§çš„ç½‘å€å¹¶è®¤ä¸ºæ–°çš„ç½‘å€åªæ˜¯æš‚æ—¶çš„ã€‚</p><h3 id="http1-1" tabindex="-1"><a class="header-anchor" href="#http1-1" aria-hidden="true">#</a> HTTP1.1</h3><p><strong>é•¿è¿æ¥</strong></p><p>HTTP 1.1 æ”¯æŒé•¿è¿æ¥</p><p>HTTP 1.0 è§„å®šæµè§ˆå™¨ä¸æœåŠ¡å™¨åªä¿æŒçŸ­æš‚çš„è¿æ¥ï¼Œæµè§ˆå™¨çš„æ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦ä¸æœåŠ¡å™¨å»ºç«‹ä¸€ä¸ª TCP è¿æ¥ï¼ŒæœåŠ¡å™¨å®Œæˆè¯·æ±‚å¤„ç†åç«‹å³æ–­å¼€ TCP è¿æ¥ï¼ŒæœåŠ¡å™¨ä¸è·Ÿè¸ªæ¯ä¸ªå®¢æˆ·ä¹Ÿä¸è®°å½•è¿‡å»çš„è¯·æ±‚ã€‚</p><p>HTTP 1.1 åˆ™æ”¯æŒæŒä¹…è¿æ¥ Persistent Connectionï¼Œå¹¶ä¸”é»˜è®¤ä½¿ç”¨ï¼Œåœ¨åŒä¸€ä¸ª TCP çš„è¿æ¥ä¸­å¯ä»¥ä¼ é€å¤šä¸ª HTTP è¯·æ±‚å’Œå“åº”ï¼Œå¤šä¸ªè¯·æ±‚å’Œå“åº”å¯ä»¥é‡å ï¼Œå¤šä¸ªè¯·æ±‚å’Œå“åº”å¯ä»¥åŒæ—¶è¿›è¡Œï¼Œæ›´åŠ å¤šçš„è¯·æ±‚å¤´å’Œå“åº”å¤´</p><p>HTTP 1.1 çš„æŒç»­è¿æ¥ï¼Œä¹Ÿéœ€è¦å¢åŠ æ–°çš„è¯·æ±‚å¤´æ¥å¸®åŠ©å®ç°ï¼Œä¾‹å¦‚ï¼ŒConnection è¯·æ±‚å¤´çš„å€¼ä¸º Keep-Alive æ—¶ï¼Œå®¢æˆ·ç«¯é€šçŸ¥æœåŠ¡å™¨è¿”å›æœ¬æ¬¡è¯·æ±‚ç»“æœåä¿æŒè¿æ¥ï¼›Connection è¯·æ±‚å¤´çš„å€¼ä¸º Close æ—¶ï¼Œå®¢æˆ·ç«¯é€šçŸ¥æœåŠ¡å™¨è¿”å›æœ¬æ¬¡è¯·æ±‚ç»“æœåå…³é—­è¿æ¥ã€‚</p><p><strong>ç®¡é“ç½‘ç»œä¼ è¾“</strong></p><p>HTTP/1.1 é‡‡ç”¨äº†é•¿è¿æ¥çš„æ–¹å¼ï¼Œè¿™ä½¿å¾—ç®¡é“ç½‘ç»œä¼ è¾“æˆä¸ºäº†å¯èƒ½ã€‚</p><p>å³å¯åœ¨åŒä¸€ä¸ª TCP è¿æ¥é‡Œé¢ï¼Œå®¢æˆ·ç«¯å¯ä»¥å‘èµ·å¤šä¸ªè¯·æ±‚ï¼Œåªè¦ç¬¬ä¸€ä¸ªè¯·æ±‚å‘å‡ºå»äº†ï¼Œä¸å¿…ç­‰å…¶å›æ¥ï¼Œå°±å¯ä»¥å‘ç¬¬äºŒä¸ªè¯·æ±‚å‡ºå»ï¼Œå¯ä»¥<strong>å‡å°‘æ•´ä½“çš„å“åº”æ—¶é—´ã€‚</strong></p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œå®¢æˆ·ç«¯éœ€è¦è¯·æ±‚ä¸¤ä¸ªèµ„æºã€‚ä»¥å‰çš„åšæ³•æ˜¯ï¼Œåœ¨åŒä¸€ä¸ª TCP è¿æ¥é‡Œé¢ï¼Œå…ˆå‘é€ A è¯·æ±‚ï¼Œç„¶åç­‰å¾…æœåŠ¡å™¨åšå‡ºå›åº”ï¼Œæ”¶åˆ°åå†å‘å‡º B è¯·æ±‚ï¼Œç®¡é“æœºåˆ¶åˆ™æ˜¯å…è®¸æµè§ˆå™¨åŒæ—¶å‘å‡º A è¯·æ±‚å’Œ B è¯·æ±‚ã€‚</p><p>ä½†æ˜¯æœåŠ¡å™¨è¿˜æ˜¯æŒ‰ç…§<strong>é¡ºåº</strong>ï¼Œå…ˆå›åº” A è¯·æ±‚ï¼Œå®Œæˆåå†å›åº” B è¯·æ±‚ï¼Œè¦æ˜¯ å‰é¢çš„å›åº”ç‰¹åˆ«æ…¢ï¼Œåé¢å°±ä¼šæœ‰è®¸å¤šè¯·æ±‚æ’é˜Ÿç­‰ç€ã€‚</p><p><strong>Host å­—æ®µ</strong></p><p>åœ¨ HTTP1.0 ä¸­è®¤ä¸ºæ¯å°æœåŠ¡å™¨éƒ½ç»‘å®šä¸€ä¸ªå”¯ä¸€çš„ IP åœ°å€ï¼Œå› æ­¤ï¼Œè¯·æ±‚æ¶ˆæ¯ä¸­çš„ URL å¹¶æ²¡æœ‰ä¼ é€’ä¸»æœºåï¼Œä½†éšç€è™šæ‹Ÿä¸»æœºæŠ€æœ¯çš„å‘å±•ï¼Œåœ¨ä¸€å°ç‰©ç†æœåŠ¡å™¨ä¸Šå¯ä»¥å­˜åœ¨å¤šä¸ªè™šæ‹Ÿä¸»æœºï¼Œå¹¶ä¸”å®ƒä»¬å…±äº«ä¸€ä¸ª IP åœ°å€ã€‚</p><p>HTTP1.1 çš„è¯·æ±‚æ¶ˆæ¯å’Œå“åº”æ¶ˆæ¯éƒ½åº”æ”¯æŒ Host å¤´åŸŸï¼Œä¸”è¯·æ±‚æ¶ˆæ¯ä¸­å¦‚æœæ²¡æœ‰ Host å¤´åŸŸä¼šæŠ¥å‘Šä¸€ä¸ªé”™è¯¯ï¼ˆ400 Bad Requestï¼‰ã€‚</p><p>æ­¤å¤–ï¼ŒæœåŠ¡å™¨åº”è¯¥æ¥å—ä»¥ç»å¯¹è·¯å¾„æ ‡è®°çš„èµ„æºè¯·æ±‚ã€‚</p><p><strong>100Status</strong></p><p>HTTP/1.1 åŠ å…¥äº†ä¸€ä¸ªæ–°çš„çŠ¶æ€ç  100ã€‚</p><p>å®¢æˆ·ç«¯äº‹å…ˆå‘é€ä¸€ä¸ªåªå¸¦å¤´åŸŸçš„è¯·æ±‚ï¼Œå¦‚æœæœåŠ¡å™¨å› ä¸ºæƒé™æ‹’ç»äº†è¯·æ±‚ï¼Œå°±å›é€å“åº”ç  401ï¼ˆUnauthorizedï¼‰ï¼›</p><p>å¦‚æœæœåŠ¡å™¨æ¥æ”¶æ­¤è¯·æ±‚å°±å›é€å“åº”ç  100ï¼Œå®¢æˆ·ç«¯å°±å¯ä»¥ç»§ç»­å‘é€å¸¦å®ä½“çš„å®Œæ•´è¯·æ±‚äº†ã€‚</p><p>100 çŠ¶æ€ä»£ç çš„ä½¿ç”¨ï¼Œå…è®¸å®¢æˆ·ç«¯åœ¨å‘ request æ¶ˆæ¯ body ä¹‹å‰å…ˆç”¨ request header è¯•æ¢ä¸€ä¸‹ serverï¼Œçœ‹ server è¦ä¸è¦æ¥æ”¶ request bodyï¼Œå†å†³å®šè¦ä¸è¦å‘ request bodyã€‚</p><p><strong>Chunked Transfer Coding</strong></p><p>HTTP/1.1 å°†å‘é€æ–¹å°†æ¶ˆæ¯åˆ†å‰²æˆè‹¥å¹²ä¸ªä»»æ„å¤§å°çš„æ•°æ®å—ï¼Œæ¯ä¸ªæ•°æ®å—åœ¨å‘é€æ—¶éƒ½ä¼šé™„ä¸Šå—çš„é•¿åº¦ï¼Œæœ€åç”¨ä¸€ä¸ªé›¶é•¿åº¦çš„å—ä½œä¸ºæ¶ˆæ¯ç»“æŸçš„æ ‡å¿—ã€‚</p><p>è¿™ç§æ–¹æ³•å…è®¸å‘é€æ–¹åªç¼“å†²æ¶ˆæ¯çš„ä¸€ä¸ªç‰‡æ®µï¼Œé¿å…ç¼“å†²æ•´ä¸ªæ¶ˆæ¯å¸¦æ¥çš„è¿‡è½½ã€‚</p><p><strong>Cache</strong></p><p>HTTP/1.1 åœ¨ 1.0 çš„åŸºç¡€ä¸ŠåŠ å…¥äº†ä¸€äº› Cache çš„æ–°ç‰¹æ€§ï¼Œå½“ç¼“å­˜å¯¹è±¡çš„ Age è¶…è¿‡ Expire æ—¶å˜ä¸º Stable å¯¹è±¡ï¼ŒCache ä¸éœ€è¦ç›´æ¥æŠ›å¼ƒ Stable å¯¹è±¡ï¼Œè€Œæ˜¯ä¸æºæœåŠ¡å™¨è¿›è¡Œé‡æ–°æ¿€æ´»ã€‚</p><h3 id="http2-0" tabindex="-1"><a class="header-anchor" href="#http2-0" aria-hidden="true">#</a> HTTP2.0</h3><p><strong>HTTP2.0 å’Œ HTTP1.X ç›¸æ¯”çš„æ–°ç‰¹æ€§</strong></p><ul><li><p>æ–°çš„äºŒè¿›åˆ¶æ ¼å¼ï¼Œ<code>HTTP1.x</code>çš„è§£ææ˜¯åŸºäºæ–‡æœ¬</p></li><li><p>å¤šè·¯å¤ç”¨ï¼Œå³è¿æ¥å…±äº«ï¼Œå³æ¯ä¸€ä¸ª request éƒ½æ˜¯æ˜¯ç”¨ä½œè¿æ¥å…±äº«æœºåˆ¶çš„ï¼Œä¸€ä¸ª request å¯¹åº”ä¸€ä¸ª idï¼Œè¿™æ ·ä¸€ä¸ªè¿æ¥ä¸Šå¯ä»¥æœ‰å¤šä¸ª requestï¼Œæ¯ä¸ªè¿æ¥çš„ request å¯ä»¥éšæœºçš„æ··æ‚åœ¨ä¸€èµ·ï¼Œæ¥æ”¶æ–¹å¯ä»¥æ ¹æ® request çš„ id å°† request å†å½’å±åˆ°å„è‡ªä¸åŒçš„æœåŠ¡ç«¯è¯·æ±‚é‡Œé¢</p></li><li><p>header å‹ç¼©ï¼Œ<code>HTTP1.x</code>çš„ header å¸¦æœ‰å¤§é‡ä¿¡æ¯ï¼Œè€Œä¸”æ¯æ¬¡éƒ½è¦é‡å¤å‘é€ï¼ŒHTTP2.0 ä½¿ç”¨ encoder æ¥å‡å°‘éœ€è¦ä¼ è¾“çš„ header å¤§å°ï¼Œé€šè®¯åŒæ–¹å„è‡ª cache ä¸€ä»½ header fields è¡¨ï¼Œæ—¢é¿å…äº†é‡å¤ header çš„ä¼ è¾“ï¼Œåˆå‡å°äº†éœ€è¦ä¼ è¾“çš„å¤§å°</p></li><li><p>æœåŠ¡ç«¯æ¨é€</p></li></ul><p>HTTP/2 è¿˜åœ¨ä¸€å®šç¨‹åº¦ä¸Šæ”¹å–„äº†ä¼ ç»Ÿçš„è¯·æ±‚ - åº”ç­”å·¥ä½œæ¨¡å¼ï¼ŒæœåŠ¡ä¸å†æ˜¯è¢«åŠ¨åœ°å“åº”ï¼Œä¹Ÿå¯ä»¥<strong>ä¸»åŠ¨</strong>å‘å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œåœ¨æµè§ˆå™¨åˆšè¯·æ±‚ HTML çš„æ—¶å€™ï¼Œå°±æå‰æŠŠå¯èƒ½ä¼šç”¨åˆ°çš„ JSã€CSS æ–‡ä»¶ç­‰é™æ€èµ„æºä¸»åŠ¨å‘ç»™å®¢æˆ·ç«¯ï¼Œ<strong>å‡å°‘å»¶æ—¶çš„ç­‰å¾…</strong>ï¼Œä¹Ÿå°±æ˜¯æœåŠ¡å™¨æ¨é€ã€‚</p><p><strong>æ•°æ®æµ</strong></p><p>HTTP/2 çš„æ•°æ®åŒ…ä¸æ˜¯æŒ‰é¡ºåºå‘é€çš„ï¼ŒåŒä¸€ä¸ªè¿æ¥é‡Œé¢è¿ç»­çš„æ•°æ®åŒ…ï¼Œå¯èƒ½å±äºä¸åŒçš„å›åº”ã€‚</p><p>å› æ­¤ï¼Œå¿…é¡»è¦å¯¹æ•°æ®åŒ…åšæ ‡è®°ï¼ŒæŒ‡å‡ºå®ƒå±äºå“ªä¸ªå›åº”ã€‚</p><p>æ¯ä¸ªè¯·æ±‚æˆ–å›åº”çš„æ‰€æœ‰æ•°æ®åŒ…ï¼Œç§°ä¸ºä¸€ä¸ªæ•°æ®æµï¼ˆStreamï¼‰ã€‚</p><p>æ¯ä¸ªæ•°æ®æµéƒ½æ ‡è®°ç€ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„ç¼–å·ï¼Œå…¶ä¸­è§„å®šå®¢æˆ·ç«¯å‘å‡ºçš„æ•°æ®æµç¼–å·ä¸ºå¥‡æ•°ï¼Œ æœåŠ¡å™¨å‘å‡ºçš„æ•°æ®æµç¼–å·ä¸ºå¶æ•°</p><p>å®¢æˆ·ç«¯è¿˜å¯ä»¥<strong>æŒ‡å®šæ•°æ®æµçš„ä¼˜å…ˆçº§</strong>ã€‚ä¼˜å…ˆçº§é«˜çš„è¯·æ±‚ï¼ŒæœåŠ¡å™¨å°±å…ˆå“åº”è¯¥è¯·æ±‚ã€‚</p><p><strong>HTTP2.0 çš„å¤šè·¯å¤ç”¨å’Œ HTTP1.X ä¸­çš„é•¿è¿æ¥å¤ç”¨æœ‰ä»€ä¹ˆåŒºåˆ«</strong></p><ul><li>HTTP/1.1 çš„ Pipeling ä¸ºè‹¥å¹²ä¸ªè¯·æ±‚æ’é˜Ÿä¸²è¡ŒåŒ–å•çº¿ç¨‹å¤„ç†ï¼Œåé¢çš„è¯·æ±‚ç­‰å¾…å‰é¢è¯·æ±‚çš„è¿”å›æ‰èƒ½è·å¾—æ‰§è¡Œæœºä¼šï¼Œä¸€æ—¦æœ‰æŸè¯·æ±‚è¶…æ—¶ç­‰ï¼Œåç»­è¯·æ±‚åªèƒ½è¢«é˜»å¡ï¼Œæ¯«æ— åŠæ³•ï¼›</li><li>HTTP2.0 å¤šä¸ªè¯·æ±‚å¯åŒæ—¶åœ¨ä¸€ä¸ªè¿æ¥ä¸Šå¹¶è¡Œæ‰§è¡Œï¼ŒæŸä¸ªè¯·æ±‚ä»»åŠ¡è€—æ—¶ä¸¥é‡ï¼Œä¸ä¼šå½±å“åˆ°å…¶å®ƒè¿æ¥çš„æ­£å¸¸æ‰§è¡Œ</li></ul><h3 id="http3-0" tabindex="-1"><a class="header-anchor" href="#http3-0" aria-hidden="true">#</a> HTTP3.0</h3><p><strong>ä½¿ç”¨ UDP åè®®</strong></p><p>HTTP/2 ä¸»è¦çš„é—®é¢˜åœ¨äºï¼šå¤šä¸ª HTTP è¯·æ±‚åœ¨å¤ç”¨ä¸€ä¸ª TCP è¿æ¥ï¼Œä¸‹å±‚çš„ TCP åè®®æ˜¯ä¸çŸ¥é“æœ‰å¤šå°‘ä¸ª HTTP è¯·æ±‚çš„ã€‚</p><p>æ‰€ä»¥ä¸€æ—¦å‘ç”Ÿäº†ä¸¢åŒ…ç°è±¡ï¼Œå°±ä¼šè§¦å‘ TCP çš„é‡ä¼ æœºåˆ¶ï¼Œè¿™æ ·åœ¨ä¸€ä¸ª TCP è¿æ¥ä¸­çš„<strong>æ‰€æœ‰çš„ HTTP è¯·æ±‚éƒ½å¿…é¡»ç­‰å¾…è¿™ä¸ªä¸¢äº†çš„åŒ…è¢«é‡ä¼ å›æ¥</strong>ã€‚</p><ul><li>HTTP/1.1 ä¸­çš„ç®¡é“ä¼ è¾“ä¸­å¦‚æœæœ‰ä¸€ä¸ªè¯·æ±‚é˜»å¡äº†ï¼Œé‚£ä¹ˆé˜Ÿåˆ—åè¯·æ±‚ä¹Ÿç»Ÿç»Ÿè¢«é˜»å¡ä½äº†</li><li>HTTP/2 å¤šè¯·æ±‚å¤ç”¨ä¸€ä¸ª TCP è¿æ¥ï¼Œä¸€æ—¦å‘ç”Ÿä¸¢åŒ…ï¼Œå°±ä¼šé˜»å¡ä½æ‰€æœ‰çš„ HTTP è¯·æ±‚ã€‚</li></ul><p>è¿™éƒ½æ˜¯åŸºäº TCP ä¼ è¾“å±‚çš„é—®é¢˜ï¼Œæ‰€ä»¥ <strong>HTTP/3 æŠŠ HTTP ä¸‹å±‚çš„ TCP åè®®æ”¹æˆäº† UDPï¼</strong></p><h3 id="https" tabindex="-1"><a class="header-anchor" href="#https" aria-hidden="true">#</a> HTTPS</h3><p><strong>HTTP ä¸ HTTPS çš„åŒºåˆ«</strong></p><p>HTTP æ˜¯æ˜æ–‡ä¼ è¾“åè®®ï¼ŒHTTPS åè®®æ˜¯ç”± SSL+HTTP åè®®æ„å»ºçš„å¯è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€èº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ï¼Œæ¯” HTTP åè®®å®‰å…¨</p><ul><li><p>HTTPS æ¯” HTTP æ›´åŠ å®‰å…¨ï¼Œå¯¹æœç´¢å¼•æ“æ›´å‹å¥½ï¼Œåˆ©äº SEOï¼Œè°·æ­Œã€ç™¾åº¦ä¼˜å…ˆç´¢å¼• HTTPS ç½‘é¡µ</p></li><li><p>HTTPS éœ€è¦ç”¨åˆ° SSL è¯ä¹¦ï¼Œè€Œ HTTP ä¸ç”¨</p></li><li><p>HTTPS æ ‡å‡†ç«¯å£ 443ï¼ŒHTTP æ ‡å‡†ç«¯å£ 80</p></li><li><p>HTTPS åŸºäºä¼ è¾“å±‚ï¼ŒHTTP åŸºäºåº”ç”¨å±‚</p></li><li><p>HTTPS åœ¨æµè§ˆå™¨æ˜¾ç¤ºç»¿è‰²å®‰å…¨é”ï¼ŒHTTP æ²¡æœ‰æ˜¾ç¤º</p></li></ul><p><strong>å·¥ä½œåŸç†</strong></p><p>HTTPS åè®®ä¼šå¯¹ä¼ è¾“çš„æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œè€ŒåŠ å¯†è¿‡ç¨‹æ˜¯ä½¿ç”¨äº†éå¯¹ç§°åŠ å¯†å®ç°</p><p>HTTPS çš„æ•´ä½“è¿‡ç¨‹åˆ†ä¸ºè¯ä¹¦éªŒè¯å’Œæ•°æ®ä¼ è¾“é˜¶æ®µï¼Œå…·ä½“çš„äº¤äº’è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-c1db0431-0eee-4c80-bb60-b7508a306864.png" alt="" loading="lazy"></p><ul><li>Client å‘èµ·ä¸€ä¸ª HTTPS çš„è¯·æ±‚</li><li>Server æŠŠäº‹å…ˆé…ç½®å¥½çš„å…¬é’¥è¯ä¹¦è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</li><li>Client éªŒè¯å…¬é’¥è¯ä¹¦ï¼šæ¯”å¦‚æ˜¯å¦åœ¨æœ‰æ•ˆæœŸå†…ï¼Œè¯ä¹¦çš„ç”¨é€”æ˜¯ä¸æ˜¯åŒ¹é… Client è¯·æ±‚çš„ç«™ç‚¹ï¼Œæ˜¯ä¸æ˜¯åœ¨ CRL åŠé”€åˆ—è¡¨é‡Œé¢ï¼Œå®ƒçš„ä¸Šä¸€çº§è¯ä¹¦æ˜¯å¦æœ‰æ•ˆï¼Œè¿™æ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹ï¼Œç›´åˆ°éªŒè¯åˆ°æ ¹è¯ä¹¦ï¼ˆæ“ä½œç³»ç»Ÿå†…ç½®çš„ Root è¯ä¹¦æˆ–è€… Client å†…ç½®çš„ Root è¯ä¹¦ï¼‰ï¼Œå¦‚æœéªŒè¯é€šè¿‡åˆ™ç»§ç»­ï¼Œä¸é€šè¿‡åˆ™æ˜¾ç¤ºè­¦å‘Šä¿¡æ¯ã€‚</li><li>Client ä½¿ç”¨ä¼ªéšæœºæ•°ç”Ÿæˆå™¨ç”ŸæˆåŠ å¯†æ‰€ä½¿ç”¨çš„å¯¹ç§°å¯†é’¥ï¼Œç„¶åç”¨è¯ä¹¦çš„å…¬é’¥åŠ å¯†è¿™ä¸ªå¯¹ç§°å¯†é’¥ï¼Œå‘ç»™ Serverã€‚</li><li>Server ä½¿ç”¨è‡ªå·±çš„ç§é’¥è§£å¯†è¿™ä¸ªæ¶ˆæ¯ï¼Œå¾—åˆ°å¯¹ç§°å¯†é’¥ã€‚è‡³æ­¤ï¼ŒClient å’Œ Server åŒæ–¹éƒ½æŒæœ‰äº†ç›¸åŒçš„å¯¹ç§°å¯†é’¥ã€‚</li><li>Server ä½¿ç”¨å¯¹ç§°å¯†é’¥åŠ å¯†æ˜æ–‡å†…å®¹ Aï¼Œå‘é€ç»™ Clientã€‚</li><li>Client ä½¿ç”¨å¯¹ç§°å¯†é’¥è§£å¯†å“åº”çš„å¯†æ–‡ï¼Œå¾—åˆ°æ˜æ–‡å†…å®¹ Aã€‚</li><li>Client å†æ¬¡å‘èµ· HTTPS çš„è¯·æ±‚ï¼Œä½¿ç”¨å¯¹ç§°å¯†é’¥åŠ å¯†è¯·æ±‚çš„æ˜æ–‡å†…å®¹ Bï¼Œç„¶å Server ä½¿ç”¨å¯¹ç§°å¯†é’¥è§£å¯†å¯†æ–‡ï¼Œå¾—åˆ°æ˜æ–‡å†…å®¹ Bã€‚</li></ul><h4 id="æ•°å­—è¯ä¹¦" tabindex="-1"><a class="header-anchor" href="#æ•°å­—è¯ä¹¦" aria-hidden="true">#</a> æ•°å­—è¯ä¹¦</h4><p>å®¢æˆ·ç«¯å…ˆå‘æœåŠ¡å™¨ç«¯ç´¢è¦å…¬é’¥ï¼Œç„¶åç”¨å…¬é’¥åŠ å¯†ä¿¡æ¯ï¼ŒæœåŠ¡å™¨æ”¶åˆ°å¯†æ–‡åï¼Œç”¨è‡ªå·±çš„ç§é’¥è§£å¯†ã€‚</p><blockquote><p>è¿™å°±å­˜åœ¨äº›é—®é¢˜ï¼Œå¦‚ä½•ä¿è¯å…¬é’¥ä¸è¢«ç¯¡æ”¹å’Œä¿¡ä»»åº¦ï¼Ÿ</p></blockquote><p>æ‰€ä»¥è¿™é‡Œå°±éœ€è¦å€ŸåŠ©ç¬¬ä¸‰æ–¹æƒå¨æœºæ„ CA ï¼ˆæ•°å­—è¯ä¹¦è®¤è¯æœºæ„ï¼‰ï¼Œå°†<strong>æœåŠ¡å™¨å…¬é’¥æ”¾åœ¨æ•°å­—è¯ä¹¦</strong>ï¼ˆç”±æ•°å­—è¯ä¹¦è®¤è¯æœºæ„é¢å‘ï¼‰ä¸­ï¼Œåªè¦è¯ä¹¦æ˜¯å¯ä¿¡çš„ï¼Œå…¬é’¥å°±æ˜¯å¯ä¿¡çš„ã€‚</p><p>é€šè¿‡æ•°å­—è¯ä¹¦çš„æ–¹å¼ä¿è¯æœåŠ¡å™¨å…¬é’¥çš„èº«ä»½ï¼Œè§£å†³å†’å……çš„é£é™©ã€‚</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-45917c49-bb08-4f88-84d2-5e8ae53acc7c.png" alt="" loading="lazy"></p><h3 id="è¯·æ±‚æŠ¥æ–‡" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚æŠ¥æ–‡" aria-hidden="true">#</a> è¯·æ±‚æŠ¥æ–‡</h3><p><strong>è¯·æ±‚å¤´</strong></p><p>HTTP è¯·æ±‚æŠ¥æ–‡ç”± 3 éƒ¨åˆ†ç»„æˆ(è¯·æ±‚è¡Œ+è¯·æ±‚å¤´+è¯·æ±‚ä½“)</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-3c00598c-43c2-44cd-96c6-ee4d40b97abd.png" alt="" loading="lazy"></p><p><strong>å¸¸è§çš„ HTTP æŠ¥æ–‡å¤´å±æ€§</strong></p><ul><li>Accpet <ul><li>å‘Šè¯‰æœåŠ¡ç«¯ï¼Œå®¢æˆ·ç«¯æ¥æ”¶ä»€ä¹ˆç±»å‹çš„å“åº”</li></ul></li><li>Referer <ul><li>è¡¨ç¤ºè¿™æ˜¯è¯·æ±‚æ˜¯ä»å“ªä¸ª URL è¿›æ¥çš„,æ¯”å¦‚æƒ³åœ¨ç½‘ä¸Šè´­ç‰©ï¼Œä½†æ˜¯ä¸çŸ¥é“é€‰æ‹©å“ªå®¶ç”µå•†å¹³å°ï¼Œä½ å°±å»é—®åº¦å¨˜ï¼Œè¯´å“ªå®¶ç”µå•†çš„ä¸œè¥¿ä¾¿å®œå•Šï¼Œç„¶åä¸€å †ä¸œè¥¿å¼¹å‡ºåœ¨ä½ é¢å‰ï¼Œç¬¬ä¸€ç»™å°±æ˜¯æŸå®ï¼Œå½“ä½ ä»è¿™é‡Œè¿›å…¥æŸå®çš„æ—¶å€™ï¼Œè¿™ä¸ªè¯·æ±‚æŠ¥æ–‡çš„ Referer å°±æ˜¯ï¼š<a href="www.baidu.com">www.baidu.com</a></li></ul></li><li>Cache-Control <ul><li>å¯¹ç¼“å­˜è¿›è¡Œæ§åˆ¶ï¼Œå¦‚ä¸€ä¸ªè¯·æ±‚å¸Œæœ›å“åº”çš„å†…å®¹åœ¨å®¢æˆ·ç«¯ç¼“å­˜ä¸€å¹´ï¼Œæˆ–ä¸è¢«ç¼“å¯ä»¥é€šè¿‡è¿™ä¸ªæŠ¥æ–‡å¤´è®¾ç½®</li></ul></li><li>Accept-Encoding <ul><li>è¿™ä¸ªå±æ€§æ˜¯ç”¨æ¥å‘Šè¯‰æœåŠ¡å™¨èƒ½æ¥å—ä»€ä¹ˆç¼–ç æ ¼å¼ï¼ŒåŒ…æ‹¬å­—ç¬¦ç¼–ç ,å‹ç¼©å½¢å¼(ä¸€èˆ¬éƒ½æ˜¯å‹ç¼©å½¢å¼) <ul><li>ä¾‹å¦‚:<code>Accept-Encoding:gzip, deflate</code>(è¿™ä¸¤ç§éƒ½æ˜¯å‹ç¼©æ ¼å¼)</li></ul></li></ul></li><li>Host <ul><li>æŒ‡å®šè¦è¯·æ±‚çš„èµ„æºæ‰€åœ¨çš„ä¸»æœºå’Œç«¯å£</li></ul></li><li>User-Agentï¼šå‘Šè¯‰æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿã€æµè§ˆå™¨ç‰ˆæœ¬å’Œåç§°</li><li>Connection</li></ul><p>å†³å®šå½“å‰äº‹åŠ¡ï¼ˆä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹ï¼‰å®Œæˆåï¼Œæ˜¯å¦å…³é—­ç½‘ç»œè¿æ¥ã€‚</p><ul><li>æŒä¹…è¿æ¥ï¼Œäº‹åŠ¡å®Œæˆåä¸å…³é—­ç½‘ç»œè¿æ¥ ï¼š<code> Connection: keep-alive</code></li></ul><ul><li>éæŒä¹…è¿æ¥ï¼Œäº‹åŠ¡å®Œæˆåå…³é—­ç½‘ç»œè¿æ¥ï¼š <code>Connection: close</code></li></ul><h3 id="å“åº”æŠ¥æ–‡" tabindex="-1"><a class="header-anchor" href="#å“åº”æŠ¥æ–‡" aria-hidden="true">#</a> å“åº”æŠ¥æ–‡</h3><p>å“åº”æŠ¥æ–‡ä¸è¯·æ±‚æŠ¥æ–‡ä¸€æ ·ï¼Œç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆ(å“åº”è¡Œ,å“åº”å¤´,å“åº”ä½“)</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-58884113-14dc-4cca-a63e-3320f31a4da5.png" alt="" loading="lazy"></p><p><strong>HTTP å“åº”æŠ¥æ–‡å±æ€§</strong></p><ul><li>Cache-Control <ul><li>å“åº”è¾“å‡ºåˆ°å®¢æˆ·ç«¯åï¼ŒæœåŠ¡ç«¯é€šè¿‡è¯¥å±æ€§å‘Šè¯‰å®¢æˆ·ç«¯è¯¥æ€ä¹ˆæ§åˆ¶å“åº”å†…å®¹çš„ç¼“å­˜</li></ul></li><li>ETag <ul><li>è¡¨ç¤ºä½ è¯·æ±‚èµ„æºçš„ç‰ˆæœ¬ï¼Œå¦‚æœè¯¥èµ„æºå‘ç”Ÿå•¦å˜åŒ–ï¼Œé‚£ä¹ˆè¿™ä¸ªå±æ€§ä¹Ÿä¼šè·Ÿç€å˜</li></ul></li><li>Location <ul><li>åœ¨é‡å®šå‘ä¸­æˆ–è€…åˆ›å»ºæ–°èµ„æºæ—¶ä½¿ç”¨</li></ul></li><li>Set-Cookie <ul><li>æœåŠ¡ç«¯å¯ä»¥è®¾ç½®å®¢æˆ·ç«¯çš„ cookie</li></ul></li></ul><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/xingbiaogongzhonghao.png" alt="" loading="lazy"></p><h2 id="tcp" tabindex="-1"><a class="header-anchor" href="#tcp" aria-hidden="true">#</a> TCP</h2><p>TCP æ˜¯ä¸€ä¸ªä¼ è¾“å±‚åè®®ï¼Œæä¾›å¯é ä¼ è¾“ï¼Œæ”¯æŒå…¨åŒå·¥ï¼Œæ˜¯ä¸€ä¸ªè¿æ¥å¯¼å‘çš„åè®®ã€‚</p><p><strong>åŒå·¥/å•å·¥</strong></p><p>åœ¨ä»»ä½•ä¸€ä¸ªæ—¶åˆ»ï¼Œå¦‚æœæ•°æ®åªèƒ½å•å‘å‘é€ï¼Œå°±æ˜¯å•å·¥ã€‚</p><p>å¦‚æœåœ¨æŸä¸ªæ—¶åˆ»æ•°æ®å¯ä»¥å‘ä¸€ä¸ªæ–¹å‘ä¼ è¾“ï¼Œä¹Ÿå¯ä»¥å‘å¦ä¸€ä¸ªæ–¹å‘åæ–¹å‘ä¼ è¾“ï¼Œè€Œä¸”äº¤æ›¿è¿›è¡Œï¼Œå«ä½œåŠåŒå·¥ï¼›åŠåŒå·¥éœ€è¦è‡³å°‘ 1 æ¡çº¿è·¯ã€‚</p><p>å¦‚æœä»»ä½•æ—¶åˆ»æ•°æ®éƒ½å¯ä»¥åŒå‘æ”¶å‘ï¼Œè¿™å°±æ˜¯å…¨åŒå·¥ï¼Œå…¨åŒå·¥éœ€è¦å¤§äº 1 æ¡çº¿è·¯ã€‚</p><p>TCP æ˜¯ä¸€ä¸ªåŒå·¥åè®®ï¼Œæ•°æ®ä»»ä½•æ—¶å€™éƒ½å¯ä»¥åŒå‘ä¼ è¾“ã€‚</p><p>è¿™å°±æ„å‘³ç€å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¯ä»¥å¹³ç­‰åœ°å‘é€ã€æ¥æ”¶ä¿¡æ¯ã€‚</p><p><strong>TCP åè®®çš„ä¸»è¦ç‰¹ç‚¹</strong></p><ul><li><p>TCP æ˜¯é¢å‘è¿æ¥çš„è¿è¾“å±‚åè®®ï¼›æ‰€è°“é¢å‘è¿æ¥å°±æ˜¯åŒæ–¹ä¼ è¾“æ•°æ®ä¹‹å‰ï¼Œå¿…é¡»å…ˆå»ºç«‹ä¸€æ¡é€šé“ï¼Œä¾‹å¦‚ä¸‰æ¬¡æ¡æ‰‹å°±æ˜¯å»ºè®®é€šé“çš„ä¸€ä¸ªè¿‡ç¨‹ï¼Œè€Œå››æ¬¡æŒ¥æ‰‹åˆ™æ˜¯ç»“æŸé”€æ¯é€šé“çš„ä¸€ä¸ªå…¶ä¸­è¿‡ç¨‹ã€‚</p></li><li><p>æ¯ä¸€æ¡ TCP è¿æ¥åªèƒ½æœ‰ä¸¤ä¸ªç«¯ç‚¹ï¼ˆå³ä¸¤ä¸ªå¥—æ¥å­—ï¼‰ï¼Œåªèƒ½æ˜¯ç‚¹å¯¹ç‚¹çš„ï¼›</p></li><li><p>TCP æä¾›å¯é çš„ä¼ è¾“æœåŠ¡ã€‚ä¼ é€çš„æ•°æ®æ— å·®é”™ã€ä¸ä¸¢å¤±ã€ä¸é‡å¤ã€æŒ‰åºåˆ°è¾¾ï¼›</p></li><li><p>TCP æä¾›å…¨åŒå·¥é€šä¿¡ã€‚å…è®¸é€šä¿¡åŒæ–¹çš„åº”ç”¨è¿›ç¨‹åœ¨ä»»ä½•æ—¶å€™éƒ½å¯ä»¥å‘é€æ•°æ®ï¼Œå› ä¸ºä¸¤ç«¯éƒ½è®¾æœ‰å‘é€ç¼“å­˜å’Œæ¥å—ç¼“å­˜ï¼›</p></li><li><p>é¢å‘å­—èŠ‚æµã€‚è™½ç„¶åº”ç”¨ç¨‹åºä¸ TCP äº¤äº’æ˜¯ä¸€æ¬¡ä¸€ä¸ªå¤§å°ä¸ç­‰çš„æ•°æ®å—ï¼Œä½† TCP æŠŠè¿™äº›æ•°æ®çœ‹æˆä¸€è¿ä¸²æ— ç»“æ„çš„å­—èŠ‚æµï¼Œå®ƒä¸ä¿è¯æ¥æ”¶æ–¹æ”¶åˆ°çš„æ•°æ®å—å’Œå‘é€æ–¹å‘é€çš„æ•°æ®å—å…·æœ‰å¯¹åº”å¤§å°å…³ç³»ï¼Œä¾‹å¦‚ï¼Œå‘é€æ–¹åº”ç”¨ç¨‹åºäº¤ç»™å‘é€æ–¹çš„ TCP10 ä¸ªæ•°æ®å—ï¼Œæ¥æ”¶æ–¹çš„ TCP å¯èƒ½åªç”¨æ”¶åˆ°çš„ 4 ä¸ªæ•°æ®å—å­—èŠ‚æµäº¤ä»˜ç»™ä¸Šå±‚çš„åº”ç”¨ç¨‹åº</p></li></ul><p><strong>TCP çš„å¯é æ€§åŸç†</strong></p><p>å¯é ä¼ è¾“æœ‰å¦‚ä¸‹ä¸¤ä¸ªç‰¹ç‚¹:</p><ol><li>ä¼ è¾“ä¿¡é“æ— å·®é”™,ä¿è¯ä¼ è¾“æ•°æ®æ­£ç¡®;</li><li>ä¸ç®¡å‘é€æ–¹ä»¥å¤šå¿«çš„é€Ÿåº¦å‘é€æ•°æ®,æ¥æ”¶æ–¹æ€»æ˜¯æ¥å¾—åŠå¤„ç†æ”¶åˆ°çš„æ•°æ®;</li></ol><p>é¦–å…ˆï¼Œé‡‡ç”¨ä¸‰æ¬¡æ¡æ‰‹æ¥å»ºç«‹ TCP è¿æ¥ï¼Œå››æ¬¡æ¡æ‰‹æ¥é‡Šæ”¾ TCP è¿æ¥ï¼Œä»è€Œä¿è¯å»ºç«‹çš„ä¼ è¾“ä¿¡é“æ˜¯å¯é çš„ã€‚</p><p>å…¶æ¬¡ï¼ŒTCP é‡‡ç”¨äº†è¿ç»­ ARQ åè®®ï¼ˆå›é€€ N(Go-back-N)ï¼›è¶…æ—¶è‡ªåŠ¨é‡ä¼ ï¼‰æ¥ä¿è¯æ•°æ®ä¼ è¾“çš„æ­£ç¡®æ€§ï¼Œä½¿ç”¨æ»‘åŠ¨çª—å£åè®®æ¥ä¿è¯æ¥æ–¹èƒ½å¤ŸåŠæ—¶å¤„ç†æ‰€æ¥æ”¶åˆ°çš„æ•°æ®ï¼Œè¿›è¡Œæµé‡æ§åˆ¶ã€‚</p><p>æœ€åï¼ŒTCP ä½¿ç”¨æ…¢å¼€å§‹ã€æ‹¥å¡é¿å…ã€å¿«é‡ä¼ å’Œå¿«æ¢å¤æ¥è¿›è¡Œæ‹¥å¡æ§åˆ¶ï¼Œé¿å…ç½‘ç»œæ‹¥å¡ã€‚</p><h3 id="æŠ¥æ–‡æ®µ" tabindex="-1"><a class="header-anchor" href="#æŠ¥æ–‡æ®µ" aria-hidden="true">#</a> æŠ¥æ–‡æ®µ</h3><p>TCP è™½é¢å‘å­—èŠ‚æµï¼Œä½†ä¼ é€çš„æ•°æ®å•å…ƒä¸ºæŠ¥æ–‡æ®µ</p><p>æŠ¥æ–‡æ®µ = é¦–éƒ¨ + æ•°æ® 2 éƒ¨åˆ†</p><p>TCP çš„å…¨éƒ¨åŠŸèƒ½ä½“ç°åœ¨å®ƒé¦–éƒ¨ä¸­å„å­—æ®µçš„ä½œç”¨</p><blockquote><ol><li>é¦–éƒ¨å‰ 20 ä¸ªå­—ç¬¦å›ºå®šã€åé¢æœ‰ 4n ä¸ªå­—èŠ‚æ˜¯æ ¹æ®éœ€è€Œå¢åŠ çš„é€‰é¡¹</li><li>æ•… TCP é¦–éƒ¨æœ€å°é•¿åº¦ = 20 å­—èŠ‚</li></ol></blockquote><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-8011660d-24c8-460f-ac3d-b97ad9c99b13.png" alt="" loading="lazy"></p><p><strong>ç«¯å£</strong>ï¼š</p><p>æºç«¯å£å·å’Œç›®åœ°ç«¯å£å„å  16 ä½ä¸¤ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯ç«¯å£çš„èŒƒå›´æ˜¯<code>2^16=65535</code></p><p>å¦å¤– 1024 ä»¥ä¸‹æ˜¯ç³»ç»Ÿä¿ç•™çš„ï¼Œä» 1024-65535 æ˜¯ç”¨æˆ·ä½¿ç”¨çš„ç«¯å£èŒƒå›´</p><p><strong>seq åºå·</strong>ï¼šå  4 å­—èŠ‚ï¼ŒTCP è¿æ¥ä¸­ä¼ é€çš„å­—èŠ‚æµä¸­çš„æ¯ä¸ªå­—èŠ‚éƒ½æŒ‰é¡ºåºç¼–å·ã€‚</p><p>ä¾‹å¦‚ï¼šä¸€æ®µæŠ¥æ–‡çš„åºå·å­—æ®µå€¼æ˜¯ 107ï¼Œæºå¸¦çš„æ•°æ®æ˜¯ 100 ä¸ªå­—æ®µï¼Œä¸‹ä¸€ä¸ªæŠ¥æ–‡æ®µåºå·ä» 107+100=207 å¼€å§‹ã€‚</p><p><strong>ack ç¡®è®¤å·</strong>ï¼š4 ä¸ªå­—èŠ‚ï¼Œæ˜¯æœŸæœ›æ”¶åˆ°å¯¹æ–¹ä¸‹ä¸€ä¸ªæŠ¥æ–‡æ®µçš„ç¬¬ä¸€ä¸ªæ•°æ®å­—èŠ‚çš„åºå·ã€‚</p><p>ä¾‹å¦‚ï¼šB æ”¶åˆ° A å‘é€çš„æŠ¥æ–‡ï¼Œå…¶åºå·å­—æ®µæ˜¯ 301ï¼Œæ•°æ®é•¿åº¦æ˜¯ 200 å­—èŠ‚ï¼Œè¡¨æ˜ B æ­£ç¡®æ”¶åˆ° A å‘é€çš„åˆ°åºå· 500 ä¸ºæ­¢çš„æ•°æ®ï¼ˆ301+200-1=500ï¼‰ï¼ŒB æœŸæœ›æ”¶åˆ° A ä¸‹ä¸€ä¸ªæ•°æ®åºå·æ˜¯ 501ï¼ŒB å‘é€ç»™ A çš„ç¡®è®¤æŠ¥æ–‡æ®µä¸­æŠŠ ack ç¡®è®¤å·ç½®ä¸º 501ã€‚</p><p><strong>æ•°æ®åç§»</strong>ï¼šå¤´éƒ¨æœ‰å¯é€‰å­—æ®µï¼Œé•¿åº¦ä¸å›ºå®šï¼ŒæŒ‡å‡º TCP æŠ¥æ–‡æ®µçš„æ•°æ®èµ·å§‹å¤„è·ç¦»æŠ¥æ–‡æ®µçš„èµ·å§‹å¤„æœ‰å¤šè¿œã€‚</p><p><strong>ä¿ç•™</strong>ï¼šä¿ç•™ä»Šåä½¿ç”¨çš„ï¼Œè¢«æ ‡ä¸º 1ã€‚</p><p><strong>æ§åˆ¶ä½</strong>ï¼šç”± 8 ä¸ªæ ‡å¿—ä½ç»„æˆã€‚æ¯ä¸ªæ ‡å¿—ä½è¡¨ç¤ºä¸€ä¸ªæ§åˆ¶åŠŸèƒ½ã€‚</p><p>å…¶ä¸­ä¸»è¦çš„ 6 ä¸ªï¼š</p><ul><li><p><strong>URG ç´§æ€¥æŒ‡é’ˆæ ‡å¿—</strong>ï¼Œä¸º 1 è¡¨ç¤ºç´§æ€¥æŒ‡é’ˆæœ‰æ•ˆï¼Œä¸º 0 å¿½ç•¥ç´§æ€¥æŒ‡é’ˆã€‚</p></li><li><p><strong>ACK ç¡®è®¤åºå·æ ‡å¿—</strong>ï¼Œä¸º 1 è¡¨ç¤ºç¡®è®¤å·æœ‰æ•ˆï¼Œä¸º 0 è¡¨ç¤ºæŠ¥æ–‡ä¸å«ç¡®è®¤ä¿¡æ¯ï¼Œå¿½ç•¥ç¡®è®¤å·å­—æ®µï¼Œä¸Šé¢çš„ç¡®è®¤å·æ˜¯å¦æœ‰æ•ˆå°±æ˜¯é€šè¿‡è¯¥æ ‡è¯†æ§åˆ¶çš„ã€‚</p></li><li><p><strong>PSH æ ‡å¿—</strong>ï¼Œä¸º 1 è¡¨ç¤ºå¸¦æœ‰ push æ ‡å¿—çš„æ•°æ®ï¼ŒæŒ‡ç¤ºæ¥æ”¶æ–¹åœ¨æ¥æ”¶åˆ°è¯¥æŠ¥æ–‡æ®µä»¥åï¼Œåº”å°½å¿«å°†è¯¥æŠ¥æ–‡æ®µäº¤ç»™åº”ç”¨ç¨‹åºï¼Œè€Œä¸æ˜¯åœ¨ç¼“å†²åŒºæ’é˜Ÿã€‚</p></li><li><p><strong>RST é‡ç½®è¿æ¥æ ‡å¿—</strong>ï¼Œé‡ç½®å› ä¸ºä¸»æœºå´©æºƒæˆ–å…¶ä»–åŸå› è€Œå‡ºç°é”™è¯¯çš„è¿æ¥ï¼Œæˆ–ç”¨äºæ‹’ç»éæ³•çš„æŠ¥æ–‡æ®µæˆ–éæ³•çš„è¿æ¥ã€‚</p></li><li><p><strong>SYN åŒæ­¥åºå·</strong>ï¼ŒåŒæ­¥åºå·ï¼Œç”¨äºå»ºç«‹è¿æ¥è¿‡ç¨‹ï¼Œåœ¨è¿æ¥è¯·æ±‚ä¸­ï¼ŒSYN=1 å’Œ ACK=0 è¡¨ç¤ºè¯¥æ•°æ®æ®µæ²¡æœ‰ä½¿ç”¨æå¸¦çš„ç¡®è®¤åŸŸï¼Œè€Œè¿æ¥åº”ç­”æå¸¦ä¸€ä¸ªç¡®è®¤ï¼Œå³ SYN=1 å’Œ ACK=1ã€‚ã€‚</p></li><li><p><strong>FIN ç»ˆæ­¢æ ‡å¿—</strong>ï¼Œç”¨äºé‡Šæ”¾è¿æ¥ï¼Œä¸º 1 æ—¶è¡¨ç¤ºå‘é€æ–¹æ²¡æœ‰å‘é€äº†ã€‚</p></li></ul><p><strong>çª—å£</strong>ï¼šæ»‘åŠ¨çª—å£å¤§å°ï¼Œç”¨æ¥å‘ŠçŸ¥å‘é€ç«¯æ¥æ”¶ç«¯ç¼“å­˜å¤§å°ï¼Œä»¥æ­¤æ§åˆ¶å‘é€ç«¯å‘é€æ•°æ®çš„é€Ÿç‡ï¼Œä»è€Œè¾¾åˆ°æµé‡æ§åˆ¶ã€‚</p><p><strong>æ ¡éªŒå’Œ</strong>ï¼šå¥‡å¶æ ¡éªŒï¼Œæ­¤æ ¡éªŒå’Œæ˜¯å¯¹æ•´ä¸ªçš„ TCP æŠ¥æ–‡æ®µï¼ˆåŒ…æ‹¬ TCP å¤´éƒ¨å’Œ TCP æ•°æ®ï¼‰ï¼Œä»¥ 16 ä½è¿›è¡Œè®¡ç®—æ‰€å¾—ï¼Œç”±å‘é€ç«¯è®¡ç®—å’Œå­˜å‚¨ï¼Œæ¥æ”¶ç«¯è¿›è¡ŒéªŒè¯ã€‚</p><p><strong>ç´§æ€¥æŒ‡é’ˆ</strong>ï¼šåªæœ‰æ§åˆ¶ä½ä¸­çš„ URG ä¸º 1 æ—¶æ‰æœ‰æ•ˆï¼ŒæŒ‡å‡ºæœ¬æŠ¥æ–‡æ®µä¸­çš„ç´§æ€¥æ•°æ®çš„å­—èŠ‚æ•°ã€‚</p><p><strong>é€‰é¡¹</strong>ï¼šå…¶é•¿åº¦å¯å˜ï¼Œå®šä¹‰å…¶ä»–çš„å¯é€‰å‚æ•°ã€‚</p><h3 id="ç²˜åŒ…ä¸æ‹†åŒ…" tabindex="-1"><a class="header-anchor" href="#ç²˜åŒ…ä¸æ‹†åŒ…" aria-hidden="true">#</a> ç²˜åŒ…ä¸æ‹†åŒ…</h3><p>TCP æ˜¯é¢å‘å­—èŠ‚æµçš„åè®®ï¼ŒæŠŠä¸Šå±‚åº”ç”¨å±‚çš„æ•°æ®çœ‹æˆå­—èŠ‚æµï¼Œæ‰€ä»¥å®ƒå‘é€çš„ä¸æ˜¯å›ºå®šå¤§å°çš„æ•°æ®åŒ…ï¼ŒTCP åè®®ä¹Ÿæ²¡æœ‰å­—æ®µè¯´æ˜å‘é€æ•°æ®åŒ…çš„å¤§å°ã€‚</p><p>è€Œä¸” TCP ä¸ä¿è¯æ¥å—æ–¹åº”ç”¨ç¨‹åºæ”¶åˆ°çš„æ•°æ®å—å’Œå‘é€åº”ç”¨ç¨‹åºå‘é€çš„æ•°æ®å—å…·æœ‰å¯¹åº”çš„å¤§å°å…³ç³»</p><p>æ¯”å¦‚å‘é€æ–¹åº”ç”¨ç¨‹åºäº¤ç»™å‘é€æ–¹<code>TCP</code> 10 ä¸ªæ•°æ®å—ï¼Œæ¥å—æ–¹ TCP å¯èƒ½åªç”¨äº† 4 ä¸ªæ•°æ®å—å°±å®Œæ•´çš„æŠŠæ¥å—åˆ°çš„å­—èŠ‚æµäº¤ç»™äº†ä¸Šå±‚åº”ç”¨ç¨‹åºã€‚</p><p>TCP åº•å±‚å¹¶ä¸äº†è§£ä¸Šå±‚ä¸šåŠ¡æ•°æ®çš„å…·ä½“å«ä¹‰ï¼Œå®ƒä¼šæ ¹æ® TCP ç¼“å†²åŒºçš„å®é™…æƒ…å†µè¿›è¡ŒåŒ…çš„åˆ’åˆ†ï¼Œæ‰€ä»¥åœ¨ä¸šåŠ¡ä¸Šè®¤ä¸ºï¼Œä¸€ä¸ªå®Œæ•´çš„åŒ…å¯èƒ½ä¼šè¢« TCP æ‹†åˆ†æˆå¤šä¸ªåŒ…è¿›è¡Œå‘é€ï¼Œä¹Ÿæœ‰å¯èƒ½æŠŠå¤šä¸ªå°çš„åŒ…å°è£…æˆä¸€ä¸ªå¤§çš„æ•°æ®åŒ…å‘é€ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„ TCP ç²˜åŒ…å’Œæ‹†åŒ…é—®é¢˜</p><p><strong>TCP ç²˜åŒ…/æ‹†åŒ…è§£å†³ç­–ç•¥</strong></p><p>ç”±äº TCP æ— æ³•ç†è§£ä¸Šä¸€å±‚çš„ä¸šåŠ¡æ•°æ®ç‰¹ç‚¹ï¼Œæ‰€ä»¥ TCP æ˜¯æ— æ³•ä¿è¯å‘é€çš„æ•°æ®åŒ…ä¸å‘ç”Ÿç²˜åŒ…å’Œæ‹†åŒ…ï¼Œè¿™ä¸ªé—®é¢˜åªèƒ½é€šè¿‡ä¸Šå±‚çš„åè®®æ ˆè®¾è®¡æ¥è§£å†³ï¼Œè§£å†³æ€è·¯æœ‰ä¸€ä¸‹å‡ ç§ï¼š</p><ul><li><p>æ¶ˆæ¯å®šé•¿ï¼šæ¯ä¸ªå‘é€çš„æ•°æ®åŒ…å¤§å°å›ºå®šï¼Œæ¯”å¦‚ 100 å­—èŠ‚ï¼Œä¸è¶³ 100 å­—èŠ‚çš„ç”¨ç©ºæ ¼è¡¥å……ï¼Œæ¥å—æ–¹å–æ•°æ®çš„æ—¶å€™æ ¹æ®è¿™ä¸ªé•¿åº¦æ¥è¯»å–æ•°æ®</p></li><li><p>æ¶ˆæ¯æœ«å°¾å¢åŠ æ¢è¡Œç¬¦æ¥è¡¨ç¤ºä¸€æ¡å®Œæ•´çš„æ¶ˆæ¯ï¼šæ¥æ”¶æ–¹è¯»å–çš„æ—¶å€™æ ¹æ®æ¢è¡Œç¬¦æ¥åˆ¤æ–­æ˜¯å¦æ˜¯ä¸€æ¡å®Œæ•´çš„æ¶ˆæ¯ï¼Œå¦‚æœæ¶ˆæ¯çš„å†…å®¹ä¹ŸåŒ…å«æ¢è¡Œç¬¦ï¼Œé‚£ä¹ˆè¿™ç§æ–¹å¼å°±ä¸åˆé€‚äº†ã€‚</p></li><li><p>å°†æ¶ˆæ¯åˆ†ä¸ºæ¶ˆæ¯å¤´å’Œæ¶ˆæ¯å°¾ä¸¤éƒ¨åˆ†ï¼Œæ¶ˆæ¯å¤´æŒ‡å®šæ•°æ®é•¿åº¦ï¼Œæ ¹æ®æ¶ˆæ¯é•¿åº¦æ¥è¯»å–å®Œæ•´çš„æ¶ˆæ¯ï¼Œä¾‹å¦‚ UDP åè®®æ˜¯è¿™ä¹ˆè®¾è®¡çš„ï¼Œç”¨ä¸¤ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºæ¶ˆæ¯é•¿åº¦ï¼Œæ‰€ä»¥ UDP ä¸å­˜åœ¨ç²˜åŒ…å’Œæ‹†åŒ…é—®é¢˜ã€‚</p></li></ul><h3 id="ä¸‰æ¬¡æ¡æ‰‹" tabindex="-1"><a class="header-anchor" href="#ä¸‰æ¬¡æ¡æ‰‹" aria-hidden="true">#</a> ä¸‰æ¬¡æ¡æ‰‹</h3><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-f6a9438e-4eb8-4573-9ef5-30e07b8c31df.png" alt="" loading="lazy"></p><p><strong>ç¬¬ä¸€æ¬¡æ¡æ‰‹</strong>ï¼š</p><p>å®¢æˆ·ç«¯å°† TCP æŠ¥æ–‡æ ‡å¿—ä½<code>SYN</code>ç½®ä¸º 1ï¼Œéšæœºäº§ç”Ÿä¸€ä¸ªåºå·å€¼<code>seq=J</code>ï¼Œä¿å­˜åœ¨ TCP é¦–éƒ¨çš„åºåˆ—å·å­—æ®µé‡Œï¼ŒæŒ‡æ˜å®¢æˆ·ç«¯æ‰“ç®—è¿æ¥çš„æœåŠ¡å™¨çš„ç«¯å£ï¼Œå¹¶å°†è¯¥æ•°æ®åŒ…å‘é€ç»™æœåŠ¡å™¨ç«¯ï¼Œå‘é€å®Œæ¯•åï¼Œå®¢æˆ·ç«¯è¿›å…¥<code>SYN_SENT</code>çŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨ç«¯ç¡®è®¤ã€‚</p><p><strong>ç¬¬äºŒæ¬¡æ¡æ‰‹</strong>ï¼š</p><p>æœåŠ¡å™¨ç«¯æ”¶åˆ°æ•°æ®åŒ…åç”±æ ‡å¿—ä½<code>SYN=1</code>çŸ¥é“å®¢æˆ·ç«¯è¯·æ±‚å»ºç«‹è¿æ¥ï¼ŒæœåŠ¡å™¨ç«¯å°† TCP æŠ¥æ–‡æ ‡å¿—ä½ SYN å’Œ ACK éƒ½ç½®ä¸º 1ï¼Œ<code>ack=J+1</code>ï¼Œéšæœºäº§ç”Ÿä¸€ä¸ªåºå·å€¼<code>seq=K</code>ï¼Œå¹¶å°†è¯¥æ•°æ®åŒ…å‘é€ç»™å®¢æˆ·ç«¯ä»¥ç¡®è®¤è¿æ¥è¯·æ±‚ï¼ŒæœåŠ¡å™¨ç«¯è¿›å…¥<code>SYN_RCVD</code>çŠ¶æ€ã€‚</p><p><strong>ç¬¬ä¸‰æ¬¡æ¡æ‰‹</strong>ï¼š</p><p>å®¢æˆ·ç«¯æ”¶åˆ°ç¡®è®¤åï¼Œæ£€æŸ¥ ack æ˜¯å¦ä¸º<code>J+1</code>ï¼ŒACK æ˜¯å¦ä¸º 1ï¼Œå¦‚æœæ­£ç¡®åˆ™å°†æ ‡å¿—ä½ ACK ç½®ä¸º 1ï¼Œ<code>ack=K+1</code>ï¼Œå¹¶å°†è¯¥æ•°æ®åŒ…å‘é€ç»™æœåŠ¡å™¨ç«¯ï¼ŒæœåŠ¡å™¨ç«¯æ£€æŸ¥ ack æ˜¯å¦ä¸º<code>K+1</code>ï¼ŒACK æ˜¯å¦ä¸º 1ï¼Œå¦‚æœæ­£ç¡®åˆ™è¿æ¥å»ºç«‹æˆåŠŸï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯è¿›å…¥<code>ESTABLISHED</code>çŠ¶æ€ï¼Œå®Œæˆä¸‰æ¬¡æ¡æ‰‹ï¼Œéšåå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯ä¹‹é—´å¯ä»¥å¼€å§‹ä¼ è¾“æ•°æ®äº†ã€‚</p><p><strong>ä¸Šé¢å†™çš„ ack å’Œ ACKï¼Œä¸æ˜¯åŒä¸€ä¸ªæ¦‚å¿µï¼š</strong></p><ul><li><p>å°å†™çš„ ack ä»£è¡¨çš„æ˜¯å¤´éƒ¨çš„ç¡®è®¤å· Acknowledge numberï¼Œ ç¼©å†™ ackï¼Œæ˜¯å¯¹ä¸Šä¸€ä¸ªåŒ…çš„åºå·è¿›è¡Œç¡®è®¤çš„å·ï¼Œ<code>ack=seq+1</code>ã€‚</p></li><li><p>å¤§å†™çš„ ACKï¼Œåˆ™æ˜¯æˆ‘ä»¬ä¸Šé¢è¯´çš„ TCP é¦–éƒ¨çš„æ ‡å¿—ä½ï¼Œç”¨äºæ ‡å¿—çš„ TCP åŒ…æ˜¯å¦å¯¹ä¸Šä¸€ä¸ªåŒ…è¿›è¡Œäº†ç¡®è®¤æ“ä½œï¼Œå¦‚æœç¡®è®¤äº†ï¼Œåˆ™æŠŠ ACK æ ‡å¿—ä½è®¾ç½®æˆ 1ã€‚</p></li></ul><p><strong>TCP ä¸ºä»€ä¹ˆä¸‰æ¬¡æ¡æ‰‹è€Œä¸æ˜¯ä¸¤æ¬¡æ¡æ‰‹</strong></p><ul><li><p>ä¸ºäº†å®ç°å¯é æ•°æ®ä¼ è¾“ï¼Œ TCP åè®®çš„é€šä¿¡åŒæ–¹ï¼Œ éƒ½å¿…é¡»ç»´æŠ¤ä¸€ä¸ªåºåˆ—å·ï¼Œ ä»¥æ ‡è¯†å‘é€å‡ºå»çš„æ•°æ®åŒ…ä¸­ï¼Œ å“ªäº›æ˜¯å·²ç»è¢«å¯¹æ–¹æ”¶åˆ°çš„ã€‚ ä¸‰æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹å³æ˜¯é€šä¿¡åŒæ–¹ç›¸äº’å‘ŠçŸ¥åºåˆ—å·èµ·å§‹å€¼ï¼Œ å¹¶ç¡®è®¤å¯¹æ–¹å·²ç»æ”¶åˆ°äº†åºåˆ—å·èµ·å§‹å€¼çš„å¿…ç»æ­¥éª¤</p></li><li><p>å¦‚æœåªæ˜¯ä¸¤æ¬¡æ¡æ‰‹ï¼Œ è‡³å¤šåªæœ‰è¿æ¥å‘èµ·æ–¹çš„èµ·å§‹åºåˆ—å·èƒ½è¢«ç¡®è®¤ï¼Œ å¦ä¸€æ–¹é€‰æ‹©çš„åºåˆ—å·åˆ™å¾—ä¸åˆ°ç¡®è®¤</p></li></ul><p><strong>ã€Šè®¡ç®—æœºç½‘ç»œã€‹ä¸­æ˜¯è¿™æ ·è¯´çš„ï¼š</strong></p><p>ä¸ºäº†é˜²æ­¢å·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µçªç„¶åˆä¼ é€åˆ°äº†æœåŠ¡ç«¯ï¼Œå› è€Œäº§ç”Ÿé”™è¯¯ã€‚</p><blockquote><p>åœ¨ä¹¦ä¸­åŒæ—¶ä¸¾äº†ä¸€ä¸ªä¾‹å­ï¼Œå¦‚ä¸‹ï¼š</p></blockquote><p>å‡å¦‚<code>client</code>å‘å‡ºçš„ç¬¬ä¸€ä¸ªè¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µå¹¶æ²¡æœ‰ä¸¢å¤±ï¼Œè€Œæ˜¯åœ¨æŸä¸ªç½‘ç»œç»“ç‚¹é•¿æ—¶é—´çš„æ»ç•™äº†ï¼Œä»¥è‡´å»¶è¯¯åˆ°è¿æ¥é‡Šæ”¾ä»¥åçš„æŸä¸ªæ—¶é—´æ‰åˆ°è¾¾<code>server</code>ï¼Œæœ¬æ¥è¿™æ˜¯ä¸€ä¸ªæ—©å·²å¤±æ•ˆçš„æŠ¥æ–‡æ®µï¼Œä½†<code>server</code>æ”¶åˆ°æ­¤å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µåï¼Œå°±è¯¯è®¤ä¸ºæ˜¯ client å†æ¬¡å‘å‡ºçš„ä¸€ä¸ªæ–°çš„è¿æ¥è¯·æ±‚ã€‚</p><p>äºæ˜¯å°±å‘ client å‘å‡ºç¡®è®¤æŠ¥æ–‡æ®µï¼ŒåŒæ„å»ºç«‹è¿æ¥ï¼Œå‡è®¾ä¸é‡‡ç”¨<strong>ä¸‰æ¬¡æ¡æ‰‹</strong>ï¼Œé‚£ä¹ˆåªè¦ server å‘å‡ºç¡®è®¤ï¼Œæ–°çš„è¿æ¥å°±å»ºç«‹äº†ï¼Œç”±äºç°åœ¨ client å¹¶æ²¡æœ‰å‘å‡ºå»ºç«‹è¿æ¥çš„è¯·æ±‚ï¼Œå› æ­¤ä¸ä¼šç†ç¬ server çš„ç¡®è®¤ï¼Œä¹Ÿä¸ä¼šå‘ server å‘é€æ•°æ®ã€‚</p><p>ä½† server å´ä»¥ä¸ºæ–°çš„è¿æ¥å·²ç»å»ºç«‹ï¼Œå¹¶ä¸€ç›´ç­‰å¾…<code>client</code>å‘æ¥æ•°æ®ï¼Œè¿™æ ·ï¼Œserver çš„å¾ˆå¤šèµ„æºå°±ç™½ç™½æµªè´¹æ‰äº†ã€‚</p><p>é‡‡ç”¨<strong>ä¸‰æ¬¡æ¡æ‰‹</strong>çš„åŠæ³•å¯ä»¥é˜²æ­¢ä¸Šè¿°ç°è±¡å‘ç”Ÿï¼Œä¾‹å¦‚åˆšæ‰é‚£ç§æƒ…å†µï¼Œclient ä¸ä¼šå‘<code>server</code>çš„ç¡®è®¤å‘å‡ºç¡®è®¤ï¼Œserver ç”±äºæ”¶ä¸åˆ°ç¡®è®¤ï¼Œå°±çŸ¥é“ client å¹¶æ²¡æœ‰è¦æ±‚å»ºç«‹è¿æ¥ã€‚</p><p><strong>ä»€ä¹ˆæ˜¯åŠè¿æ¥é˜Ÿåˆ—</strong></p><p>æœåŠ¡å™¨ç¬¬ä¸€æ¬¡æ”¶åˆ°å®¢æˆ·ç«¯çš„ SYN ä¹‹åï¼Œå°±ä¼šå¤„äº <code>SYN_RCVD</code>çŠ¶æ€ï¼Œæ­¤æ—¶åŒæ–¹è¿˜æ²¡æœ‰å®Œå…¨å»ºç«‹å…¶è¿æ¥ï¼ŒæœåŠ¡å™¨ä¼šæŠŠæ­¤ç§çŠ¶æ€ä¸‹è¯·æ±‚è¿æ¥æ”¾åœ¨ä¸€ä¸ªé˜Ÿåˆ—é‡Œï¼Œæˆ‘ä»¬æŠŠè¿™ç§é˜Ÿåˆ—ç§°ä¹‹ä¸º<strong>åŠè¿æ¥é˜Ÿåˆ—</strong>ã€‚</p><p>å½“ç„¶è¿˜æœ‰ä¸€ä¸ª<strong>å…¨è¿æ¥é˜Ÿåˆ—</strong>ï¼Œå°±æ˜¯å·²ç»å®Œæˆä¸‰æ¬¡æ¡æ‰‹ï¼Œå»ºç«‹èµ·è¿æ¥çš„å°±ä¼šæ”¾åœ¨å…¨è¿æ¥é˜Ÿåˆ—ä¸­ã€‚å¦‚æœé˜Ÿåˆ—æ»¡äº†å°±æœ‰å¯èƒ½ä¼šå‡ºç°ä¸¢åŒ…ç°è±¡ã€‚</p><p>è¡¥å……ä¸€ç‚¹å…³äº<strong>SYN-ACK é‡ä¼ æ¬¡æ•°</strong>çš„é—®é¢˜ï¼š</p><p>æœåŠ¡å™¨å‘é€å®Œ SYNï¼ACK åŒ…ï¼Œå¦‚æœæœªæ”¶åˆ°å®¢æˆ·ç¡®è®¤åŒ…ï¼ŒæœåŠ¡å™¨è¿›è¡Œé¦–æ¬¡é‡ä¼ ï¼Œç­‰å¾…ä¸€æ®µæ—¶é—´ä»æœªæ”¶åˆ°å®¢æˆ·ç¡®è®¤åŒ…ï¼Œè¿›è¡Œç¬¬äºŒæ¬¡é‡ä¼ ï¼Œå¦‚æœé‡ä¼ æ¬¡æ•°è¶…è¿‡ç³»ç»Ÿè§„å®šçš„æœ€å¤§é‡ä¼ æ¬¡æ•°ï¼Œç³»ç»Ÿå°†è¯¥è¿æ¥ä¿¡æ¯ä»åŠè¿æ¥é˜Ÿåˆ—ä¸­åˆ é™¤ã€‚</p><p><strong>ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹ä¸­å¯ä»¥æºå¸¦æ•°æ®å—</strong></p><p>å…¶å®ç¬¬ä¸‰æ¬¡æ¡æ‰‹çš„æ—¶å€™ï¼Œæ˜¯å¯ä»¥æºå¸¦æ•°æ®çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç¬¬ä¸€æ¬¡ã€ç¬¬äºŒæ¬¡æ¡æ‰‹ä¸å¯ä»¥æºå¸¦æ•°æ®ï¼Œè€Œç¬¬ä¸‰æ¬¡æ¡æ‰‹æ˜¯å¯ä»¥æºå¸¦æ•°æ®çš„ã€‚</p><p>å‡å¦‚ç¬¬ä¸€æ¬¡æ¡æ‰‹å¯ä»¥æºå¸¦æ•°æ®çš„è¯ï¼Œå¦‚æœæœ‰äººè¦æ¶æ„æ”»å‡»æœåŠ¡å™¨ï¼Œé‚£ä»–æ¯æ¬¡éƒ½åœ¨ç¬¬ä¸€æ¬¡æ¡æ‰‹ä¸­çš„ SYN æŠ¥æ–‡ä¸­æ”¾å…¥å¤§é‡çš„æ•°æ®ï¼Œå› ä¸ºæ”»å‡»è€…æ ¹æœ¬å°±ä¸ç†æœåŠ¡å™¨çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›æ˜¯å¦æ­£å¸¸ï¼Œç„¶åç–¯ç‹‚ç€é‡å¤å‘ SYN æŠ¥æ–‡çš„è¯ï¼Œè¿™ä¼šè®©æœåŠ¡å™¨èŠ±è´¹å¾ˆå¤šæ—¶é—´ã€å†…å­˜ç©ºé—´æ¥æ¥æ”¶è¿™äº›æŠ¥æ–‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç¬¬ä¸€æ¬¡æ¡æ‰‹å¯ä»¥æ”¾æ•°æ®çš„è¯ï¼Œå…¶ä¸­ä¸€ä¸ªç®€å•çš„åŸå› å°±æ˜¯ä¼šè®©æœåŠ¡å™¨æ›´åŠ å®¹æ˜“å—åˆ°æ”»å‡»äº†ã€‚</p><p>è€Œå¯¹äºç¬¬ä¸‰æ¬¡çš„è¯ï¼Œæ­¤æ—¶å®¢æˆ·ç«¯å·²ç»å¤„äº established çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºå®¢æˆ·ç«¯æ¥è¯´ï¼Œä»–å·²ç»å»ºç«‹èµ·è¿æ¥äº†ï¼Œå¹¶ä¸”ä¹Ÿå·²ç»çŸ¥é“æœåŠ¡å™¨çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›æ˜¯æ­£å¸¸çš„äº†ï¼Œæ‰€ä»¥èƒ½æºå¸¦æ•°æ®æ²¡å•¥æ¯›ç—…ã€‚</p><h3 id="å››æ¬¡æŒ¥æ‰‹" tabindex="-1"><a class="header-anchor" href="#å››æ¬¡æŒ¥æ‰‹" aria-hidden="true">#</a> å››æ¬¡æŒ¥æ‰‹</h3><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-4a5e455f-5cf8-47a6-8fe4-a4c83a445f77.png" alt="" loading="lazy"></p><p>æŒ¥æ‰‹è¯·æ±‚å¯ä»¥æ˜¯ Client ç«¯ï¼Œä¹Ÿå¯ä»¥æ˜¯ Server ç«¯å‘èµ·çš„ï¼Œæˆ‘ä»¬å‡è®¾æ˜¯ Client ç«¯å‘èµ·ï¼š</p><ul><li><p>ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼š Client ç«¯å‘èµ·æŒ¥æ‰‹è¯·æ±‚ï¼Œå‘ Server ç«¯å‘é€æ ‡å¿—ä½æ˜¯ FIN æŠ¥æ–‡æ®µï¼Œè®¾ç½®åºåˆ—å· seqï¼Œæ­¤æ—¶ï¼ŒClient ç«¯è¿›å…¥<code>FIN_WAIT_1</code>çŠ¶æ€ï¼Œè¿™è¡¨ç¤º Client ç«¯æ²¡æœ‰æ•°æ®è¦å‘é€ç»™ Server ç«¯äº†ã€‚</p></li><li><p>ç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼šServer ç«¯æ”¶åˆ°äº† Client ç«¯å‘é€çš„ FIN æŠ¥æ–‡æ®µï¼Œå‘ Client ç«¯è¿”å›ä¸€ä¸ªæ ‡å¿—ä½æ˜¯ ACK çš„æŠ¥æ–‡æ®µï¼Œack è®¾ä¸º seq åŠ  1ï¼ŒClient ç«¯è¿›å…¥<code>FIN_WAIT_2</code>çŠ¶æ€ï¼ŒServer ç«¯å‘Šè¯‰ Client ç«¯ï¼Œæˆ‘ç¡®è®¤å¹¶åŒæ„ä½ çš„å…³é—­è¯·æ±‚ã€‚</p></li><li><p>ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼š Server ç«¯å‘ Client ç«¯å‘é€æ ‡å¿—ä½æ˜¯ FIN çš„æŠ¥æ–‡æ®µï¼Œè¯·æ±‚å…³é—­è¿æ¥ï¼ŒåŒæ—¶ Client ç«¯è¿›å…¥<code>LAST_ACK</code>çŠ¶æ€ã€‚</p></li><li><p>ç¬¬å››æ¬¡æŒ¥æ‰‹ ï¼š Client ç«¯æ”¶åˆ° Server ç«¯å‘é€çš„ FIN æŠ¥æ–‡æ®µï¼Œå‘ Server ç«¯å‘é€æ ‡å¿—ä½æ˜¯ ACK çš„æŠ¥æ–‡æ®µï¼Œç„¶å Client ç«¯è¿›å…¥<code>TIME_WAIT</code>çŠ¶æ€ï¼ŒServer ç«¯æ”¶åˆ° Client ç«¯çš„ ACK æŠ¥æ–‡æ®µä»¥åï¼Œå°±å…³é—­è¿æ¥ï¼Œæ­¤æ—¶ï¼ŒClient ç«¯ç­‰å¾… 2MSL çš„æ—¶é—´åä¾ç„¶æ²¡æœ‰æ”¶åˆ°å›å¤ï¼Œåˆ™è¯æ˜ Server ç«¯å·²æ­£å¸¸å…³é—­ï¼Œé‚£å¥½ï¼ŒClient ç«¯ä¹Ÿå¯ä»¥å…³é—­è¿æ¥äº†ã€‚</p></li></ul><p><strong>ä¸ºä»€ä¹ˆè¿æ¥çš„æ—¶å€™æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œå…³é—­çš„æ—¶å€™å´æ˜¯å››æ¬¡æ¡æ‰‹ï¼Ÿ</strong></p><p>å»ºç«‹è¿æ¥æ—¶å› ä¸ºå½“ Server ç«¯æ”¶åˆ° Client ç«¯çš„ SYN è¿æ¥è¯·æ±‚æŠ¥æ–‡åï¼Œå¯ä»¥ç›´æ¥å‘é€ SYN+ACK æŠ¥æ–‡ã€‚å…¶ä¸­ ACK æŠ¥æ–‡æ˜¯ç”¨æ¥åº”ç­”çš„ï¼ŒSYN æŠ¥æ–‡æ˜¯ç”¨æ¥åŒæ­¥çš„ã€‚æ‰€ä»¥å»ºç«‹è¿æ¥åªéœ€è¦ä¸‰æ¬¡æ¡æ‰‹ã€‚</p><p>ç”±äº TCP åè®®æ˜¯ä¸€ç§é¢å‘è¿æ¥çš„ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµçš„è¿è¾“å±‚é€šä¿¡åè®®ï¼ŒTCP æ˜¯å…¨åŒå·¥æ¨¡å¼ã€‚</p><p>è¿™å°±æ„å‘³ç€ï¼Œå…³é—­è¿æ¥æ—¶ï¼Œå½“ Client ç«¯å‘å‡º FIN æŠ¥æ–‡æ®µæ—¶ï¼Œåªæ˜¯è¡¨ç¤º Client ç«¯å‘Šè¯‰ Server ç«¯æ•°æ®å·²ç»å‘é€å®Œæ¯•äº†ã€‚å½“ Server ç«¯æ”¶åˆ° FIN æŠ¥æ–‡å¹¶è¿”å› ACK æŠ¥æ–‡æ®µï¼Œè¡¨ç¤ºå®ƒå·²ç»çŸ¥é“ Client ç«¯æ²¡æœ‰æ•°æ®å‘é€äº†ï¼Œä½†æ˜¯ Server ç«¯è¿˜æ˜¯å¯ä»¥å‘é€æ•°æ®åˆ° Client ç«¯çš„ï¼Œæ‰€ä»¥ Server å¾ˆå¯èƒ½å¹¶ä¸ä¼šç«‹å³å…³é—­ SOCKETï¼Œç›´åˆ° Server ç«¯æŠŠæ•°æ®ä¹Ÿå‘é€å®Œæ¯•ã€‚</p><p>å½“ Server ç«¯ä¹Ÿå‘é€äº† FIN æŠ¥æ–‡æ®µæ—¶ï¼Œè¿™ä¸ªæ—¶å€™å°±è¡¨ç¤º Server ç«¯ä¹Ÿæ²¡æœ‰æ•°æ®è¦å‘é€äº†ï¼Œå°±ä¼šå‘Šè¯‰ Client ç«¯ï¼Œæˆ‘ä¹Ÿæ²¡æœ‰æ•°æ®è¦å‘é€äº†ï¼Œä¹‹åå½¼æ­¤å°±ä¼šæ„‰å¿«çš„ä¸­æ–­è¿™æ¬¡ TCP è¿æ¥ã€‚</p><p><strong>ä¸ºä»€ä¹ˆ TIME_WAIT è¦ç­‰å¾… 2MSLï¼Ÿ</strong></p><p>MSLï¼šæŠ¥æ–‡æ®µæœ€å¤§ç”Ÿå­˜æ—¶é—´ï¼Œå®ƒæ˜¯ä»»ä½•æŠ¥æ–‡æ®µè¢«ä¸¢å¼ƒå‰åœ¨ç½‘ç»œå†…çš„æœ€é•¿æ—¶é—´ã€‚</p><p>æœ‰ä»¥ä¸‹ä¸¤ä¸ªåŸå› ï¼š</p><ul><li>ç¬¬ä¸€ç‚¹ï¼šä¿è¯ TCP åè®®çš„å…¨åŒå·¥è¿æ¥èƒ½å¤Ÿå¯é å…³é—­ï¼š ç”±äº IP åè®®çš„ä¸å¯é æ€§æˆ–è€…æ˜¯å…¶å®ƒç½‘ç»œåŸå› ï¼Œå¯¼è‡´äº† Server ç«¯æ²¡æœ‰æ”¶åˆ° Client ç«¯çš„ ACK æŠ¥æ–‡ï¼Œé‚£ä¹ˆ Server ç«¯å°±ä¼šåœ¨è¶…æ—¶ä¹‹åé‡æ–°å‘é€ FINï¼Œå¦‚æœæ­¤æ—¶ Client ç«¯çš„è¿æ¥å·²ç»å…³é—­å¤„äº<code>CLOESD</code>çŠ¶æ€ï¼Œé‚£ä¹ˆé‡å‘çš„ FIN å°±æ‰¾ä¸åˆ°å¯¹åº”çš„è¿æ¥äº†ï¼Œä»è€Œå¯¼è‡´è¿æ¥é”™ä¹±ï¼Œæ‰€ä»¥ï¼ŒClient ç«¯å‘é€å®Œæœ€åçš„ ACK ä¸èƒ½ç›´æ¥è¿›å…¥<code>CLOSED</code>çŠ¶æ€ï¼Œè€Œè¦ä¿æŒ<code>TIME_WAIT</code>ï¼Œå½“å†æ¬¡æ”¶åˆ° FIN çš„æ—¶å€™ï¼Œèƒ½å¤Ÿä¿è¯å¯¹æ–¹æ”¶åˆ° ACKï¼Œæœ€åæ­£ç¡®å…³é—­è¿æ¥ã€‚</li><li>ç¬¬äºŒç‚¹ï¼šä¿è¯è¿™æ¬¡è¿æ¥çš„é‡å¤æ•°æ®æ®µä»ç½‘ç»œä¸­æ¶ˆå¤± å¦‚æœ Client ç«¯å‘é€æœ€åçš„ ACK ç›´æ¥è¿›å…¥<code>CLOSED</code>çŠ¶æ€ï¼Œç„¶ååˆå†å‘ Server ç«¯å‘èµ·ä¸€ä¸ªæ–°è¿æ¥ï¼Œè¿™æ—¶ä¸èƒ½ä¿è¯æ–°è¿æ¥çš„ä¸åˆšå…³é—­çš„è¿æ¥çš„ç«¯å£å·æ˜¯ä¸åŒçš„ï¼Œä¹Ÿå°±æ˜¯æ–°è¿æ¥å’Œè€è¿æ¥çš„ç«¯å£å·å¯èƒ½ä¸€æ ·äº†ï¼Œé‚£ä¹ˆå°±å¯èƒ½å‡ºç°é—®é¢˜ï¼šå¦‚æœå‰ä¸€æ¬¡çš„è¿æ¥æŸäº›æ•°æ®æ»ç•™åœ¨ç½‘ç»œä¸­ï¼Œè¿™äº›å»¶è¿Ÿæ•°æ®åœ¨å»ºç«‹æ–°è¿æ¥ååˆ°è¾¾ Client ç«¯ï¼Œç”±äºæ–°è€è¿æ¥çš„ç«¯å£å·å’Œ IP éƒ½ä¸€æ ·ï¼ŒTCP åè®®å°±è®¤ä¸ºå»¶è¿Ÿæ•°æ®æ˜¯å±äºæ–°è¿æ¥çš„ï¼Œæ–°è¿æ¥å°±ä¼šæ¥æ”¶åˆ°è„æ•°æ®ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´æ•°æ®åŒ…æ··ä¹±ï¼Œæ‰€ä»¥ TCP è¿æ¥éœ€è¦åœ¨<code>TIME_WAIT</code>çŠ¶æ€ç­‰å¾… 2 å€ MSLï¼Œæ‰èƒ½ä¿è¯æœ¬æ¬¡è¿æ¥çš„æ‰€æœ‰æ•°æ®åœ¨ç½‘ç»œä¸­æ¶ˆå¤±ã€‚</li></ul><h3 id="æµé‡æ§åˆ¶" tabindex="-1"><a class="header-anchor" href="#æµé‡æ§åˆ¶" aria-hidden="true">#</a> æµé‡æ§åˆ¶</h3><p><strong>RTT å’Œ RTO</strong></p><p>RTTï¼šå‘é€ä¸€ä¸ªæ•°æ®åŒ…åˆ°æ”¶åˆ°å¯¹åº”çš„ ACKï¼Œæ‰€èŠ±è´¹çš„æ—¶é—´</p><p>RTOï¼šé‡ä¼ æ—¶é—´é—´éš”ï¼ˆTCP åœ¨å‘é€ä¸€ä¸ªæ•°æ®åŒ…åä¼šå¯åŠ¨ä¸€ä¸ªé‡ä¼ å®šæ—¶å™¨ï¼ŒRTO å³å®šæ—¶å™¨çš„é‡ä¼ æ—¶é—´ï¼‰</p><p>å¼€å§‹é¢„å…ˆç®—ä¸€ä¸ªå®šæ—¶å™¨æ—¶é—´ï¼Œå¦‚æœå›å¤ ACKï¼Œé‡ä¼ å®šæ—¶å™¨å°±è‡ªåŠ¨å¤±æ•ˆï¼Œå³ä¸éœ€è¦é‡ä¼ ï¼›å¦‚æœæ²¡æœ‰å›å¤ ACKï¼ŒRTO å®šæ—¶å™¨æ—¶é—´å°±åˆ°äº†ï¼Œé‡ä¼ ã€‚</p><p>RTO æ˜¯æœ¬æ¬¡å‘é€å½“å‰æ•°æ®åŒ…æ‰€é¢„ä¼°çš„è¶…æ—¶æ—¶é—´ï¼ŒRTO ä¸æ˜¯å›ºå®šå†™æ­»çš„é…ç½®ï¼Œæ˜¯ç»è¿‡ RTT è®¡ç®—å‡ºæ¥çš„ã€‚</p><p><strong>æ»‘åŠ¨çª—å£</strong></p><p>TCP çš„æ»‘åŠ¨çª—å£ä¸»è¦æœ‰ä¸¤ä¸ªä½œç”¨ï¼š</p><ol><li><p>ä¿è¯ TCP çš„å¯é æ€§</p></li><li><p>ä¿è¯ TCP çš„æµæ§ç‰¹æ€§</p></li></ol><p>TCP æŠ¥æ–‡å¤´æœ‰ä¸ªå­—æ®µå« Windowï¼Œç”¨äºæ¥æ”¶æ–¹é€šçŸ¥å‘é€æ–¹è‡ªå·±è¿˜æœ‰å¤šå°‘ç¼“å­˜åŒºå¯ä»¥æ¥æ”¶æ•°æ®ï¼Œå‘é€æ–¹æ ¹æ®æ¥æ”¶æ–¹çš„å¤„ç†èƒ½åŠ›æ¥å‘é€æ•°æ®ï¼Œä¸ä¼šå¯¼è‡´æ¥æ”¶æ–¹å¤„ç†ä¸è¿‡æ¥ï¼Œè¿™ä¾¿æ˜¯æµé‡æ§åˆ¶ã€‚</p><p>å‘é€æ–¹éƒ½ç»´æŒäº†ä¸€ä¸ªè¿ç»­çš„å…è®¸å‘é€çš„å¸§çš„åºå·ï¼Œç§°ä¸ºå‘é€çª—å£ï¼›åŒæ—¶ï¼Œæ¥æ”¶æ–¹ä¹Ÿç»´æŒäº†ä¸€ä¸ªè¿ç»­çš„å…è®¸æ¥æ”¶çš„å¸§çš„åºå·ï¼Œç§°ä¸ºæ¥æ”¶çª—å£ã€‚</p><p>å‘é€çª—å£å’Œæ¥æ”¶çª—å£çš„åºå·çš„ä¸Šä¸‹ç•Œä¸ä¸€å®šè¦ä¸€æ ·ï¼Œç”šè‡³å¤§å°ä¹Ÿå¯ä»¥ä¸åŒã€‚</p><p>ä¸åŒçš„æ»‘åŠ¨çª—å£åè®®çª—å£å¤§å°ä¸€èˆ¬ä¸åŒã€‚</p><p>å‘é€æ–¹çª—å£å†…çš„åºåˆ—å·ä»£è¡¨äº†é‚£äº›å·²ç»è¢«å‘é€ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰è¢«ç¡®è®¤çš„å¸§ï¼Œæˆ–è€…æ˜¯é‚£äº›å¯ä»¥è¢«å‘é€çš„å¸§</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-d734c97b-d7d6-4af6-8674-524a81fb4dbe.png" alt="" loading="lazy"></p><p>æ»‘åŠ¨çª—å£ç”±å››éƒ¨åˆ†ç»„æˆæ¯ä¸ªå­—èŠ‚çš„æ•°æ®éƒ½æœ‰å”¯ä¸€é¡ºåºçš„ç¼–ç ï¼Œéšç€æ—¶é—´å‘å±•ï¼Œæœªç¡®è®¤éƒ¨åˆ†ä¸å¯ä»¥å‘é€æ•°æ®åŒ…ç¼–ç éƒ¨åˆ†å‘å³ç§»åŠ¨ï¼Œå½¢å¼æ»‘åŠ¨çª—å£</p><ol><li><code>ç»¿è‰²</code>ï¼šå‘é€æˆåŠŸå¹¶å·²ç» ACK ç¡®è®¤çš„æ•°æ®</li><li><code>é»„è‰²</code>ï¼šå‘é€æˆåŠŸç­‰å¾… ACK ç¡®è®¤çš„æ•°æ®(å ç”¨æ»‘åŠ¨çª—å£å¤§å°)</li><li><code>ç´«è‰²</code>ï¼šæ»‘åŠ¨çª—å£å‰©ä½™å¤§å°å¯ä»¥å‘é€çš„å­—èŠ‚æ•°é‡(æ»‘åŠ¨çª—å£å¯ç”¨å¤§å°)</li><li><code>ç°è‰²</code>ï¼šåç»­æ•°æ®ç¼–ç </li></ol><p>æ¥æ”¶çª—å£çš„å¤§å°å°±æ˜¯æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼ï¼Œæ•°æ®ä¼ è¾“è¿‡ç¨‹ä¸­æ»‘åŠ¨çª—å£çš„å¯ç”¨å¤§å°æ˜¯åŠ¨æ€å˜åŒ–çš„ã€‚</p><p>ä½†æ˜¯è¿˜æœ‰è¿™ä¹ˆä¸€ç‚¹ï¼Œæ»‘åŠ¨çª—å£çš„è®¾è®¡ä»…ä»…æ˜¯è€ƒè™‘åˆ°äº†å¤„ç†æ–¹çš„å¤„ç†èƒ½åŠ›ï¼Œä½†æ˜¯æ²¡æœ‰è€ƒè™‘åˆ°é“è·¯çš„é€šç•…é—®é¢˜</p><p>å°±å¥½åƒæœåŠ¡ç«¯å¯ä»¥å¤„ç† 100M æ•°æ®ï¼Œä½†æ˜¯ä¼ è¾“çš„æ•°æ® 99M éƒ½å µåœ¨è·¯ä¸Šäº†ï¼Œè¿™ä¸å°±æ˜¯å¯¼è‡´é“è·¯é˜»å¡äº†ä¹ˆï¼Ÿè¿™å°±éœ€è¦å¦å¤–ä¸€ä¸ªè®¾è®¡<strong>æ‹¥å¡é¿å…</strong></p><p><strong>æµé‡æ§åˆ¶çš„ç›®çš„</strong></p><p>å¦‚æœå‘é€è€…å‘é€æ•°æ®è¿‡å¿«ï¼Œæ¥æ”¶è€…æ¥ä¸åŠæ¥æ”¶ï¼Œé‚£ä¹ˆå°±ä¼šæœ‰åˆ†ç»„ä¸¢å¤±ã€‚</p><p>ä¸ºäº†é¿å…åˆ†ç»„ä¸¢å¤±ï¼Œæ§åˆ¶å‘é€è€…çš„å‘é€é€Ÿåº¦ï¼Œä½¿å¾—æ¥æ”¶è€…æ¥å¾—åŠæ¥æ”¶ï¼Œè¿™å°±æ˜¯æµé‡æ§åˆ¶ã€‚</p><p>æµé‡æ§åˆ¶æ ¹æœ¬ç›®çš„æ˜¯é˜²æ­¢åˆ†ç»„ä¸¢å¤±ï¼Œå®ƒæ˜¯æ„æˆ TCP å¯é æ€§çš„ä¸€æ–¹é¢ã€‚</p><p><strong>å¦‚ä½•å®ç°æµé‡æ§åˆ¶</strong></p><p>ç”±æ»‘åŠ¨çª—å£åè®®ï¼ˆè¿ç»­ ARQ åè®®ï¼‰å®ç°ã€‚æ»‘åŠ¨çª—å£åè®®æ—¢ä¿è¯äº†åˆ†ç»„æ— å·®é”™ã€æœ‰åºæ¥æ”¶ï¼Œä¹Ÿå®ç°äº†æµé‡æ§åˆ¶ã€‚</p><p>ä¸»è¦çš„æ–¹å¼å°±æ˜¯æ¥æ”¶æ–¹è¿”å›çš„ ACK ä¸­ä¼šåŒ…å«è‡ªå·±çš„æ¥æ”¶çª—å£çš„å¤§å°ï¼Œå¹¶ä¸”åˆ©ç”¨å¤§å°æ¥æ§åˆ¶å‘é€æ–¹çš„æ•°æ®å‘é€ã€‚</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-4bdc0051-8878-4ffc-b9db-71b73ec49cd0.png" alt="" loading="lazy"></p><p><strong>æµé‡æ§åˆ¶å¼•å‘çš„æ­»é”</strong></p><p>å½“å‘é€è€…æ”¶åˆ°äº†ä¸€ä¸ªçª—å£ä¸º 0 çš„åº”ç­”ï¼Œå‘é€è€…ä¾¿åœæ­¢å‘é€ï¼Œç­‰å¾…æ¥æ”¶è€…çš„ä¸‹ä¸€ä¸ªåº”ç­”ã€‚</p><p>ä½†æ˜¯å¦‚æœè¿™ä¸ªçª—å£ä¸ä¸º 0 çš„åº”ç­”åœ¨ä¼ è¾“è¿‡ç¨‹ä¸¢å¤±ï¼Œå‘é€è€…ä¸€ç›´ç­‰å¾…ä¸‹å»ï¼Œè€Œæ¥æ”¶è€…ä»¥ä¸ºå‘é€è€…å·²ç»æ”¶åˆ°è¯¥åº”ç­”ï¼Œç­‰å¾…æ¥æ”¶æ–°æ•°æ®ï¼Œè¿™æ ·åŒæ–¹å°±ç›¸äº’ç­‰å¾…ï¼Œä»è€Œäº§ç”Ÿæ­»é”ã€‚</p><p>ä¸ºäº†é¿å…æµé‡æ§åˆ¶å¼•å‘çš„æ­»é”ï¼ŒTCP ä½¿ç”¨äº†<strong>æŒç»­è®¡æ—¶å™¨</strong>ã€‚æ¯å½“å‘é€è€…æ”¶åˆ°ä¸€ä¸ªé›¶çª—å£çš„åº”ç­”åå°±å¯åŠ¨è¯¥è®¡æ—¶å™¨ã€‚æ—¶é—´ä¸€åˆ°ä¾¿ä¸»åŠ¨å‘é€æŠ¥æ–‡è¯¢é—®æ¥æ”¶è€…çš„çª—å£å¤§å°ã€‚è‹¥æ¥æ”¶è€…ä»ç„¶è¿”å›é›¶çª—å£ï¼Œåˆ™é‡ç½®è¯¥è®¡æ—¶å™¨ç»§ç»­ç­‰å¾…ï¼›è‹¥çª—å£ä¸ä¸º 0ï¼Œåˆ™è¡¨ç¤ºåº”ç­”æŠ¥æ–‡ä¸¢å¤±äº†ï¼Œæ­¤æ—¶é‡ç½®å‘é€çª—å£åå¼€å§‹å‘é€ï¼Œè¿™æ ·å°±é¿å…äº†æ­»é”çš„äº§ç”Ÿã€‚</p><h3 id="æ‹¥å¡æ§åˆ¶" tabindex="-1"><a class="header-anchor" href="#æ‹¥å¡æ§åˆ¶" aria-hidden="true">#</a> æ‹¥å¡æ§åˆ¶</h3><p><strong>ä¸ºä»€ä¹ˆè¦è¿›è¡Œæ‹¥å¡æ§åˆ¶</strong></p><p>å‡è®¾ç½‘ç»œå·²ç»å‡ºç°æ‹¥å¡ï¼Œå¦‚æœä¸å¤„ç†æ‹¥å¡ï¼Œé‚£ä¹ˆå»¶æ—¶å¢åŠ ï¼Œå‡ºç°æ›´å¤šä¸¢åŒ…ï¼Œè§¦å‘å‘é€æ–¹é‡ä¼ æ•°æ®ï¼ŒåŠ å‰§æ‹¥å¡æƒ…å†µï¼Œç»§ç»­æ¶æ€§å¾ªç¯ç›´è‡³ç½‘ç»œç˜«ç—ªã€‚</p><p>æ‹¥å¡æ§åˆ¶ä¸æµé‡æ§åˆ¶çš„é€‚åº”åœºæ™¯å’Œç›®çš„å‡ä¸åŒã€‚</p><p>æ‹¥å¡å‘ç”Ÿå‰ï¼Œå¯é¿å…æµé‡è¿‡å¿«å¢é•¿æ‹–å®ç½‘ç»œï¼›æ‹¥å¡å‘ç”Ÿæ—¶ï¼Œå”¯ä¸€çš„é€‰æ‹©å°±æ˜¯é™ä½æµé‡ã€‚</p><p>ä¸»è¦ä½¿ç”¨ 4 ç§ç®—æ³•å®Œæˆæ‹¥å¡æ§åˆ¶ï¼š</p><ol><li>æ…¢å¯åŠ¨</li><li>æ‹¥å¡é¿å…</li><li>å¿«é‡ä¼ ç®—æ³•</li><li>å¿«é€Ÿæ¢å¤ç®—æ³•</li></ol><p>ç®—æ³• 1ã€2 é€‚ç”¨äºæ‹¥å¡å‘ç”Ÿå‰ï¼Œç®—æ³• 3 é€‚ç”¨äºæ‹¥å¡å‘ç”Ÿæ—¶ï¼Œç®—æ³• 4 é€‚ç”¨äºæ‹¥å¡è§£å†³åï¼ˆç›¸å½“äºæ‹¥å¡å‘ç”Ÿå‰ï¼‰ã€‚</p><p><strong>rwnd ä¸ cwnd</strong></p><p><code>rwnd</code>ï¼ˆReceiver Windowï¼Œæ¥æ”¶è€…çª—å£ï¼‰ä¸<code>cwnd</code>ï¼ˆCongestion Windowï¼Œæ‹¥å¡çª—å£ï¼‰ï¼š</p><ul><li><p>rwnd æ˜¯ç”¨äºæµé‡æ§åˆ¶çš„çª—å£å¤§å°ï¼Œä¸»è¦å–å†³äºæ¥æ”¶æ–¹çš„å¤„ç†é€Ÿåº¦ï¼Œç”±æ¥æ”¶æ–¹é€šçŸ¥å‘é€æ–¹è¢«åŠ¨è°ƒæ•´ã€‚</p></li><li><p>cwnd æ˜¯ç”¨äºæ‹¥å¡å¤„ç†çš„çª—å£å¤§å°ï¼Œå–å†³äºç½‘ç»œçŠ¶å†µï¼Œç”±å‘é€æ–¹æ¢æŸ¥ç½‘ç»œä¸»åŠ¨è°ƒæ•´ã€‚</p></li></ul><p>åŒæ—¶è€ƒè™‘æµé‡æ§åˆ¶ä¸æ‹¥å¡å¤„ç†ï¼Œåˆ™å‘é€æ–¹çª—å£çš„å¤§å°ä¸è¶…è¿‡<code>min{rwnd, cwnd}</code>ã€‚</p><p><strong>æ…¢å¯åŠ¨ç®—æ³•</strong></p><p>æ…¢å¼€å§‹ç®—æ³•çš„æ€è·¯å°±æ˜¯ï¼Œä¸è¦ä¸€å¼€å§‹å°±å‘é€å¤§é‡çš„æ•°æ®ï¼Œå…ˆæ¢æµ‹ä¸€ä¸‹ç½‘ç»œçš„æ‹¥å¡ç¨‹åº¦ï¼Œä¹Ÿå°±æ˜¯è¯´ç”±å°åˆ°å¤§é€æ¸å¢åŠ æ‹¥å¡çª—å£çš„å¤§å°ã€‚</p><p>è¿™é‡Œç”¨æŠ¥æ–‡æ®µçš„ä¸ªæ•°ä½œä¸ºæ‹¥å¡çª—å£çš„å¤§å°ä¸¾ä¾‹è¯´æ˜æ…¢å¼€å§‹ç®—æ³•ï¼Œå®é™…çš„æ‹¥å¡çª—å£å¤§å°æ˜¯ä»¥å­—èŠ‚ä¸ºå•ä½çš„ã€‚</p><p>ä¸€ä¸ªä¼ è¾“è½®æ¬¡æ‰€ç»å†çš„æ—¶é—´å…¶å®å°±æ˜¯å¾€è¿”æ—¶é—´ RTTï¼Œè€Œä¸”æ¯ç»è¿‡ä¸€ä¸ªä¼ è¾“è½®æ¬¡ï¼Œæ‹¥å¡çª—å£ cwnd å°±åŠ å€ã€‚</p><p>ä¸ºäº†é˜²æ­¢ cwnd å¢é•¿è¿‡å¤§å¼•èµ·ç½‘ç»œæ‹¥å¡ï¼Œè¿˜éœ€è®¾ç½®ä¸€ä¸ªæ…¢å¼€å§‹é—¨é™ ssthresh çŠ¶æ€å˜é‡ã€‚</p><blockquote><p>ssthresh çš„ç”¨æ³•å¦‚ä¸‹ï¼š</p></blockquote><ul><li><p>cwnd&lt;ssthresh æ—¶ï¼Œä½¿ç”¨æ…¢å¼€å§‹ç®—æ³•ã€‚</p></li><li><p>å½“ cwnd&gt;ssthresh æ—¶ï¼Œæ”¹ç”¨æ‹¥å¡é¿å…ç®—æ³•ã€‚</p></li><li><p>å½“ cwnd=ssthresh æ—¶ï¼Œæ…¢å¼€å§‹ä¸æ‹¥å¡é¿å…ç®—æ³•ä»»æ„</p></li></ul><p>æ³¨æ„ï¼Œè¿™é‡Œçš„æ…¢å¹¶ä¸æ˜¯æŒ‡ cwnd çš„å¢é•¿é€Ÿç‡æ…¢ï¼Œè€Œæ˜¯æŒ‡åœ¨ TCP å¼€å§‹å‘é€æŠ¥æ–‡æ®µæ—¶å…ˆè®¾ç½® cwnd=1ï¼Œç„¶åé€æ¸å¢å¤§ï¼Œè¿™å½“ç„¶æ¯”æŒ‰ç…§å¤§çš„ cwnd ä¸€ä¸‹å­æŠŠè®¸å¤šæŠ¥æ–‡æ®µçªç„¶æ³¨å…¥åˆ°ç½‘ç»œä¸­è¦æ…¢å¾—å¤šã€‚</p><p><strong>æ‹¥å¡é¿å…ç®—æ³•</strong></p><p>è®©æ‹¥å¡çª—å£ cwnd ç¼“æ…¢åœ°å¢å¤§ï¼Œå³æ¯ç»è¿‡ä¸€ä¸ªå¾€è¿”æ—¶é—´ RTT å°±æŠŠå‘é€æ–¹çš„æ‹¥å¡çª—å£ cwnd åŠ  1ï¼Œè€Œä¸æ˜¯åŠ å€ã€‚</p><p>è¿™æ ·æ‹¥å¡çª—å£ cwnd æŒ‰çº¿æ€§è§„å¾‹ç¼“æ…¢å¢é•¿ï¼Œæ¯”æ…¢å¼€å§‹ç®—æ³•çš„æ‹¥å¡çª—å£å¢é•¿é€Ÿç‡ç¼“æ…¢å¾—å¤š</p><p>æ— è®ºæ˜¯åœ¨æ…¢å¼€å§‹é˜¶æ®µè¿˜æ˜¯åœ¨æ‹¥å¡é¿å…é˜¶æ®µï¼Œåªè¦å‘é€æ–¹åˆ¤æ–­ç½‘ç»œå‡ºç°æ‹¥å¡ï¼ˆå…¶æ ¹æ®å°±æ˜¯æ²¡æœ‰æŒ‰æ—¶æ”¶åˆ°ç¡®è®¤ï¼Œè™½ç„¶æ²¡æœ‰æ”¶åˆ°ç¡®è®¤å¯èƒ½æ˜¯å…¶ä»–åŸå› çš„åˆ†ç»„ä¸¢å¤±ï¼Œä½†æ˜¯å› ä¸ºæ— æ³•åˆ¤å®šï¼Œæ‰€ä»¥éƒ½å½“åšæ‹¥å¡æ¥å¤„ç†ï¼‰ï¼Œå°±æŠŠæ…¢å¼€å§‹é—¨é™ ssthresh è®¾ç½®ä¸ºå‡ºç°æ‹¥å¡æ—¶çš„å‘é€çª—å£å¤§å°çš„ä¸€åŠï¼ˆä½†ä¸èƒ½å°äº 2ï¼‰ã€‚</p><p>ç„¶åæŠŠæ‹¥å¡çª—å£ cwnd é‡æ–°è®¾ç½®ä¸º 1ï¼Œæ‰§è¡Œæ…¢å¼€å§‹ç®—æ³•ã€‚</p><p>è¿™æ ·åšçš„ç›®çš„å°±æ˜¯è¦è¿…é€Ÿå‡å°‘ä¸»æœºå‘é€åˆ°ç½‘ç»œä¸­çš„åˆ†ç»„æ•°ï¼Œä½¿å¾—å‘ç”Ÿæ‹¥å¡çš„è·¯ç”±å™¨æœ‰è¶³å¤Ÿæ—¶é—´æŠŠé˜Ÿåˆ—ä¸­ç§¯å‹çš„åˆ†ç»„å¤„ç†å®Œæ¯•ã€‚</p><p><strong>æ•´ä¸ªæ‹¥å¡æ§åˆ¶çš„æµç¨‹ï¼š</strong></p><p>å‡å®š cwnd=24 æ—¶ï¼Œç½‘ç»œå‡ºç°è¶…æ—¶ï¼ˆæ‹¥å¡ï¼‰ï¼Œåˆ™æ›´æ–°åçš„ ssthresh=12ï¼Œcwnd é‡æ–°è®¾ç½®ä¸º 1ï¼Œå¹¶æ‰§è¡Œæ…¢å¼€å§‹ç®—æ³•ã€‚</p><p>å½“ cwnd=12=ssthresh æ—¶ï¼Œæ”¹ä¸ºæ‰§è¡Œæ‹¥å¡é¿å…ç®—æ³•</p><p>æ³¨æ„ï¼šæ‹¥å¡é¿å…å¹¶éå®Œå…¨èƒ½å¤Ÿé¿å…äº†é˜»å¡ï¼Œè€Œæ˜¯ä½¿ç½‘ç»œæ¯”è¾ƒä¸å®¹æ˜“å‡ºç°æ‹¥å¡ã€‚</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-314eba07-1388-4e8b-9307-8dd8d03b0dfe.png" alt="" loading="lazy"></p><p><strong>å¿«é‡ä¼ ç®—æ³•</strong></p><p>å¿«é‡ä¼ è¦æ±‚æ¥æ”¶æ–¹åœ¨æ”¶åˆ°ä¸€ä¸ªå¤±åºçš„æŠ¥æ–‡æ®µåå°±ç«‹å³å‘å‡ºé‡å¤ç¡®è®¤ï¼ˆä¸ºçš„æ˜¯ä½¿å‘é€æ–¹åŠæ—©çŸ¥é“æœ‰æŠ¥æ–‡æ®µæ²¡æœ‰åˆ°è¾¾å¯¹æ–¹ï¼Œå¯æé«˜ç½‘ç»œååé‡çº¦ 20%ï¼‰è€Œä¸è¦ç­‰åˆ°è‡ªå·±å‘é€æ•°æ®æ—¶æå¸¦ç¡®è®¤ã€‚</p><p>å¿«é‡ä¼ ç®—æ³•è§„å®šï¼Œå‘é€æ–¹åªè¦ä¸€è¿æ”¶åˆ°ä¸‰ä¸ªé‡å¤ç¡®è®¤å°±åº”å½“ç«‹å³é‡ä¼ å¯¹æ–¹å°šæœªæ”¶åˆ°çš„æŠ¥æ–‡æ®µï¼Œè€Œä¸å¿…ç»§ç»­ç­‰å¾…è®¾ç½®çš„é‡ä¼ è®¡æ—¶å™¨æ—¶é—´åˆ°æœŸ</p><p><strong>å¿«æ¢å¤ç®—æ³•</strong></p><p>å¿«é‡ä¼ é…åˆä½¿ç”¨çš„è¿˜æœ‰å¿«æ¢å¤ç®—æ³•ï¼Œæœ‰ä»¥ä¸‹ä¸¤ä¸ªè¦ç‚¹ï¼š</p><ul><li><p>å½“å‘é€æ–¹è¿ç»­æ”¶åˆ°ä¸‰ä¸ªé‡å¤ç¡®è®¤æ—¶ï¼Œå°±æŠŠ ssthresh é—¨é™å‡åŠï¼ˆä¸ºäº†é¢„é˜²ç½‘ç»œå‘ç”Ÿæ‹¥å¡ï¼‰ã€‚</p></li><li><p>ä½†æ˜¯æ¥ä¸‹å»å¹¶ä¸æ‰§è¡Œæ…¢å¼€å§‹ç®—æ³•</p></li></ul><p>è€ƒè™‘åˆ°å¦‚æœç½‘ç»œå‡ºç°æ‹¥å¡çš„è¯å°±ä¸ä¼šæ”¶åˆ°å¥½å‡ ä¸ªé‡å¤çš„ç¡®è®¤ï¼Œæ‰€ä»¥å‘é€æ–¹ç°åœ¨è®¤ä¸ºç½‘ç»œå¯èƒ½æ²¡æœ‰å‡ºç°æ‹¥å¡ã€‚</p><p>æ‰€ä»¥æ­¤æ—¶ä¸æ‰§è¡Œæ…¢å¼€å§‹ç®—æ³•ï¼Œè€Œæ˜¯å°† cwnd è®¾ç½®ä¸º ssthresh å‡åŠåçš„å€¼ï¼Œç„¶åæ‰§è¡Œæ‹¥å¡é¿å…ç®—æ³•ï¼Œä½¿ cwnd ç¼“æ…¢å¢å¤§ã€‚</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-3a424e43-405f-494d-b700-093781b63035.png" alt="" loading="lazy"></p><h3 id="socket" tabindex="-1"><a class="header-anchor" href="#socket" aria-hidden="true">#</a> Socket</h3><p>å³å¥—æ¥å­—ï¼Œæ˜¯åº”ç”¨å±‚ ä¸ <code>TCP/IP</code> åè®®æ—é€šä¿¡çš„ä¸­é—´è½¯ä»¶æŠ½è±¡å±‚ï¼Œè¡¨ç°ä¸ºä¸€ä¸ªå°è£…äº† TCP / IP åè®®æ— çš„ç¼–ç¨‹æ¥å£ï¼ˆAPIï¼‰</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-eff20ef6-9d35-4075-8c53-ab52c7a46ac7.png" alt="" loading="lazy"></p><p><code>Socket</code>ä¸æ˜¯ä¸€ç§åè®®ï¼Œè€Œæ˜¯ä¸€ä¸ªç¼–ç¨‹è°ƒç”¨æ¥å£ï¼ˆ<code>API</code>ï¼‰ï¼Œå±äºä¼ è¾“å±‚ï¼ˆä¸»è¦è§£å†³æ•°æ®å¦‚ä½•åœ¨ç½‘ç»œä¸­ä¼ è¾“ï¼‰</p><p>å¯¹ç”¨æˆ·æ¥è¯´ï¼Œåªéœ€è°ƒç”¨ Socket å»ç»„ç»‡æ•°æ®ï¼Œä»¥ç¬¦åˆæŒ‡å®šçš„åè®®ï¼Œå³å¯é€šä¿¡</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/xingbiaogongzhonghao.png" alt="" loading="lazy"></p><h2 id="udp" tabindex="-1"><a class="header-anchor" href="#udp" aria-hidden="true">#</a> UDP</h2><p><strong>UDP åè®®ç‰¹ç‚¹</strong></p><ul><li><p>UDP æ˜¯æ— è¿æ¥çš„ä¼ è¾“å±‚åè®®ï¼›</p></li><li><p>UDP ä½¿ç”¨å°½æœ€å¤§åŠªåŠ›äº¤ä»˜ï¼Œä¸ä¿è¯å¯é äº¤ä»˜ï¼›</p></li><li><p>UDP æ˜¯é¢å‘æŠ¥æ–‡çš„ï¼Œå¯¹åº”ç”¨å±‚äº¤ä¸‹æ¥çš„æŠ¥æ–‡ï¼Œä¸åˆå¹¶ï¼Œä¸æ‹†åˆ†ï¼Œä¿ç•™åŸæŠ¥æ–‡çš„è¾¹ç•Œï¼›</p></li><li><p>UDP æ²¡æœ‰æ‹¥å¡æ§åˆ¶ï¼Œå› æ­¤å³ä½¿ç½‘ç»œå‡ºç°æ‹¥å¡ä¹Ÿä¸ä¼šé™ä½å‘é€é€Ÿç‡ï¼›</p></li><li><p>UDP æ”¯æŒä¸€å¯¹ä¸€ã€€ä¸€å¯¹å¤šã€€å¤šå¯¹å¤šçš„äº¤äº’é€šä¿¡ï¼›</p></li><li><p>UDP çš„é¦–éƒ¨å¼€é”€å°ï¼Œåªæœ‰ï¼˜å­—èŠ‚</p></li></ul><p><strong>TCP å’Œ UDP çš„åŒºåˆ«</strong></p><ul><li><p>TCP æ˜¯å¯é ä¼ è¾“ï¼ŒUDP æ˜¯ä¸å¯é ä¼ è¾“;</p></li><li><p>TCP é¢å‘è¿æ¥ï¼ŒUDP æ— è¿æ¥;</p></li><li><p>TCP ä¼ è¾“æ•°æ®æœ‰åºï¼ŒUDP ä¸ä¿è¯æ•°æ®çš„æœ‰åºæ€§;</p></li><li><p>TCP ä¸ä¿å­˜æ•°æ®è¾¹ç•Œï¼ŒUDP ä¿ç•™æ•°æ®è¾¹ç•Œ;</p></li><li><p>TCP ä¼ è¾“é€Ÿåº¦ç›¸å¯¹ UDP è¾ƒæ…¢;</p></li><li><p>TCP æœ‰æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶ï¼ŒUDP æ²¡æœ‰;</p></li><li><p>TCP æ˜¯é‡é‡çº§åè®®ï¼ŒUDP æ˜¯è½»é‡çº§åè®®;</p></li><li><p>TCP é¦–éƒ¨è¾ƒé•¿ 20 å­—èŠ‚ï¼ŒUDP é¦–éƒ¨è¾ƒçŸ­ï¼˜å­—èŠ‚;</p></li></ul><p><strong>åŸºäº TCP å’Œ UDP çš„å¸¸ç”¨åè®®</strong></p><p>HTTPã€HTTPSã€FTPã€TELNETã€SMTP(ç®€å•é‚®ä»¶ä¼ è¾“åè®®)åè®®åŸºäºå¯é çš„ TCP åè®®ã€‚</p><p>TFTPã€DNSã€DHCPã€TFTPã€SNMP(ç®€å•ç½‘ç»œç®¡ç†åè®®)ã€RIP åŸºäºä¸å¯é çš„ UDP åè®®</p><h3 id="æŠ¥æ–‡æ®µ-1" tabindex="-1"><a class="header-anchor" href="#æŠ¥æ–‡æ®µ-1" aria-hidden="true">#</a> æŠ¥æ–‡æ®µ</h3><p>UDP çš„æŠ¥æ–‡æ®µå…±æœ‰ 2 ä¸ªå­—æ®µï¼šæ•°æ®å­—æ®µ + é¦–éƒ¨å­—æ®µ</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-a5d0d209-01db-4ee7-b63b-bf2659545702.png" alt="" loading="lazy"></p><p><strong>UDP æŠ¥æ–‡ä¸­æ¯ä¸ªå­—æ®µçš„å«ä¹‰å¦‚ä¸‹ï¼š</strong></p><ul><li>æºç«¯å£ï¼šè¿™ä¸ªå­—æ®µå æ® UDP æŠ¥æ–‡å¤´çš„å‰ 16 ä½ï¼Œé€šå¸¸åŒ…å«å‘é€æ•°æ®æŠ¥çš„åº”ç”¨ç¨‹åºæ‰€ä½¿ç”¨çš„ UDP ç«¯å£ï¼Œæ¥æ”¶ç«¯çš„åº”ç”¨ç¨‹åºåˆ©ç”¨è¿™ä¸ªå­—æ®µçš„å€¼ä½œä¸ºå‘é€å“åº”çš„ç›®çš„åœ°å€ï¼Œè¿™ä¸ªå­—æ®µæ˜¯å¯é€‰çš„ï¼Œæ‰€ä»¥å‘é€ç«¯çš„åº”ç”¨ç¨‹åºä¸ä¸€å®šä¼šæŠŠè‡ªå·±çš„ç«¯å£å·å†™å…¥è¯¥å­—æ®µä¸­ï¼Œå¦‚æœä¸å†™å…¥ç«¯å£å·ï¼Œåˆ™æŠŠè¿™ä¸ªå­—æ®µè®¾ç½®ä¸º 0ï¼Œè¿™æ ·ï¼Œæ¥æ”¶ç«¯çš„åº”ç”¨ç¨‹åºå°±ä¸èƒ½å‘é€å“åº”äº†ã€‚</li><li>ç›®çš„ç«¯å£ï¼šæ¥æ”¶ç«¯è®¡ç®—æœºä¸Š UDP è½¯ä»¶ä½¿ç”¨çš„ç«¯å£ï¼Œå æ® 16 ä½ã€‚</li><li>é•¿åº¦ï¼šè¯¥å­—æ®µå æ® 16 ä½ï¼Œè¡¨ç¤º UDP æ•°æ®æŠ¥é•¿åº¦ï¼ŒåŒ…å« UDP æŠ¥æ–‡å¤´å’Œ UDP æ•°æ®é•¿åº¦ï¼Œå› ä¸º UDP æŠ¥æ–‡å¤´é•¿åº¦æ˜¯ 8 ä¸ªå­—èŠ‚ï¼Œæ‰€ä»¥è¿™ä¸ªå€¼æœ€å°ä¸º 8ã€‚</li><li>æ ¡éªŒå€¼ï¼šè¯¥å­—æ®µå æ® 16 ä½ï¼Œå¯ä»¥æ£€éªŒæ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯å¦è¢«æŸåã€‚</li></ul><h2 id="ç½‘ç»œå±‚" tabindex="-1"><a class="header-anchor" href="#ç½‘ç»œå±‚" aria-hidden="true">#</a> ç½‘ç»œå±‚</h2><h3 id="mac-åœ°å€" tabindex="-1"><a class="header-anchor" href="#mac-åœ°å€" aria-hidden="true">#</a> MAC åœ°å€</h3><p>MAC ç§°ä¸ºç‰©ç†åœ°å€ï¼Œä¹Ÿå«ç¡¬ä»¶åœ°å€ï¼Œç”¨æ¥å®šä¹‰ç½‘ç»œè®¾å¤‡çš„ä½ç½®ï¼ŒMAC åœ°å€æ˜¯ç½‘å¡å‡ºå‚æ—¶è®¾å®šçš„ï¼Œæ˜¯å›ºå®šçš„ï¼ˆä½†å¯ä»¥é€šè¿‡åœ¨è®¾å¤‡ç®¡ç†å™¨ä¸­æˆ–æ³¨å†Œè¡¨ç­‰æ–¹å¼ä¿®æ”¹ï¼ŒåŒä¸€ç½‘æ®µå†…çš„ MAC åœ°å€å¿…é¡»å”¯ä¸€ï¼‰ã€‚</p><p>MAC åœ°å€é‡‡ç”¨åå…­è¿›åˆ¶æ•°è¡¨ç¤ºï¼Œé•¿åº¦æ˜¯ 6 ä¸ªå­—èŠ‚ï¼ˆ48 ä½ï¼‰ï¼Œåˆ†ä¸ºå‰ 24 ä½å’Œå 24 ä½ã€‚</p><blockquote><p>MAC åœ°å€å¯¹åº”äº OSI å‚è€ƒæ¨¡å‹çš„ç¬¬äºŒå±‚æ•°æ®é“¾è·¯å±‚ï¼Œå·¥ä½œåœ¨æ•°æ®é“¾è·¯å±‚çš„äº¤æ¢æœºç»´æŠ¤ç€è®¡ç®—æœº MAC åœ°å€å’Œè‡ªèº«ç«¯å£çš„æ•°æ®åº“ï¼Œäº¤æ¢æœºæ ¹æ®æ”¶åˆ°çš„æ•°æ®å¸§ä¸­çš„ç›®çš„ MAC åœ°å€å­—æ®µæ¥è½¬å‘æ•°æ®å¸§ã€‚</p></blockquote><h3 id="ip-åœ°å€" tabindex="-1"><a class="header-anchor" href="#ip-åœ°å€" aria-hidden="true">#</a> IP åœ°å€</h3><p>å¸¸è§çš„ IP åœ°å€åˆ†ä¸º IPv4 ä¸ IPv6 ä¸¤å¤§ç±»ï¼Œå½“å‰å¹¿æ³›åº”ç”¨çš„æ˜¯ IPv4ï¼Œç›®å‰ IPv4 å‡ ä¹è€—å°½ï¼Œä¸‹ä¸€é˜¶æ®µå¿…ç„¶ä¼šè¿›è¡Œç‰ˆæœ¬å‡çº§åˆ° IPv6ï¼›</p><p>IP åœ°å€æ˜¯ä»¥ç½‘ç»œå·å’Œä¸»æœºå·æ¥æ ‡ç¤ºç½‘ç»œä¸Šçš„ä¸»æœºçš„ï¼Œæˆ‘ä»¬æŠŠç½‘ç»œå·ç›¸åŒçš„ä¸»æœºç§°ä¹‹ä¸ºæœ¬åœ°ç½‘ç»œï¼Œç½‘ç»œå·ä¸ç›¸åŒçš„ä¸»æœºç§°ä¹‹ä¸ºè¿œç¨‹ç½‘ç»œä¸»æœº</p><p>æœ¬åœ°ç½‘ç»œä¸­çš„ä¸»æœºå¯ä»¥ç›´æ¥ç›¸äº’é€šä¿¡ï¼›è¿œç¨‹ç½‘ç»œä¸­çš„ä¸»æœºè¦ç›¸äº’é€šä¿¡å¿…é¡»é€šè¿‡æœ¬åœ°ç½‘å…³ï¼ˆGatewayï¼‰æ¥ä¼ é€’è½¬å‘æ•°æ®ã€‚</p><p>IP åœ°å€å¯¹åº”äº OSI å‚è€ƒæ¨¡å‹çš„ç¬¬ä¸‰å±‚ç½‘ç»œå±‚ï¼Œå·¥ä½œåœ¨ç½‘ç»œå±‚çš„è·¯ç”±å™¨æ ¹æ®ç›®æ ‡ IP å’Œæº IP æ¥åˆ¤æ–­æ˜¯å¦å±äºåŒä¸€ç½‘æ®µï¼Œå¦‚æœæ˜¯ä¸åŒç½‘æ®µï¼Œåˆ™è½¬å‘æ•°æ®åŒ…ã€‚</p><p><strong>IP åœ°å€æ ¼å¼å’Œè¡¨ç¤º</strong></p><p>IP åœ°å€(IPv4)ç”± 32 ä½äºŒè¿›åˆ¶æ•°ç»„æˆï¼Œåˆ†ä¸º 4 æ®µï¼ˆ4 ä¸ªå­—èŠ‚ï¼‰ï¼Œæ¯ä¸€æ®µä¸º 8 ä½äºŒè¿›åˆ¶æ•°ï¼ˆ1 ä¸ªå­—èŠ‚ï¼‰</p><p>æ¯ä¸€æ®µ 8 ä½äºŒè¿›åˆ¶ï¼Œä¸­é—´ä½¿ç”¨è‹±æ–‡çš„æ ‡ç‚¹ç¬¦å·<code>.</code>éš”å¼€</p><p>ç”±äºäºŒè¿›åˆ¶æ•°å¤ªé•¿ï¼Œä¸ºäº†ä¾¿äºè®°å¿†å’Œè¯†åˆ«ï¼ŒæŠŠæ¯ä¸€æ®µ 8 ä½äºŒè¿›åˆ¶æ•°è½¬æˆåè¿›åˆ¶ï¼Œå¤§å°ä¸º 0 è‡³ 255ã€‚</p><p>IP åœ°å€çš„è¿™ç§è¡¨ç¤ºæ³•å«åš<strong>ç‚¹åˆ†åè¿›åˆ¶è¡¨ç¤ºæ³•</strong>ã€‚</p><p>IP åœ°å€è¡¨ç¤ºä¸ºï¼š<code>xxx.xxx.xxx.xxx</code></p><p>ä¸¾ä¸ªæ —å­ï¼š<code>210.21.196.6</code>å°±æ˜¯ä¸€ä¸ª IP åœ°å€çš„è¡¨ç¤ºã€‚</p><p>è®¡ç®—æœºçš„ IP åœ°å€ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œä¸€éƒ¨åˆ†ä¸ºç½‘ç»œæ ‡è¯†ï¼Œä¸€éƒ¨åˆ†ä¸ºä¸»æœºæ ‡è¯†ï¼ŒåŒä¸€ç½‘æ®µå†…çš„è®¡ç®—æœºç½‘ç»œéƒ¨åˆ†ç›¸åŒï¼Œä¸»æœºéƒ¨åˆ†ä¸èƒ½åŒæ—¶é‡å¤å‡ºç°ã€‚</p><p><strong>è·¯ç”±å™¨</strong>è¿æ¥ä¸åŒç½‘æ®µï¼Œè´Ÿè´£ä¸åŒç½‘æ®µä¹‹é—´çš„æ•°æ®è½¬å‘ï¼Œ<strong>äº¤æ¢æœº</strong>è¿æ¥çš„æ˜¯åŒä¸€ç½‘æ®µçš„è®¡ç®—æœºã€‚</p><p>é€šè¿‡è®¾ç½®ç½‘ç»œåœ°å€å’Œä¸»æœºåœ°å€ï¼Œåœ¨äº’ç›¸è¿æ¥çš„æ•´ä¸ªç½‘ç»œä¸­ä¿è¯æ¯å°ä¸»æœºçš„ IP åœ°å€ä¸ä¼šäº’ç›¸é‡å ï¼Œå³ IP åœ°å€å…·æœ‰äº†å”¯ä¸€æ€§ã€‚</p><p><strong>IP åœ°å€åˆ†ç±»è¯¦è§£</strong></p><p>IP åœ°å€åˆ† Aã€Bã€Cã€Dã€E äº”ç±»ï¼Œå…¶ä¸­ Aã€Bã€C è¿™ä¸‰ç±»æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ IP åœ°å€ï¼ŒDã€E ç±»ä¸ºç‰¹æ®Šåœ°å€ã€‚</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-212f3f9b-b07f-4cc9-81eb-55bb478f1b66.png" alt="" loading="lazy"></p><h3 id="å­ç½‘æ©ç " tabindex="-1"><a class="header-anchor" href="#å­ç½‘æ©ç " aria-hidden="true">#</a> å­ç½‘æ©ç </h3><p><strong>å­ç½‘æ©ç çš„æ¦‚å¿µåŠä½œç”¨</strong></p><p>é€šè¿‡å­ç½‘æ©ç ï¼Œæ‰èƒ½è¡¨æ˜ä¸€å°ä¸»æœºæ‰€åœ¨çš„å­ç½‘ä¸å…¶ä»–å­ç½‘çš„å…³ç³»ï¼Œä½¿ç½‘ç»œæ­£å¸¸å·¥ä½œã€‚</p><p>å­ç½‘æ©ç å’Œ IP åœ°å€åšä¸è¿ç®—ï¼Œåˆ†ç¦»å‡º IP åœ°å€ä¸­çš„ç½‘ç»œåœ°å€å’Œä¸»æœºåœ°å€ï¼Œç”¨äºåˆ¤æ–­è¯¥ IP åœ°å€æ˜¯åœ¨æœ¬åœ°ç½‘ç»œä¸Šï¼Œè¿˜æ˜¯åœ¨è¿œç¨‹ç½‘ç»œç½‘ä¸Šã€‚</p><p>å­ç½‘æ©ç è¿˜ç”¨äºå°†ç½‘ç»œè¿›ä¸€æ­¥åˆ’åˆ†ä¸ºè‹¥å¹²å­ç½‘ï¼Œä»¥é¿å…ä¸»æœºè¿‡å¤šè€Œæ‹¥å µæˆ–è¿‡å°‘è€Œ IP æµªè´¹ã€‚</p><p><strong>å­ç½‘æ©ç çš„ç»„æˆ</strong></p><p>åŒ IP åœ°å€ä¸€æ ·ï¼Œå­ç½‘æ©ç æ˜¯ç”±é•¿åº¦ä¸º 32 ä½äºŒè¿›åˆ¶æ•°ç»„æˆçš„ä¸€ä¸ªåœ°å€ã€‚</p><p>å­ç½‘æ©ç  32 ä½ä¸ IP åœ°å€ 32 ä½ç›¸å¯¹åº”ï¼ŒIP åœ°å€å¦‚æœæŸä½æ˜¯ç½‘ç»œåœ°å€ï¼Œåˆ™å­ç½‘æ©ç ä¸º 1ï¼Œå¦åˆ™ä¸º 0ã€‚</p><p>ä¸¾ä¸ªæ —å­ï¼šå¦‚ï¼š<code>11111111.11111111.11111111.00000000</code></p><blockquote><p>å·¦è¾¹è¿ç»­çš„ 1 çš„ä¸ªæ•°ä»£è¡¨ç½‘ç»œå·çš„é•¿åº¦ï¼Œï¼ˆä½¿ç”¨æ—¶å¿…é¡»æ˜¯è¿ç»­çš„ï¼Œç†è®ºä¸Šä¹Ÿå¯ä»¥ä¸è¿ç»­ï¼‰ï¼Œå³è¾¹è¿ç»­çš„ 0 çš„ä¸ªæ•°ä»£è¡¨ä¸»æœºå·çš„é•¿åº¦ã€‚</p></blockquote><p><strong>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å­ç½‘æ©ç </strong></p><p>ä¸¤å°ä¸»æœºè¦é€šä¿¡ï¼Œé¦–å…ˆè¦åˆ¤æ–­æ˜¯å¦å¤„äºåŒä¸€ç½‘æ®µï¼Œå³ç½‘ç»œåœ°å€æ˜¯å¦ç›¸åŒã€‚</p><p>å¦‚æœç›¸åŒï¼Œé‚£ä¹ˆå¯ä»¥æŠŠæ•°æ®åŒ…ç›´æ¥å‘é€åˆ°ç›®æ ‡ä¸»æœºï¼Œå¦åˆ™å°±éœ€è¦è·¯ç”±ç½‘å…³å°†æ•°æ®åŒ…è½¬å‘é€åˆ°ç›®çš„åœ°ã€‚</p><blockquote><p>å¯ä»¥è¿™ä¹ˆç®€å•çš„ç†è§£ï¼šA ä¸»æœºè¦ä¸ B ä¸»æœºé€šä¿¡ï¼ŒA å’Œ B å„è‡ªçš„ IP åœ°å€ä¸ A ä¸»æœºçš„å­ç½‘æ©ç è¿›è¡Œ And ä¸è¿ç®—ï¼Œçœ‹å¾—å‡ºçš„ç»“æœï¼š</p><p>1ã€ç»“æœå¦‚æœç›¸åŒï¼Œåˆ™è¯´æ˜è¿™ä¸¤å°ä¸»æœºæ˜¯å¤„äºåŒä¸€ä¸ªç½‘æ®µï¼Œè¿™æ · A å¯ä»¥é€šè¿‡ ARP å¹¿æ’­å‘ç° B çš„ MAC åœ°å€ï¼ŒB ä¹Ÿå¯ä»¥å‘ç° A çš„ MAC åœ°å€æ¥å®ç°æ­£å¸¸é€šä¿¡ã€‚</p><p>2ã€å¦‚æœç»“æœä¸åŒï¼ŒARP å¹¿æ’­ä¼šåœ¨æœ¬åœ°ç½‘å…³ç»ˆç»“ï¼Œè¿™æ—¶å€™ A ä¼šæŠŠå‘ç»™ B çš„æ•°æ®åŒ…å…ˆå‘ç»™æœ¬åœ°ç½‘å…³ï¼Œç½‘å…³å†æ ¹æ® B ä¸»æœºçš„ IP åœ°å€æ¥æŸ¥è¯¢è·¯ç”±è¡¨ï¼Œå†å°†æ•°æ®åŒ…ç»§ç»­ä¼ é€’è½¬å‘ï¼Œæœ€ç»ˆé€è¾¾åˆ°ç›®çš„åœ° Bã€‚</p></blockquote><hr><blockquote><p>è®¡ç®—æœºçš„ç½‘å…³ï¼ˆGatewayï¼‰å°±æ˜¯åˆ°å…¶ä»–ç½‘æ®µçš„å‡ºå£ï¼Œä¹Ÿå°±æ˜¯è·¯ç”±å™¨æ¥å£ IP åœ°å€ã€‚</p><p>è·¯ç”±å™¨æ¥å£ä½¿ç”¨çš„ IP åœ°å€å¯ä»¥æ˜¯æœ¬ç½‘æ®µä¸­ä»»ä½•ä¸€ä¸ªåœ°å€ï¼Œä¸è¿‡é€šå¸¸ä½¿ç”¨è¯¥ç½‘æ®µçš„ç¬¬ä¸€ä¸ªå¯ç”¨çš„åœ°å€æˆ–æœ€åä¸€ä¸ªå¯ç”¨çš„åœ°å€ï¼Œè¿™æ˜¯ä¸ºäº†å°½å¯èƒ½é¿å…å’Œæœ¬ç½‘æ®µä¸­çš„ä¸»æœºåœ°å€å†²çªã€‚</p></blockquote><p>åœ¨å¦‚ä¸‹æ‹“æ‰‘å›¾ç¤ºä¾‹ä¸­ï¼ŒA ä¸ Bï¼ŒC ä¸ Dï¼Œéƒ½å¯ä»¥ç›´æ¥ç›¸äº’é€šä¿¡ï¼ˆéƒ½æ˜¯å±äºå„è‡ªåŒä¸€ç½‘æ®µï¼Œä¸ç”¨ç»è¿‡è·¯ç”±å™¨ï¼‰</p><p>ä½†æ˜¯ A ä¸ Cï¼ŒA ä¸ Dï¼ŒB ä¸ Cï¼ŒB ä¸ D å®ƒä»¬ä¹‹é—´ä¸å±äºåŒä¸€ç½‘æ®µï¼Œæ‰€ä»¥å®ƒä»¬é€šä¿¡æ˜¯è¦ç»è¿‡æœ¬åœ°ç½‘å…³ï¼Œç„¶åè·¯ç”±å™¨æ ¹æ®å¯¹æ–¹ IP åœ°å€ï¼Œåœ¨è·¯ç”±è¡¨ä¸­æŸ¥æ‰¾æ°å¥½æœ‰åŒ¹é…åˆ°å¯¹æ–¹ IP åœ°å€çš„ç›´è¿è·¯ç”±ï¼Œäºæ˜¯ä»å¦ä¸€è¾¹ç½‘å…³æ¥å£è½¬å‘å‡ºå»å®ç°äº’è¿</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-e1d68baa-9d8c-4595-bcb5-0dc5f6e240fe.png" alt="" loading="lazy"></p><p><strong>å­ç½‘æ©ç å’Œ IP åœ°å€çš„å…³ç³»</strong></p><p>å­ç½‘æ©ç æ˜¯ç”¨æ¥åˆ¤æ–­ä»»æ„ä¸¤å°ä¸»æœºçš„ IP åœ°å€æ˜¯å¦å±äºåŒä¸€ç½‘ç»œçš„ä¾æ®</p><p>æ‹¿åŒæ–¹ä¸»æœºçš„ IP åœ°å€å’Œè‡ªå·±ä¸»æœºçš„å­ç½‘æ©ç åšä¸è¿ç®—ï¼Œå¦‚ç»“æœä¸ºåŒä¸€ç½‘ç»œï¼Œå°±å¯ä»¥ç›´æ¥é€šä¿¡</p><p><strong>å¦‚ä½•æ ¹æ® IP åœ°å€å’Œå­ç½‘æ©ç ï¼Œè®¡ç®—ç½‘ç»œåœ°å€ï¼š</strong></p><p>å°† IP åœ°å€ä¸å­ç½‘æ©ç è½¬æ¢æˆäºŒè¿›åˆ¶æ•°ã€‚</p><p>å°†äºŒè¿›åˆ¶å½¢å¼çš„ IP åœ°å€ä¸å­ç½‘æ©ç åšä¸è¿ç®—ã€‚</p><p>å°†å¾—å‡ºçš„ç»“æœè½¬åŒ–ä¸ºåè¿›åˆ¶ï¼Œä¾¿å¾—åˆ°ç½‘ç»œåœ°å€ã€‚</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-5fab32f0-20d1-4c05-bfb9-47928ceac65d.png" alt="" loading="lazy"></p><h3 id="ç½‘å…³" tabindex="-1"><a class="header-anchor" href="#ç½‘å…³" aria-hidden="true">#</a> ç½‘å…³</h3><p>ç½‘å…³å®è´¨ä¸Šæ˜¯ä¸€ä¸ªç½‘ç»œé€šå‘å…¶ä»–ç½‘ç»œçš„ IP åœ°å€ã€‚</p><p>æ¯”å¦‚æœ‰ç½‘ç»œ A å’Œç½‘ç»œ Bï¼Œç½‘ç»œ A çš„ IP åœ°å€èŒƒå›´ä¸º<code>192.168.1.1~192. 168.1.254</code>ï¼Œå­ç½‘æ©ç ä¸º<code>255.255.255.0</code>ï¼›</p><p>ç½‘ç»œ B çš„ IP åœ°å€èŒƒå›´ä¸º<code>192.168.2.1~192.168.2.254</code>ï¼Œå­ç½‘æ©ç ä¸º<code>255.255.255.0</code>ã€‚</p><p>åœ¨æ²¡æœ‰è·¯ç”±å™¨çš„æƒ…å†µä¸‹ï¼Œä¸¤ä¸ªç½‘ç»œä¹‹é—´æ˜¯ä¸èƒ½è¿›è¡Œ TCP/IP é€šä¿¡çš„ï¼Œå³ä½¿æ˜¯ä¸¤ä¸ªç½‘ç»œè¿æ¥åœ¨åŒä¸€å°äº¤æ¢æœº(æˆ–é›†çº¿å™¨)ä¸Šï¼ŒTCP/IP åè®®ä¹Ÿä¼šæ ¹æ®å­ç½‘æ©ç (<code>255.255.255.0</code>)åˆ¤å®šä¸¤ä¸ªç½‘ç»œä¸­çš„ä¸»æœºå¤„åœ¨ä¸åŒçš„ç½‘ç»œé‡Œã€‚</p><p>è€Œè¦å®ç°è¿™ä¸¤ä¸ªç½‘ç»œä¹‹é—´çš„é€šä¿¡ï¼Œåˆ™å¿…é¡»é€šè¿‡ç½‘å…³ã€‚</p><p>å¦‚æœç½‘ç»œ A ä¸­çš„ä¸»æœºå‘ç°æ•°æ®åŒ…çš„ç›®çš„ä¸»æœºä¸åœ¨æœ¬åœ°ç½‘ç»œä¸­ï¼Œå°±æŠŠæ•°æ®åŒ…è½¬å‘ç»™å®ƒè‡ªå·±çš„ç½‘å…³ï¼Œå†ç”±ç½‘å…³è½¬å‘ç»™ç½‘ç»œ B çš„ç½‘å…³ï¼Œç½‘ç»œ B çš„ç½‘å…³å†è½¬å‘ç»™ç½‘ç»œ B çš„æŸä¸ªä¸»æœºã€‚ç½‘ç»œ B å‘ç½‘ç»œ A è½¬å‘æ•°æ®åŒ…çš„è¿‡ç¨‹ã€‚</p><p><strong>æ‰€ä»¥è¯´ï¼Œåªæœ‰è®¾ç½®å¥½ç½‘å…³çš„ IP åœ°å€ï¼ŒTCP/IP åè®®æ‰èƒ½å®ç°ä¸åŒç½‘ç»œä¹‹é—´çš„ç›¸äº’é€šä¿¡ã€‚</strong></p><blockquote><p>é‚£ä¹ˆè¿™ä¸ª IP åœ°å€æ˜¯å“ªå°æœºå™¨çš„ IP åœ°å€å‘¢ï¼Ÿ</p></blockquote><p>ç½‘å…³çš„ IP åœ°å€æ˜¯å…·æœ‰è·¯ç”±åŠŸèƒ½çš„è®¾å¤‡çš„ IP åœ°å€ï¼Œå…·æœ‰è·¯ç”±åŠŸèƒ½çš„è®¾å¤‡æœ‰è·¯ç”±å™¨ã€å¯ç”¨äº†è·¯ç”±åè®®çš„æœåŠ¡å™¨(å®è´¨ä¸Šç›¸å½“äºä¸€å°è·¯ç”±å™¨)ã€ä»£ç†æœåŠ¡å™¨(ä¹Ÿç›¸å½“äºä¸€å°è·¯ç”±å™¨)ã€‚</p><h3 id="ping" tabindex="-1"><a class="header-anchor" href="#ping" aria-hidden="true">#</a> Ping</h3><p>Ping æ˜¯æˆ‘ä»¬æµ‹è¯•ç½‘ç»œè¿æ¥çš„å¸¸ç”¨æŒ‡ä»¤ã€‚</p><p>å®ƒåˆ©ç”¨ ICMP æŠ¥æ–‡æ£€æµ‹ç½‘ç»œè¿æ¥ã€‚</p><p><strong>å‡è®¾ A ping B</strong></p><ol><li><p>ping é€šçŸ¥ç³»ç»Ÿå»ºç«‹ä¸€ä¸ªå›ºå®šæ ¼å¼çš„ ICMP è¯·æ±‚æ•°æ®åŒ…ã€‚</p></li><li><p>ICMP åè®®æ‰“åŒ…è¿™ä¸ªæ•°æ®åŒ…å’Œ B çš„ IP åœ°å€è½¬äº¤ç»™ IP åè®®å±‚</p></li><li><p>IP å±‚åè®®å°†æœºå™¨ B çš„ IP åœ°å€ä¸ºç›®çš„åœ°å€ï¼Œæœ¬æœºçš„ IP åœ°å€ä¸ºæºåœ°å€ï¼ŒåŠ ä¸Šä¸€äº›å¤´éƒ¨å¿…è¦çš„æ§åˆ¶ä¿¡æ¯ï¼Œæ„å»ºä¸€ä¸ª IP æ•°æ®åŒ…</p></li><li><p>è·å– B çš„ MAC åœ°å€ï¼Œåšè¿™ä¸ªæ“ä½œé¦–å…ˆæœºå™¨ A ä¼šåˆ¤æ–­ B æ˜¯å¦åœ¨åŒä¸€ç½‘æ®µå†…ï¼Œè‹¥ IP å±‚åè®®é€šè¿‡ B çš„ IP åœ°å€å’Œè‡ªå·±çš„å­ç½‘æ©ç ï¼Œå‘ç°å®ƒè·Ÿè‡ªå·±å±äºåŒä¸€ç½‘ç»œï¼Œå°±ç›´æ¥åœ¨æœ¬ç½‘ç»œæŸ¥æ‰¾è¿™å°æœºå™¨çš„ MACï¼Œå¦åˆ™åˆ™é€šè¿‡è·¯ç”±å™¨è¿›è¡Œç±»ä¼¼æŸ¥æ‰¾ã€‚</p></li></ol><blockquote><p>æ¥ä¸‹æ¥æ˜¯ ARP åè®®æ ¹æ® IP åœ°å€æŸ¥æ‰¾ MAC åœ°å€çš„è¿‡ç¨‹:</p></blockquote><ul><li><p>è‹¥ä¸¤å°æœºå™¨ä¹‹å‰æœ‰è¿‡é€šä¿¡ï¼Œåœ¨æœºå™¨ A çš„ ARP ç¼“å­˜è¡¨é‡Œåº”è¯¥å­˜æœ‰ B çš„ IP ä¸å…¶ MAC åœ°å€çš„æ˜ å°„å…³ç³»ã€‚</p></li><li><p>è‹¥æ²¡æœ‰ï¼Œåˆ™é€šè¿‡å‘é€ ARP è¯·æ±‚å¹¿æ’­ï¼Œå¾—åˆ°å›åº”çš„ B æœºå™¨ MAC åœ°å€ï¼Œå¹¶äº¤ç»™æ•°æ®é“¾è·¯å±‚</p></li></ul><ol start="5"><li><p>æ•°æ®é“¾è·¯å±‚æ„å»ºä¸€ä¸ªæ•°æ®å¸§ï¼Œç›®çš„åœ°å€æ˜¯ IP å±‚ä¼ è¿‡æ¥çš„ MAC åœ°å€ï¼Œæºåœ°å€æ˜¯æœ¬æœºçš„ MAC åœ°å€ï¼Œå†é™„åŠ ä¸€äº›å¿…è¦çš„æ§åˆ¶ä¿¡æ¯ï¼Œä¾æ®ä»¥å¤ªç½‘çš„ä»‹è´¨è®¿é—®è§„åˆ™å°†ä»–ä»¬ä¼ é€å‡ºå»</p></li><li><p>æœºå™¨ B æ”¶åˆ°è¿™ä¸ªæ•°æ®å¸§åï¼Œå…ˆæ£€æŸ¥ç›®çš„åœ°å€ï¼Œå’Œæœ¬æœº MAC åœ°å€å¯¹æ¯”ï¼š</p></li></ol><p>ç¬¦åˆï¼Œæ¥å—ï¼Œæ¥æ”¶åæ£€æŸ¥è¯¥æ•°æ®å¸§ï¼Œå°† IP æ•°æ®åŒ…ä»å¸§ä¸­æå–å‡ºæ¥ï¼Œäº¤ç»™æœ¬æœºçš„çš„ IP åœ°å€åè®®å±‚åè®®ï¼ŒIP åè®®å±‚æ£€æŸ¥ä¹‹åï¼Œå°†æœ‰ç”¨çš„ä¿¡æ¯æå–ç»™ ICMP åè®®ï¼Œåè€…å¤„ç†ï¼Œé©¬ä¸Šæ„å»ºä¸€ä¸ª ICMP åº”ç­”åŒ…ï¼Œå‘é€ç»™ Aï¼Œå…¶è¿‡ç¨‹å’Œä¸»æœº A å‘é€ ICMP è¯·æ±‚åŒ…åˆ° B çš„è¿‡ç¨‹ç±»ä¼¼ï¼Œä½†ä¸ç”¨ ARP å¹¿æ’­æ”¶å– A çš„ä¿¡æ¯ï¼Œå› ä¸ºè¯·æ±‚åŒ…ä¸­å·²ç»æœ‰è¶³å¤Ÿçš„ä¿¡æ¯ç”¨äº B å›åº” Aã€‚</p><p>è‹¥ä¸ç¬¦åˆï¼Œä¸¢å¼ƒã€‚</p><p>å¯ä»¥çŸ¥é“ PING çš„è¿‡ç¨‹å³ä¸€æ®µå‘é€æŠ¥æ–‡å’Œæ¥å—ç¡®è®¤æŠ¥æ–‡çš„è¿‡ç¨‹ï¼Œåœ¨æ¥å›ç›´æ¥å¯ä»¥è®¡ç®—æ—¶å»¶ã€‚</p><h3 id="dns" tabindex="-1"><a class="header-anchor" href="#dns" aria-hidden="true">#</a> DNS</h3><p>DNS é€šè¿‡ä¸»æœºåï¼Œæœ€ç»ˆå¾—åˆ°è¯¥ä¸»æœºåå¯¹åº”çš„ IP åœ°å€çš„è¿‡ç¨‹å«åšåŸŸåè§£æï¼ˆæˆ–ä¸»æœºåè§£æï¼‰ã€‚</p><p><strong>é€šä¿—çš„è®²</strong>ï¼Œæˆ‘ä»¬æ›´ä¹ æƒ¯äºè®°ä½ä¸€ä¸ªç½‘ç«™çš„åå­—ï¼Œ<a href="http://www.baidu.com" target="_blank" rel="noopener noreferrer">www.baidu.com<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼Œè€Œä¸æ˜¯è®°ä½å®ƒçš„ipåœ°å€ï¼Œæ¯”å¦‚ï¼š167.23.10.2</p><p><strong>å·¥ä½œåŸç†</strong></p><p>å°†ä¸»æœºåŸŸåè½¬æ¢ä¸º ip åœ°å€ï¼Œå±äºåº”ç”¨å±‚åè®®ï¼Œä½¿ç”¨ UDP ä¼ è¾“ã€‚</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-7d129644-dfa7-4151-ae2f-9f3f084c6be9.png" alt="" loading="lazy"></p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/cs/wangluo-4ed70ed6-ceeb-4761-8fd4-eb2fe092273d.png" alt="" loading="lazy"></p><p>ç¬¬ä¸€æ­¥ï¼Œå®¢æˆ·ç«¯å‘æœ¬åœ° DNS æœåŠ¡å™¨å‘é€è§£æè¯·æ±‚</p><p>ç¬¬äºŒæ­¥ï¼Œæœ¬åœ° DNS å¦‚æœ‰ç›¸åº”è®°å½•ä¼šç›´æ¥è¿”å›ç»“æœç»™å®¢æˆ·ç«¯ï¼Œå¦‚æ²¡æœ‰å°±å‘ DNS æ ¹æœåŠ¡å™¨å‘é€è¯·æ±‚</p><p>ç¬¬ä¸‰æ­¥,DSN æ ¹æœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚ï¼Œè¿”å›ç»™æœ¬åœ°æœåŠ¡å™¨ä¸€ä¸ªæ‰€æŸ¥è¯¢åŸŸçš„ä¸»åŸŸåæœåŠ¡å™¨çš„åœ°å€</p><p>ç¬¬å››æ­¥ï¼Œæœ¬åœ° dns æœåŠ¡å™¨å†å‘è¿”å›çš„ä¸»åŸŸåæœåŠ¡å™¨åœ°å€å‘é€æŸ¥è¯¢è¯·æ±‚</p><p>ç¬¬äº”æ­¥ï¼Œä¸»åŸŸåæœåŠ¡å™¨å¦‚æœ‰è®°å½•å°±è¿”å›ç»“æœï¼Œæ²¡æœ‰çš„è¯è¿”å›ç›¸å…³çš„ä¸‹çº§åŸŸåæœåŠ¡å™¨åœ°å€</p><p>ç¬¬å…­æ­¥ï¼Œæœ¬åœ° DNS æœåŠ¡å™¨ç»§ç»­å‘æ¥æ”¶åˆ°çš„åœ°å€è¿›è¡ŒæŸ¥è¯¢è¯·æ±‚</p><p>ç¬¬ä¸ƒæ­¥ï¼Œä¸‹çº§åŸŸåæœåŠ¡å™¨æœ‰ç›¸åº”è®°å½•ï¼Œè¿”å›ç»“æœ</p><p>ç¬¬å…«æ­¥ï¼Œæœ¬åœ° dns æœåŠ¡å™¨å°†æ”¶åˆ°çš„è¿”å›åœ°å€å‘ç»™å®¢æˆ·ç«¯ï¼ŒåŒæ—¶å†™å…¥è‡ªå·±çš„ç¼“å­˜ï¼Œä»¥ä¾¿ä¸‹æ¬¡æŸ¥è¯¢</p><p>DNS åŸŸåæŸ¥è¯¢å®é™…ä¸Šå°±æ˜¯ä¸ªä¸æ–­é€’å½’æŸ¥è¯¢çš„è¿‡ç¨‹ï¼Œç›´åˆ°æŸ¥æ‰¾åˆ°ç›¸åº”ç»“æœï¼Œéœ€è¦æ³¨æ„çš„æ—¶ï¼Œå½“æ‰¾ä¸åˆ°ç›¸åº”è®°å½•ï¼Œä¼šè¿”å›ç©ºç»“æœï¼Œè€Œä¸æ˜¯è¶…æ—¶ä¿¡æ¯</p><h4 id="dns-è®°å½•" tabindex="-1"><a class="header-anchor" href="#dns-è®°å½•" aria-hidden="true">#</a> DNS è®°å½•</h4><blockquote><p>A è®°å½•</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>å®šä¹‰www.example.comçš„ipåœ°å€
www.example.com.     IN     A     139.18.28.5;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„å°±æ˜¯ä¸€æ¡ DNS è®°å½•ï¼Œçº¯æ–‡æœ¬å³å¯ã€‚</p><p><code>www.example.com</code> æ˜¯è¦è§£æçš„åŸŸåã€‚</p><p>A æ˜¯è®°å½•çš„ç±»å‹ï¼ŒA è®°å½•ä»£è¡¨ç€è¿™æ˜¯ä¸€æ¡ç”¨äºè§£æ IPv4 åœ°å€çš„è®°å½•ã€‚</p><p>ä»è¿™æ¡è®°å½•å¯çŸ¥ï¼Œ<code>www.example.com</code>çš„ IP åœ°å€æ˜¯ 139.18.28.5ã€‚</p><blockquote><p>CNAME</p></blockquote><p>CNAME ç”¨äºå®šä¹‰åŸŸåçš„åˆ«åï¼Œå¦‚ä¸‹é¢è¿™æ¡ DNS è®°å½•ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>å®šä¹‰www.example.comçš„åˆ«å
a.example.com.          IN     CNAME   b.example.com.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ¡ DNS è®°å½•å®šä¹‰äº† <code>a.example.com</code> æ˜¯ <code>b.example.com</code> çš„åˆ«åã€‚</p><p>ç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ <code>a.example.com</code> æ—¶å€™ï¼Œé€šè¿‡ DNS æŸ¥è¯¢ä¼šçŸ¥é“ <code>a.example.com</code> æ˜¯ <code>b.example.com</code> çš„åˆ«åï¼Œå› æ­¤éœ€è¦å®é™… IP çš„æ—¶å€™ï¼Œä¼šå»æ‹¿ <code>b.example.com</code> çš„ A è®°å½•ã€‚</p><p>å½“ä½ æƒ³æŠŠä¸€ä¸ªç½‘ç«™è¿ç§»åˆ°æ–°åŸŸåï¼Œæ—§åŸŸåä»ç„¶ä¿ç•™çš„æ—¶å€™ï¼›è¿˜æœ‰å½“ä½ æƒ³å°†è‡ªå·±çš„é™æ€èµ„æºæ”¾åˆ° CDN ä¸Šçš„æ—¶å€™ï¼ŒCNAME å°±éå¸¸æœ‰ç”¨ã€‚</p><blockquote><p>AAAA è®°å½•</p></blockquote><p>A è®°å½•æ˜¯åŸŸåå’Œ IPv4 åœ°å€çš„æ˜ å°„å…³ç³»ã€‚å’Œ A è®°å½•ç±»ä¼¼ï¼ŒAAAA è®°å½•åˆ™æ˜¯åŸŸåå’Œ IPv6 åœ°å€çš„æ˜ å°„å…³ç³»ã€‚</p><blockquote><p>MX è®°å½•</p></blockquote><p>MX è®°å½•æ˜¯é‚®ä»¶è®°å½•ï¼Œç”¨æ¥æè¿°é‚®ä»¶æœåŠ¡å™¨çš„åŸŸåã€‚</p><p>åœ¨å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šå‘é‚®ä»¶åˆ°æŸä¸ªåŒäº‹çš„é‚®ç®±ã€‚</p><p>æ¯”å¦‚è¯´ï¼Œå‘é€ä¸€å°é‚®ä»¶åˆ° <code>xiaoming@xiaoflyfish.com</code>ï¼Œé‚£ä¹ˆå¦‚ä½•çŸ¥é“å“ªä¸ª IP åœ°å€æ˜¯é‚®ä»¶æœåŠ¡å™¨å‘¢ï¼Ÿ</p><p>è¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨åˆ°ä¸‹é¢è¿™æ¡ MX è®°å½•ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>IN MX mail.xiaoflyfish.com
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>mail.xiaoflyfish.com</code> çš„ IP åœ°å€å¯ä»¥é€šè¿‡æŸ¥è¯¢ <code>mail.xiaoflyfishcom </code>çš„ A è®°å½•å’Œ AAAA è®°å½•è·å¾—ã€‚</p><blockquote><p>NS è®°å½•</p></blockquote><p>NS è®°å½•æ˜¯æè¿° DNS æœåŠ¡å™¨ç½‘å€ã€‚ä» DNS çš„å­˜å‚¨ç»“æ„ä¸Šè¯´ï¼ŒName Server ä¸­å«æœ‰æƒå¨ DNS æœåŠ¡çš„ç›®å½•ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼ŒNS è®°å½•æŒ‡å®šå“ªå° Server æ˜¯å›ç­” DNS æŸ¥è¯¢çš„æƒå¨åŸŸåæœåŠ¡å™¨ã€‚</p><p>å½“ä¸€ä¸ª DNS æŸ¥è¯¢çœ‹åˆ° NS è®°å½•çš„æ—¶å€™ï¼Œä¼šå†å» NS è®°å½•é…ç½®çš„ DNS æœåŠ¡å™¨æŸ¥è¯¢ï¼Œå¾—åˆ°æœ€ç»ˆçš„è®°å½•ã€‚å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>a.com.     IN      NS      ns1.a.com.
a.com.     IN      NS      ns2.a.com.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“è§£æ <code>a.com</code> åœ°å€æ—¶ï¼Œæˆ‘ä»¬çœ‹åˆ° <code>a.com</code> æœ‰ä¸¤ä¸ª NS è®°å½•ï¼Œæ‰€ä»¥ç¡®å®šæœ€ç»ˆ <code>a.com</code> çš„è®°å½•åœ¨ <code>ns1.a.com</code> å’Œ <code>ns2.a.com</code> ä¸Šã€‚</p><p>ä»è®¾è®¡ä¸Šçœ‹ï¼Œns1 å’Œ ns2 æ˜¯ç½‘ç«™ <code>a.com</code> æä¾›çš„æ™ºèƒ½ DNS æœåŠ¡å™¨ï¼Œå¯ä»¥æä¾›è´Ÿè½½å‡è¡¡ã€åˆ†å¸ƒå¼ Sharding ç­‰æœåŠ¡ã€‚</p><p>æ¯”å¦‚å½“ä¸€ä¸ªåŒ—äº¬çš„ç”¨æˆ·æƒ³è¦è®¿é—® <code>a.com</code> çš„æ—¶å€™ï¼Œns1 çœ‹åˆ°è¿™æ˜¯ä¸€ä¸ªåŒ—äº¬çš„ IP å°±è¿”å›ä¸€ä¸ªç¦»åŒ—äº¬æœ€è¿‘çš„æœºæˆ¿ IPã€‚</p><p>ä¸Šé¢ä»£ç ä¸­ <code>a.com</code> é…ç½®äº†ä¸¤ä¸ª NS è®°å½•ã€‚</p><p>é€šå¸¸ NS ä¸ä¼šåªæœ‰ä¸€ä¸ªï¼Œè¿™æ˜¯ä¸ºäº†ä¿è¯é«˜å¯ç”¨ï¼Œä¸€ä¸ªæŒ‚äº†å¦ä¸€ä¸ªè¿˜èƒ½ç»§ç»­æœåŠ¡ã€‚</p><p>é€šå¸¸æ•°å­—å°çš„ NS è®°å½•ä¼˜å…ˆçº§æ›´é«˜ï¼Œä¹Ÿå°±æ˜¯ ns1 ä¼šä¼˜å…ˆäº ns2 å“åº”ã€‚</p><p>é…ç½®äº†ä¸Šé¢çš„ NS è®°å½•åï¼Œå¦‚æœè¿˜é…ç½®äº† <code>a.com</code> çš„ A è®°å½•ï¼Œé‚£ä¹ˆè¿™ä¸ª A è®°å½•ä¼šè¢« NS è®°å½•è¦†ç›–ã€‚</p><h3 id="arp-åè®®" tabindex="-1"><a class="header-anchor" href="#arp-åè®®" aria-hidden="true">#</a> ARP åè®®</h3><p>ARP å³åœ°å€è§£æåè®®ï¼Œ ç”¨äºå®ç°ä» IP åœ°å€åˆ° MAC åœ°å€çš„æ˜ å°„ï¼Œå³è¯¢é—®ç›®æ ‡ IP å¯¹åº”çš„ MAC åœ°å€ã€‚</p><p><strong>ARP åè®®çš„å·¥ä½œè¿‡ç¨‹</strong></p><p>é¦–å…ˆï¼Œæ¯ä¸ªä¸»æœºéƒ½ä¼šæœ‰è‡ªå·±çš„ ARP ç¼“å­˜åŒºä¸­å»ºç«‹ä¸€ä¸ª ARP åˆ—è¡¨ï¼Œä»¥è¡¨ç¤º IP åœ°å€å’Œ MAC åœ°å€ä¹‹é—´çš„å¯¹åº”å…³ç³»</p><p>å½“æºä¸»æœºè¦å‘é€æ•°æ®æ—¶ï¼Œé¦–å…ˆæ£€æµ‹ ARP åˆ—è¡¨ä¸­æ˜¯å¦å¯¹åº” IP åœ°å€çš„ç›®çš„ä¸»æœºçš„ MAC åœ°å€ï¼Œå¦‚æœæœ‰ï¼Œåˆ™ç›´æ¥å‘é€æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±å‘æœ¬ç½‘æ®µçš„æ‰€æœ‰ä¸»æœºå‘é€ ARP æ•°æ®åŒ…</p><p>å½“æœ¬ç½‘ç»œçš„æ‰€æœ‰ä¸»æœºæ”¶åˆ°è¯¥ ARP æ•°æ®åŒ…æ—¶ï¼Œé¦–å…ˆæ£€æŸ¥æ•°æ®åŒ…ä¸­çš„ IP åœ°å€æ˜¯å¦æ˜¯è‡ªå·±çš„ IP åœ°å€ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™å¿½ç•¥è¯¥æ•°æ®åŒ…ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™é¦–å…ˆä»æ•°æ®åŒ…ä¸­å–å‡ºæºä¸»æœºçš„ IP å’Œ MAC åœ°å€å†™å…¥åˆ° ARP åˆ—è¡¨ä¸­ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™è¦†ç›–ç„¶åå°†è‡ªå·±çš„ MAC åœ°å€å†™å…¥ ARP å“åº”åŒ…ä¸­ï¼Œå‘Šè¯‰æºä¸»æœºè‡ªå·±æ˜¯å®ƒæƒ³è¦æ‰¾çš„ MAC åœ°å€</p><p>æºä¸»æœºæ”¶åˆ° ARP å“åº”åŒ…åï¼Œå°†ç›®çš„ä¸»æœºçš„ IP å’Œ MAC åœ°å€å†™å…¥ ARP åˆ—è¡¨ï¼Œå¹¶åˆ©ç”¨æ­¤ä¿¡æ¯å‘é€æ•°æ®ï¼Œå¦‚æœæºä¸»æœºä¸€ç›´æ²¡æœ‰æ”¶åˆ° ARP å“åº”æ•°æ®åŒ…ï¼Œè¡¨ç¤º ARP æŸ¥è¯¢å¤±è´¥ã€‚</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/xingbiaogongzhonghao.png" alt="" loading="lazy"></p><h2 id="æ•°å­—ç­¾å" tabindex="-1"><a class="header-anchor" href="#æ•°å­—ç­¾å" aria-hidden="true">#</a> æ•°å­—ç­¾å</h2><p>ç½‘ç»œä¼ è¾“è¿‡ç¨‹ä¸­éœ€è¦ç»è¿‡å¾ˆå¤šä¸­é—´èŠ‚ç‚¹ï¼Œè™½ç„¶æ•°æ®æ— æ³•è¢«è§£å¯†ï¼Œä½†å¯èƒ½è¢«ç¯¡æ”¹</p><p>æ•°å­—ç­¾åæ ¡éªŒæ•°æ®çš„å®Œæ•´æ€§</p><p><strong>æ•°å­—ç­¾åæœ‰ä¸¤ç§åŠŸæ•ˆ</strong>ï¼š</p><ul><li><p>èƒ½ç¡®å®šæ¶ˆæ¯ç¡®å®æ˜¯ç”±å‘é€æ–¹ç­¾åå¹¶å‘å‡ºæ¥çš„ï¼Œå› ä¸ºåˆ«äººå‡å†’ä¸äº†å‘é€æ–¹çš„ç­¾åã€‚</p></li><li><p>æ•°å­—ç­¾åèƒ½ç¡®å®šæ¶ˆæ¯çš„å®Œæ•´æ€§ï¼Œè¯æ˜æ•°æ®æ˜¯å¦æœªè¢«ç¯¡æ”¹è¿‡ã€‚</p></li></ul><p>å°†ä¸€æ®µæ–‡æœ¬å…ˆç”¨ Hash å‡½æ•°ç”Ÿæˆæ¶ˆæ¯æ‘˜è¦ï¼Œç„¶åç”¨å‘é€è€…çš„ç§é’¥åŠ å¯†ç”Ÿæˆæ•°å­—ç­¾åï¼Œä¸åŸæ–‡æ–‡ä¸€èµ·ä¼ é€ç»™æ¥æ”¶è€…</p><p>æ¥æ”¶è€…åªæœ‰ç”¨å‘é€è€…çš„å…¬é’¥æ‰èƒ½è§£å¯†è¢«åŠ å¯†çš„æ‘˜è¦ä¿¡æ¯ï¼Œç„¶åç”¨ HASH å‡½æ•°å¯¹æ”¶åˆ°çš„åŸæ–‡äº§ç”Ÿä¸€ä¸ªæ‘˜è¦ä¿¡æ¯ï¼Œä¸ä¸Šä¸€æ­¥å¾—åˆ°çš„æ‘˜è¦ä¿¡æ¯å¯¹æ¯”ã€‚</p><p>å¦‚æœç›¸åŒï¼Œåˆ™è¯´æ˜æ”¶åˆ°çš„ä¿¡æ¯æ˜¯å®Œæ•´çš„ï¼Œåœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œå¦åˆ™è¯´æ˜ä¿¡æ¯è¢«ä¿®æ”¹è¿‡ï¼Œå› æ­¤æ•°å­—ç­¾åèƒ½å¤ŸéªŒè¯ä¿¡æ¯çš„å®Œæ•´æ€§ã€‚</p><h2 id="sql-æ³¨å…¥" tabindex="-1"><a class="header-anchor" href="#sql-æ³¨å…¥" aria-hidden="true">#</a> SQL æ³¨å…¥</h2><p>SQL æ³¨å…¥çš„åŸç†æ˜¯å°† SQL ä»£ç ä¼ªè£…åˆ°è¾“å…¥å‚æ•°ä¸­ï¼Œä¼ é€’åˆ°æœåŠ¡å™¨è§£æå¹¶æ‰§è¡Œçš„ä¸€ç§æ”»å‡»æ‰‹æ³•ã€‚</p><p><strong>SQL æ³¨å…¥æ”»å‡»å®ä¾‹</strong></p><p>æ¯”å¦‚ï¼Œåœ¨ä¸€ä¸ªç™»å½•ç•Œé¢ï¼Œè¦æ±‚è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå¯ä»¥è¿™æ ·è¾“å…¥å®ç°å…å¸å·ç™»å½•ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>ç”¨æˆ·åï¼š â€˜or 1 = 1 --
å¯† ç ï¼š
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”¨æˆ·ä¸€æ—¦ç‚¹å‡»ç™»å½•ï¼Œå¦‚è‹¥æ²¡æœ‰åšç‰¹æ®Šå¤„ç†ï¼Œé‚£ä¹ˆè¿™ä¸ªéæ³•ç”¨æˆ·å°±å¾ˆå¾—æ„çš„ç™»é™†è¿›å»äº†ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬åˆ†æä¸€ä¸‹ï¼šä»ç†è®ºä¸Šè¯´ï¼Œåå°è®¤è¯ç¨‹åºä¸­ä¼šæœ‰å¦‚ä¸‹çš„ SQL è¯­å¥ï¼š</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>String <span class="token keyword">sql</span> <span class="token operator">=</span> â€œ<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> user_table <span class="token keyword">where</span> username<span class="token operator">=</span>â€™ â€œ<span class="token operator">+</span>userName<span class="token operator">+</span>â€ â€™ <span class="token operator">and</span> password<span class="token operator">=</span>â€™ â€œ<span class="token operator">+</span>password<span class="token operator">+</span>â€ â€˜â€<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å› æ­¤ï¼Œå½“è¾“å…¥äº†ä¸Šé¢çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œä¸Šé¢çš„ SQL è¯­å¥å˜æˆï¼š</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_table <span class="token keyword">WHERE</span> username<span class="token operator">=</span>â€™â€™<span class="token operator">or</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">1</span> â€“<span class="token operator">-</span> <span class="token operator">and</span> password<span class="token operator">=</span>â€™â€™
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åˆ†æä¸Šè¿° SQL è¯­å¥æˆ‘ä»¬çŸ¥é“ï¼Œ<code>username=â€˜ or 1=1</code> è¿™ä¸ªè¯­å¥ä¸€å®šä¼šæˆåŠŸï¼›ç„¶ååé¢åŠ <code>ä¸¤ä¸ª -</code>ï¼Œè¿™æ„å‘³ç€æ³¨é‡Šï¼Œå®ƒå°†åé¢çš„è¯­å¥æ³¨é‡Šï¼Œè®©ä»–ä»¬ä¸èµ·ä½œç”¨ï¼Œè¿™æ ·ï¼Œä¸Šè¿°è¯­å¥æ°¸è¿œéƒ½èƒ½æ­£ç¡®æ‰§è¡Œï¼Œç”¨æˆ·è½»æ˜“éª—è¿‡ç³»ç»Ÿï¼Œè·å–åˆæ³•èº«ä»½ã€‚</p><p><strong>åº”å¯¹æ–¹æ³•</strong></p><blockquote><p>é¢„ç¼–è¯‘</p></blockquote><p>ä½¿ç”¨é¢„ç¼–è¯‘æ‰‹æ®µï¼Œç»‘å®šå‚æ•°æ˜¯æœ€å¥½çš„é˜² SQL æ³¨å…¥çš„æ–¹æ³•ã€‚</p><p>ç›®å‰è®¸å¤šçš„ ORM æ¡†æ¶åŠ JDBC ç­‰éƒ½å®ç°äº† SQL é¢„ç¼–è¯‘å’Œå‚æ•°ç»‘å®šåŠŸèƒ½ï¼Œæ”»å‡»è€…çš„æ¶æ„ SQL ä¼šè¢«å½“åš SQL çš„å‚æ•°è€Œä¸æ˜¯ SQL å‘½ä»¤è¢«æ‰§è¡Œã€‚</p><p>åœ¨ mybatis çš„ mapper æ–‡ä»¶ä¸­ï¼Œå¯¹äºä¼ é€’çš„å‚æ•°æˆ‘ä»¬ä¸€èˆ¬æ˜¯ä½¿ç”¨ ## å’Œ<code>$</code>æ¥è·å–å‚æ•°å€¼ã€‚</p><p>å½“ä½¿ç”¨#æ—¶ï¼Œå˜é‡æ˜¯å ä½ç¬¦ï¼Œå°±æ˜¯ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨ java çš„ jdbc çš„ PrepareStatement æ—¶çš„å ä½ç¬¦ï¼Œæ‰€æœ‰å¯ä»¥é˜²æ­¢ sql æ³¨å…¥ï¼›</p><p>å½“ä½¿ç”¨<code>$</code>æ—¶ï¼Œå˜é‡å°±æ˜¯ç›´æ¥è¿½åŠ åœ¨ sql ä¸­ï¼Œä¸€èˆ¬ä¼šæœ‰ sql æ³¨å…¥é—®é¢˜ã€‚</p><blockquote><p>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤ä¼ å…¥çš„å‚æ•°</p></blockquote><blockquote><p>è¿‡æ»¤å‚æ•°ä¸­å«æœ‰çš„ä¸€äº›æ•°æ®åº“å…³é”®è¯</p></blockquote><h2 id="åŠ å¯†ç®—æ³•" tabindex="-1"><a class="header-anchor" href="#åŠ å¯†ç®—æ³•" aria-hidden="true">#</a> åŠ å¯†ç®—æ³•</h2><p>åŠ å¯†ç®—æ³•åˆ†<strong>å¯¹ç§°åŠ å¯†</strong> å’Œ <strong>éå¯¹ç§°åŠ å¯†</strong>ï¼Œå…¶ä¸­å¯¹ç§°åŠ å¯†ç®—æ³•çš„åŠ å¯†ä¸è§£å¯†å¯†é’¥ç›¸åŒï¼Œéå¯¹ç§°åŠ å¯†ç®—æ³•çš„åŠ å¯†å¯†é’¥ä¸è§£å¯†å¯†é’¥ä¸åŒï¼Œæ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ç±»ä¸éœ€è¦å¯†é’¥çš„<strong>æ•£åˆ—ç®—æ³•</strong>ã€‚</p><p>å¸¸è§çš„ <strong>å¯¹ç§°åŠ å¯†</strong> ç®—æ³•ä¸»è¦æœ‰ <code>DES</code>ã€<code>3DES</code>ã€<code>AES</code> ç­‰ï¼Œå¸¸è§çš„ <strong>éå¯¹ç§°ç®—æ³•</strong> ä¸»è¦æœ‰ <code>RSA</code>ã€<code>DSA</code> ç­‰ï¼Œ<strong>æ•£åˆ—ç®—æ³•</strong> ä¸»è¦æœ‰ <code>SHA-1</code>ã€<code>MD5</code> ç­‰ã€‚</p><h3 id="å¯¹ç§°åŠ å¯†" tabindex="-1"><a class="header-anchor" href="#å¯¹ç§°åŠ å¯†" aria-hidden="true">#</a> å¯¹ç§°åŠ å¯†</h3><p>åœ¨ <strong>å¯¹ç§°åŠ å¯†ç®—æ³•</strong> ä¸­ï¼Œä½¿ç”¨çš„å¯†é’¥åªæœ‰ä¸€ä¸ªï¼Œå‘é€å’Œæ¥æ”¶åŒæ–¹éƒ½ä½¿ç”¨è¿™ä¸ªå¯†é’¥å¯¹æ•°æ®è¿›è¡Œ <strong>åŠ å¯†</strong> å’Œ <strong>è§£å¯†</strong>ã€‚</p><ul><li><p>æ•°æ®åŠ å¯†è¿‡ç¨‹ï¼šåœ¨å¯¹ç§°åŠ å¯†ç®—æ³•ä¸­ï¼Œæ•°æ®å‘é€æ–¹ å°† <strong>æ˜æ–‡</strong> (åŸå§‹æ•°æ®) å’Œ <strong>åŠ å¯†å¯†é’¥</strong> ä¸€èµ·ç»è¿‡ç‰¹æ®Š <strong>åŠ å¯†å¤„ç†</strong>ï¼Œç”Ÿæˆå¤æ‚çš„ <strong>åŠ å¯†å¯†æ–‡</strong> è¿›è¡Œå‘é€ã€‚</p></li><li><p>æ•°æ®è§£å¯†è¿‡ç¨‹ï¼š<strong>æ•°æ®æ¥æ”¶æ–¹</strong> æ”¶åˆ°å¯†æ–‡åï¼Œè‹¥æƒ³è¯»å–åŸæ•°æ®ï¼Œåˆ™éœ€è¦ä½¿ç”¨ <strong>åŠ å¯†ä½¿ç”¨çš„å¯†é’¥</strong> åŠç›¸åŒç®—æ³•çš„ <strong>é€†ç®—æ³•</strong> å¯¹åŠ å¯†çš„å¯†æ–‡è¿›è¡Œè§£å¯†ï¼Œæ‰èƒ½ä½¿å…¶æ¢å¤æˆ <strong>å¯è¯»æ˜æ–‡</strong>ã€‚</p></li></ul><h3 id="éå¯¹ç§°åŠ å¯†" tabindex="-1"><a class="header-anchor" href="#éå¯¹ç§°åŠ å¯†" aria-hidden="true">#</a> éå¯¹ç§°åŠ å¯†</h3><p><strong>éå¯¹ç§°åŠ å¯†ç®—æ³•</strong>ï¼Œå®ƒéœ€è¦ä¸¤ä¸ªå¯†é’¥ï¼Œä¸€ä¸ªç§°ä¸º <strong>å…¬å¼€å¯†é’¥</strong> (<code>public key</code>)ï¼Œå³ <strong>å…¬é’¥</strong>ï¼Œå¦ä¸€ä¸ªç§°ä¸º <strong>ç§æœ‰å¯†é’¥</strong> (<code>private key</code>)ï¼Œå³ <strong>ç§é’¥</strong>ã€‚</p><p>å› ä¸º <strong>åŠ å¯†</strong> å’Œ <strong>è§£å¯†</strong> ä½¿ç”¨çš„æ˜¯ä¸¤ä¸ªä¸åŒçš„å¯†é’¥ï¼Œæ‰€ä»¥è¿™ç§ç®—æ³•ç§°ä¸º <strong>éå¯¹ç§°åŠ å¯†ç®—æ³•</strong>ã€‚</p><ol><li><p>å¦‚æœä½¿ç”¨ <strong>å…¬é’¥</strong> å¯¹æ•°æ® <strong>è¿›è¡ŒåŠ å¯†</strong>ï¼Œåªæœ‰ç”¨å¯¹åº”çš„ <strong>ç§é’¥</strong> æ‰èƒ½ <strong>è¿›è¡Œè§£å¯†</strong>ã€‚</p></li><li><p>å¦‚æœä½¿ç”¨ <strong>ç§é’¥</strong> å¯¹æ•°æ® <strong>è¿›è¡ŒåŠ å¯†</strong>ï¼Œåªæœ‰ç”¨å¯¹åº”çš„ <strong>å…¬é’¥</strong> æ‰èƒ½ <strong>è¿›è¡Œè§£å¯†</strong>ã€‚</p></li></ol><p><strong>ä¾‹å­</strong>ï¼šç”²æ–¹ç”Ÿæˆ <strong>ä¸€å¯¹å¯†é’¥</strong> å¹¶å°†å…¶ä¸­çš„ä¸€æŠŠä½œä¸º <strong>å…¬é’¥</strong> å‘å…¶å®ƒäººå…¬å¼€ï¼Œå¾—åˆ°è¯¥å…¬é’¥çš„ <strong>ä¹™æ–¹</strong> ä½¿ç”¨è¯¥å¯†é’¥å¯¹æœºå¯†ä¿¡æ¯ <strong>è¿›è¡ŒåŠ å¯†</strong> åå†å‘é€ç»™ç”²æ–¹ï¼Œç”²æ–¹å†ä½¿ç”¨è‡ªå·±ä¿å­˜çš„å¦ä¸€æŠŠ <strong>ä¸“ç”¨å¯†é’¥</strong> (<strong>ç§é’¥</strong>)ï¼Œå¯¹ <strong>åŠ å¯†</strong> åçš„ä¿¡æ¯ <strong>è¿›è¡Œè§£å¯†</strong>ã€‚</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/xingbiaogongzhonghao.png" alt="" loading="lazy"></p><h2 id="ç½‘ç»œæ”»å‡»" tabindex="-1"><a class="header-anchor" href="#ç½‘ç»œæ”»å‡»" aria-hidden="true">#</a> ç½‘ç»œæ”»å‡»</h2><h3 id="csrf-å’Œ-xss" tabindex="-1"><a class="header-anchor" href="#csrf-å’Œ-xss" aria-hidden="true">#</a> CSRF å’Œ XSS</h3><p><strong>XSSï¼š</strong></p><p>è·¨ç«™è„šæœ¬æ˜¯ä¸€ç§ç½‘ç«™åº”ç”¨ç¨‹åºçš„å®‰å…¨æ¼æ´æ”»å‡»ï¼Œæ˜¯ä»£ç æ³¨å…¥çš„ä¸€ç§ã€‚</p><p>å®ƒå…è®¸æ¶æ„ç”¨æˆ·å°†ä»£ç æ³¨å…¥åˆ°ç½‘é¡µä¸Šï¼Œå…¶ä»–ç”¨æˆ·åœ¨è§‚çœ‹ç½‘é¡µæ—¶å°±ä¼šå—åˆ°å½±å“ï¼Œè¿™ç±»æ”»å‡»é€šå¸¸åŒ…å«äº† HTML ä»¥åŠç”¨æˆ·ç«¯è„šæœ¬è¯­è¨€ã€‚</p><p>æ¯”å¦‚é€šè¿‡å®¢æˆ·ç«¯è„šæœ¬è¯­è¨€ï¼ˆæœ€å¸¸è§å¦‚ï¼šJavaScriptï¼‰</p><p>åœ¨ä¸€ä¸ªè®ºå›å‘å¸–ä¸­å‘å¸ƒä¸€æ®µæ¶æ„çš„ JavaScript ä»£ç å°±æ˜¯è„šæœ¬æ³¨å…¥ï¼Œå¦‚æœè¿™ä¸ªä»£ç å†…å®¹æœ‰è¯·æ±‚å¤–éƒ¨æœåŠ¡å™¨ï¼Œé‚£ä¹ˆå°±å«åš XSS</p><p><strong>XSS æ”»å‡»åˆ†ç±»</strong></p><blockquote><p>åå°„æ€§ XSS æ”»å‡» (éæŒä¹…æ€§ XSS æ”»å‡»)</p></blockquote><p>ä¾‹å¦‚ï¼Œæ­£å¸¸å‘é€æ¶ˆæ¯ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>http://www.test.com/message.php?send=Hello,Worldï¼
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ¥æ”¶è€…å°†ä¼šæ¥æ”¶ä¿¡æ¯å¹¶æ˜¾ç¤º HelloWorldï¼›ä½†æ˜¯ï¼Œéæ­£å¸¸å‘é€æ¶ˆæ¯ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>http://www.test.com/message.php?send=&lt;script&gt;alert(â€˜foolish!â€™)&lt;/script&gt;ï¼
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ¥æ”¶è€…æ¥æ”¶æ¶ˆæ¯æ˜¾ç¤ºçš„æ—¶å€™å°†ä¼šå¼¹å‡ºè­¦å‘Šçª—å£ï¼</p><blockquote><p>æŒä¹…æ€§ XSS æ”»å‡» (ç•™è¨€æ¿åœºæ™¯)</p></blockquote><p>ä¸€èˆ¬æŒ‡ XSS æ”»å‡»ä»£ç å­˜å‚¨åœ¨ç½‘ç«™æ•°æ®åº“ï¼Œå½“ä¸€ä¸ªé¡µé¢è¢«ç”¨æˆ·æ‰“å¼€çš„æ—¶å€™æ‰§è¡Œã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯å½“ç”¨æˆ·ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€æŒ‡å®šé¡µé¢æ—¶ï¼Œè„šæœ¬ä¾¿æ‰§è¡Œã€‚</p><p>ä¸éæŒä¹…æ€§ XSS æ”»å‡»ç›¸æ¯”ï¼ŒæŒä¹…æ€§ XSS æ”»å‡»å±å®³æ€§æ›´å¤§ã€‚</p><p>ä»åå­—å°±å¯ä»¥äº†è§£åˆ°ï¼ŒæŒä¹…æ€§ XSS æ”»å‡»å°±æ˜¯å°†æ”»å‡»ä»£ç å­˜å…¥æ•°æ®åº“ä¸­ï¼Œç„¶åå®¢æˆ·ç«¯æ‰“å¼€æ—¶å°±æ‰§è¡Œè¿™äº›æ”»å‡»ä»£ç ã€‚</p><p>ä¾‹å¦‚ï¼Œç•™è¨€æ¿è¡¨å•ä¸­çš„è¡¨å•åŸŸï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;input type=&quot;text&quot; name=&quot;content&quot; value=&quot;è¿™é‡Œæ˜¯ç”¨æˆ·å¡«å†™çš„æ•°æ®&quot;&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ­£å¸¸æ“ä½œæµç¨‹æ˜¯ï¼šç”¨æˆ·æ˜¯æäº¤ç›¸åº”ç•™è¨€ä¿¡æ¯ â€” å°†æ•°æ®å­˜å‚¨åˆ°æ•°æ®åº“ â€” å…¶ä»–ç”¨æˆ·è®¿é—®ç•™è¨€æ¿ï¼Œåº”ç”¨å»æ•°æ®å¹¶æ˜¾ç¤ºï¼›</p><p>è€Œéæ­£å¸¸æ“ä½œæµç¨‹æ˜¯æ”»å‡»è€…åœ¨ value å¡«å†™:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;script&gt;alert(â€˜foolish!â€™)ï¼›&lt;/script&gt; &lt;!--æˆ–è€…htmlå…¶ä»–æ ‡ç­¾ï¼ˆç ´åæ ·å¼ã€‚ã€‚ã€‚ï¼‰ã€ä¸€æ®µæ”»å‡»å‹ä»£ç --&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¹¶å°†æ•°æ®æäº¤ã€å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼›å½“å…¶ä»–ç”¨æˆ·å–å‡ºæ•°æ®æ˜¾ç¤ºçš„æ—¶å€™ï¼Œå°†ä¼šæ‰§è¡Œè¿™äº›æ”»å‡»æ€§ä»£ç </p><p><strong>CSRFï¼š</strong></p><p>è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œæ˜¯ä¸€ç§æŒŸåˆ¶ç”¨æˆ·åœ¨å½“å‰å·²ç™»å½•çš„ Web åº”ç”¨ç¨‹åºä¸Šæ‰§è¡Œéæœ¬æ„çš„æ“ä½œçš„æ”»å‡»æ–¹æ³•ã€‚</p><p>æ¯”å¦‚å†’å……ç”¨æˆ·å‘èµ·è¯·æ±‚ï¼ˆåœ¨ç”¨æˆ·ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ï¼‰ï¼Œå®Œæˆä¸€äº›è¿èƒŒç”¨æˆ·æ„æ„¿çš„è¯·æ±‚ï¼ˆå¦‚æ¶æ„å‘å¸–ï¼Œåˆ å¸–ï¼Œæ”¹å¯†ç ï¼Œå‘é‚®ä»¶ç­‰ï¼‰ã€‚</p><h3 id="dos-æ”»å‡»" tabindex="-1"><a class="header-anchor" href="#dos-æ”»å‡»" aria-hidden="true">#</a> DOS æ”»å‡»</h3><p>DOSï¼šä¸­æ–‡åç§°æ˜¯æ‹’ç»æœåŠ¡ï¼Œè¯¥æ”»å‡»çš„æ•ˆæœæ˜¯ä½¿å¾—è®¡ç®—æœºæˆ–ç½‘ç»œæ— æ³•æä¾›æ­£å¸¸çš„æœåŠ¡</p><p><strong>DOS æ”»å‡»çš„åŸç†ï¼š</strong></p><p>é¦–å…ˆæ”»å‡»è€…å‘è¢«æ”»å‡»çš„æœåŠ¡å™¨å‘é€å¤§é‡çš„è™šå‡ IP è¯·æ±‚ï¼Œè¢«æ”»å‡»è€…åœ¨æ”¶åˆ°è¯·æ±‚åè¿”å›ç¡®è®¤ä¿¡æ¯ï¼Œç­‰å¾…æ”»å‡»è€…è¿›è¡Œç¡®è®¤ï¼Œè¯¥è¿‡ç¨‹éœ€è¦ TCP çš„ä¸‰æ¬¡æ¡æ‰‹ï¼Œç”±äºæ”»å‡»è€…å‘é€çš„è¯·æ±‚ä¿¡æ¯æ˜¯è™šå‡çš„ï¼Œæ‰€ä»¥æœåŠ¡å™¨æ¥æ”¶ä¸åˆ°è¿”å›çš„ç¡®è®¤ä¿¡æ¯ï¼Œåœ¨ä¸€æ®µæ—¶é—´å†…æœåŠ¡å™¨ä¼šå¤„ä¸ç­‰å¾…çŠ¶æ€ï¼Œè€Œåˆ†é…ç»™è¿™æ¬¡è¯·æ±‚çš„èµ„æºå´è¢«æœ‰è¢«é‡Šæ”¾</p><p>å½“è¢«æ”»å‡»è€…ç­‰å¾…ä¸€å®šçš„æ—¶é—´åï¼Œä¼šå› è¿æ¥è¶…æ—¶è€Œæ–­å¼€ï¼Œè¿™æ—¶æ”»å‡»è€…åœ¨æ¬¡å‘é€æ–°çš„è™šå‡ä¿¡æ¯è¯·æ±‚ï¼Œè¿™æ ·æœ€ç»ˆæœåŠ¡å™¨èµ„æºè¢«è€—å°½ï¼Œç›´åˆ°ç˜«ç—ª</p><p><strong>DDOSï¼šä¸­æ–‡åç§°æ˜¯åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡æ”»å‡»</strong></p><p>æŒ‡çš„æ˜¯æ”»å‡»è€…æ§åˆ¶å¤šå°ä¸»æœºåŒæ—¶å‘åŒä¸€ä¸»æœºæˆ–ç½‘ç»œå‘èµ·<code>DOS</code>æ”»å‡»</p><p>DRDoS åˆ†å¸ƒåå°„å¼æ‹’ç»æœåŠ¡æ”»å‡»è¿™æ˜¯<code>DDoS</code>æ”»å‡»çš„å˜å½¢</p><p><strong>DDOS ç©¶ç«Ÿå¦‚ä½•æ”»å‡»</strong></p><p>ç›®å‰æœ€æµè¡Œä¹Ÿæ˜¯æœ€å¥½ç”¨çš„æ”»å‡»æ–¹æ³•å°±æ˜¯ä½¿ç”¨<code>SYN-Flood</code>è¿›è¡Œæ”»å‡»ï¼ŒSYN-Flood ä¹Ÿå°±æ˜¯ SYN æ´ªæ°´æ”»å‡»</p><p>SYN-Flood ä¸ä¼šå®Œæˆ TCP ä¸‰æ¬¡æ¡æ‰‹çš„ç¬¬ä¸‰æ­¥ï¼Œä¹Ÿå°±æ˜¯ä¸å‘é€ç¡®è®¤è¿æ¥çš„ä¿¡æ¯ç»™æœåŠ¡å™¨ï¼Œè¿™æ ·ï¼ŒæœåŠ¡å™¨æ— æ³•å®Œæˆç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼Œä½†æœåŠ¡å™¨ä¸ä¼šç«‹å³æ”¾å¼ƒï¼ŒæœåŠ¡å™¨ä¼šä¸åœçš„é‡è¯•å¹¶ç­‰å¾…ä¸€å®šçš„æ—¶é—´åæ”¾å¼ƒè¿™ä¸ªæœªå®Œæˆçš„è¿æ¥ï¼Œè¿™æ®µæ—¶é—´å«åš<code>SYN timeout</code>ï¼Œè¿™æ®µæ—¶é—´å¤§çº¦ 30 ç§’-2 åˆ†é’Ÿå·¦å³ã€‚</p><p>è‹¥æ˜¯ä¸€ä¸ªç”¨æˆ·åœ¨è¿æ¥æ—¶å‡ºç°é—®é¢˜å¯¼è‡´æœåŠ¡å™¨çš„ä¸€ä¸ªçº¿ç¨‹ç­‰å¾… 1 åˆ†é’Ÿå¹¶ä¸æ˜¯ä»€ä¹ˆå¤§ä¸äº†çš„é—®é¢˜ï¼Œä½†æ˜¯è‹¥æœ‰äººç”¨ç‰¹æ®Šçš„è½¯ä»¶å¤§é‡æ¨¡æ‹Ÿè¿™ç§æƒ…å†µï¼Œé‚£åæœå°±å¯æƒ³è€ŒçŸ¥äº†ã€‚ä¸€ä¸ªæœåŠ¡å™¨è‹¥æ˜¯å¤„ç†è¿™äº›å¤§é‡çš„åŠè¿æ¥ä¿¡æ¯è€Œæ¶ˆè€—å¤§é‡çš„ç³»ç»Ÿèµ„æºå’Œç½‘ç»œå¸¦å®½ï¼Œè¿™æ ·æœåŠ¡å™¨å°±ä¸ä¼šå†æœ‰ç©ºä½™å»å¤„ç†æ™®é€šç”¨æˆ·çš„æ­£å¸¸è¯·æ±‚(å› ä¸ºå®¢æˆ·çš„æ­£å¸¸è¯·æ±‚æ¯”ç‡å¾ˆå°)ï¼Œè¿™æ ·è¿™ä¸ªæœåŠ¡å™¨å°±æ— æ³•å·¥ä½œäº†ï¼Œè¿™ç§æ”»å‡»å°±å«åš<code>SYN-Flood</code>æ”»å‡»</p><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œè¿›è¡Œ DDoS æ”»å‡»çš„é˜²å¾¡è¿˜æ˜¯æ¯”è¾ƒå›°éš¾çš„</p><p>é¦–å…ˆï¼Œè¿™ç§æ”»å‡»çš„ç‰¹ç‚¹æ˜¯å®ƒåˆ©ç”¨äº† TCP/IP åè®®çš„æ¼æ´ï¼Œé™¤éä½ ä¸ç”¨ TCP/IPï¼Œæ‰æœ‰å¯èƒ½å®Œå…¨æŠµå¾¡ä½ DDoS æ”»å‡»</p><p>ä¸è¿‡è¿™ä¸ç­‰äºæˆ‘ä»¬å°±æ²¡æœ‰åŠæ³•é˜»æŒ¡ DDoS æ”»å‡»ï¼Œæˆ‘ä»¬å¯ä»¥å°½åŠ›æ¥å‡å°‘ DDoS çš„æ”»å‡»</p><p><strong>ä¸‹é¢å°±æ˜¯ä¸€äº›é˜²å¾¡æ–¹æ³•:</strong></p><ol><li><p>å…³é—­ä¸å¿…è¦çš„æœåŠ¡</p></li><li><p>é™åˆ¶åŒæ—¶æ‰“å¼€çš„ SYN åŠè¿æ¥æ•°ç›®</p></li><li><p>ç¼©çŸ­ SYN åŠè¿æ¥çš„ time out æ—¶é—´</p></li><li><p>æ­£ç¡®è®¾ç½®é˜²ç«å¢™</p></li><li><p>ç¦æ­¢å¯¹ä¸»æœºçš„éå¼€æ”¾æœåŠ¡çš„è®¿é—®</p></li><li><p>é™åˆ¶ç‰¹å®š IP åœ°å€çš„è®¿é—®</p></li><li><p>å¯ç”¨é˜²ç«å¢™çš„é˜² DDoS çš„å±æ€§</p></li></ol><h2 id="cookie-å’Œ-session" tabindex="-1"><a class="header-anchor" href="#cookie-å’Œ-session" aria-hidden="true">#</a> Cookie å’Œ Session</h2><p>Session æ˜¯<strong>åŸºäº Cookie å®ç°</strong>çš„å¦ä¸€ç§è®°å½•æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¼šè¯çŠ¶æ€çš„æœºåˆ¶ã€‚</p><p>Session æ˜¯å­˜å‚¨åœ¨æœåŠ¡ç«¯ï¼Œè€Œ SessionId ä¼šè¢«å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„ Cookie ä¸­ã€‚</p><p>Session çš„<strong>è®¤è¯è¿‡ç¨‹</strong>ï¼š</p><ol><li>å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡å‘é€è¯·æ±‚åˆ°æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯æ ¹æ®ä¿¡æ¯åˆ›å»ºå¯¹åº”çš„ Sessionï¼Œå¹¶åœ¨å“åº”å¤´è¿”å› SessionID</li><li>å®¢æˆ·ç«¯æ¥æ”¶åˆ°æœåŠ¡ç«¯è¿”å›çš„ SessionID åï¼Œä¼šå°†æ­¤ä¿¡æ¯å­˜å‚¨åœ¨ Cookie ä¸Šï¼ŒåŒæ—¶ä¼šè®°å½•è¿™ä¸ª SessionID å±äºå“ªä¸ªåŸŸå</li><li>å½“å®¢æˆ·ç«¯å†æ¬¡è®¿é—®æœåŠ¡ç«¯æ—¶ï¼Œè¯·æ±‚ä¼šè‡ªåŠ¨åˆ¤æ–­è¯¥åŸŸåä¸‹æ˜¯å¦å­˜åœ¨ Cookie ä¿¡æ¯ï¼Œå¦‚æœæœ‰åˆ™å‘é€ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¼šä» Cookie ä¸­æ‹¿åˆ° SessionIDï¼Œå†æ ¹æ® SessionID æ‰¾åˆ°å¯¹åº”çš„ Sessionï¼Œå¦‚æœæœ‰å¯¹åº”çš„ Session åˆ™é€šè¿‡ï¼Œç»§ç»­æ‰§è¡Œè¯·æ±‚ï¼Œå¦åˆ™å°±ä¸­æ–­</li></ol><p><strong>Cookie å’Œ Session çš„åŒºåˆ«</strong></p><ol><li>å®‰å…¨æ€§ï¼Œå› ä¸º Cookie å¯ä»¥é€šè¿‡å®¢æˆ·ç«¯ä¿®æ”¹ï¼Œè€Œ Session åªèƒ½åœ¨æœåŠ¡ç«¯è®¾ç½®ï¼Œæ‰€ä»¥å®‰å…¨æ€§æ¯” Cookie é«˜ï¼Œä¸€èˆ¬ä¼šç”¨äºéªŒè¯ç”¨æˆ·ç™»å½•çŠ¶æ€</li><li>é€‚ç”¨æ€§ï¼ŒCookie åªèƒ½å­˜å‚¨å­—ç¬¦ä¸²æ•°æ®ï¼Œè€Œ Session å¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹æ•°æ®</li><li>æœ‰æ•ˆæœŸï¼ŒCookie å¯ä»¥è®¾ç½®ä»»æ„æ—¶é—´æœ‰æ•ˆï¼Œè€Œ Session ä¸€èˆ¬å¤±æ•ˆæ—¶é—´çŸ­</li></ol><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/xingbiaogongzhonghao.png" alt="" loading="lazy"></p><h2 id="å¸¸è§é¢è¯•é¢˜" tabindex="-1"><a class="header-anchor" href="#å¸¸è§é¢è¯•é¢˜" aria-hidden="true">#</a> å¸¸è§é¢è¯•é¢˜</h2><p><strong>åœ¨æµè§ˆå™¨åœ°å€æ é”®å…¥ URL</strong></p><p>1.DNS è§£æï¼šæµè§ˆå™¨ä¼šä¾æ® URL é€å±‚æŸ¥è¯¢ DNS æœåŠ¡å™¨ç¼“å­˜ï¼Œè§£æ URL ä¸­çš„åŸŸåå¯¹åº”çš„ IP åœ°å€ï¼ŒDNS ç¼“å­˜ä»è¿‘åˆ°è¿œä¾æ¬¡æ˜¯æµè§ˆå™¨ç¼“å­˜ã€ç³»ç»Ÿç¼“å­˜ã€è·¯ç”±å™¨ç¼“å­˜ã€IPS æœåŠ¡å™¨ç¼“å­˜ã€åŸŸåæœåŠ¡å™¨ç¼“å­˜ã€é¡¶çº§åŸŸåæœåŠ¡å™¨ç¼“å­˜ã€‚</p><p>ä»å“ªä¸ªç¼“å­˜æ‰¾åˆ°å¯¹åº”çš„ IP ç›´æ¥è¿”å›ï¼Œä¸å†æŸ¥è¯¢åé¢çš„ç¼“å­˜ã€‚</p><p>2.TCP è¿æ¥ï¼šç»“åˆä¸‰æ¬¡æ¡æ‰‹</p><p>3.å‘é€ HTTP è¯·æ±‚ï¼šæµè§ˆå™¨å‘å‡ºè¯»å–æ–‡ä»¶çš„ HTTP è¯·æ±‚ï¼Œè¯¥è¯·æ±‚å‘é€ç»™æœåŠ¡å™¨</p><p>4.æœåŠ¡å™¨å¤„ç†è¯·æ±‚å¹¶è¿”å› HTTP æŠ¥æ–‡ï¼šæœåŠ¡å™¨å¯¹æµè§ˆå™¨è¯·æ±‚åšå‡ºå“åº”ï¼ŒæŠŠå¯¹åº”çš„å¸¦æœ‰ HTML æ–‡æœ¬çš„ HTTP å“åº”æŠ¥æ–‡å‘é€ç»™æµè§ˆå™¨</p><p>5.æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢</p><p>6.è¿æ¥ç»“æŸï¼šæµè§ˆå™¨é‡Šæ”¾ TCP è¿æ¥ï¼Œè¯¥æ­¥éª¤å³å››æ¬¡æŒ¥æ‰‹ã€‚</p><p>ç¬¬ 5 æ­¥å’Œç¬¬ 6 æ­¥å¯ä»¥è®¤ä¸ºæ˜¯åŒæ—¶å‘ç”Ÿçš„ï¼Œå“ªä¸€æ­¥åœ¨å‰æ²¡æœ‰ç‰¹åˆ«çš„è¦æ±‚</p><hr><blockquote><p>ä½œè€…ï¼šæœˆä¼´é£é±¼ï¼Œè½¬è½½é“¾æ¥ï¼š<a href="https://mp.weixin.qq.com/s/7EddtzpwIRvYfw34QE4zvw" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s/7EddtzpwIRvYfw34QE4zvw<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/xingbiaogongzhonghao.png" alt="" loading="lazy"></p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/thinkingme/thinkingme.github.io/edit/master/docs/coding-road/cs/wangluo.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="info">2022/6/4 07:20:53</span></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: linzhenhui@apexsoft.com">æ—æŒ¯è¾‰</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/coding-road/cs/os.html" class="nav-link prev" aria-label="è®¡ç®—æœºæ“ä½œç³»ç»ŸçŸ¥è¯†ç‚¹å¤§æ¢³ç†"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->è®¡ç®—æœºæ“ä½œç³»ç»ŸçŸ¥è¯†ç‚¹å¤§æ¢³ç†</div></a><!----></nav><div class="giscus-wrapper input-top" style="display:block;"></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">é»˜è®¤é¡µè„š</div><div class="copyright">Copyright Â© 2022 thinkingme</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script src="/assets/js/runtime~app.9a7292d3.js" defer></script><script src="/assets/js/5206.e84d5f36.js" defer></script><script src="/assets/js/app.2548dd9a.js" defer></script>
  </body>
</html>
