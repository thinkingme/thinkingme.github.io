"use strict";(self.webpackChunkcoding_road=self.webpackChunkcoding_road||[]).push([[1143],{98139:(e,t,i)=>{i.r(t),i.d(t,{data:()=>n});const n={key:"v-acf1e714",path:"/szjy/tobebetterjavaer-beian.html",title:"阿里云服务器购买+宝塔面板安装+域名购买+域名备案+升级 HTTPS",lang:"zh-CN",frontmatter:{category:["知识库搭建历程"],tag:["辅助工具","轮子"],summary:"阿里云服务器购买+宝塔面板安装+域名购买+域名备案+升级 HTTPS 阿里云服务器购买 前段时间不是组团带小伙伴们白嫖了一波阿里云服务器嘛，今天给大家通报一下数据：已确认新客订单数 491，老客户 57 单，等于说离 500 的新客目标只差 9 单了。 这个数据反映出几个问题： 第一：阿里云那边说之前没有买过阿里云服务器的都算是新客，但最后判定的时候买过域名",head:[["meta",{property:"og:url",content:"https://vuepress-theme-hope-v2-demo.mrhope.site/szjy/tobebetterjavaer-beian.html"}],["meta",{property:"og:site_name",content:"coding-rode"}],["meta",{property:"og:title",content:"阿里云服务器购买+宝塔面板安装+域名购买+域名备案+升级 HTTPS"}],["meta",{property:"og:type",content:"article"}],["meta",{property:"og:updated_time",content:"2022-06-04T08:56:49.000Z"}],["meta",{property:"og:locale",content:"zh-CN"}],["meta",{property:"article:tag",content:"辅助工具"}],["meta",{property:"article:tag",content:"轮子"}],["meta",{property:"article:modified_time",content:"2022-06-04T08:56:49.000Z"}]]},excerpt:"",headers:[{level:2,title:"阿里云服务器购买",slug:"阿里云服务器购买",children:[]},{level:2,title:"宝塔面板",slug:"宝塔面板",children:[]},{level:2,title:"域名购买/解析",slug:"域名购买-解析",children:[]},{level:2,title:"域名备案",slug:"域名备案",children:[]},{level:2,title:"HTTP 升级到 HTTPS",slug:"http-升级到-https",children:[]}],git:{createdTime:1653617096e3,updatedTime:1654333009e3,contributors:[{name:"林振辉",email:"linzhenhui@apexsoft.com",commits:2},{name:"thinkingme",email:"linzhenhuigg@gmail.com",commits:1}]},readingTime:{minutes:16.24,words:4873},filePathRelative:"szjy/tobebetterjavaer-beian.md"}},66952:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Je});var n=i(95393);const a=(0,n.uE)('<h1 id="阿里云服务器购买-宝塔面板安装-域名购买-域名备案-升级-https" tabindex="-1"><a class="header-anchor" href="#阿里云服务器购买-宝塔面板安装-域名购买-域名备案-升级-https" aria-hidden="true">#</a> 阿里云服务器购买+宝塔面板安装+域名购买+域名备案+升级 HTTPS</h1><h2 id="阿里云服务器购买" tabindex="-1"><a class="header-anchor" href="#阿里云服务器购买" aria-hidden="true">#</a> 阿里云服务器购买</h2><p>前段时间不是组团带小伙伴们白嫖了一波阿里云服务器嘛，今天给大家通报一下数据：已确认新客订单数 491，老客户 57 单，等于说离 500 的新客目标只差 9 单了。</p><p>这个数据反映出几个问题：</p><p>第一：阿里云那边说之前没有买过阿里云服务器的都算是新客，但最后判定的时候买过域名的，体验过一个学生服务器的都算是老客。很多人翻车在这个上面。</p><p>第二，有些人重新注册阿里云账户的时候手机号和身份证号没有唯一，导致被判定为老客。这种翻车是比较令人沮丧的~</p><p>总之一句话，“<strong>老客不如狗，新客是真香</strong>”~</p><p>新客的小伙伴应该早早的都拿到 60 元返现了，老客的小伙伴要么安排了书，要么二哥自掏腰包倒贴给补偿了~</p><p>u1s1，二哥是全天下最良心的博主——之一，是没毛病的。</p><p>对了，剩下的 9 单新客（仍然可以返 60 元），还有需要的小伙伴可以扫描下面的二维码添加二哥的微信，备注「<strong>服务器</strong>」即可。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-3d9a98e4-2ae2-4e71-805c-70a918176b8d.jpg" alt="" loading="lazy"></p><p>有些买过服务器的小伙伴，已经把个人博客整起来了，这里推荐三个给大家欣赏一下（可以直接复制图片下的链接到浏览器地址栏），真的惊艳~</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-7379f1e6-6967-447e-9f62-e19ba1af927d.png" alt="http://zhuoke.xyz/" loading="lazy"></p><p><strong>打开这个网站的时候要小心，小心差点鼻血流出来</strong>~~~~</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-182e856b-771c-4445-b508-dbabded164f2.png" alt="https://laifeng.xyz/about_me/" loading="lazy"></p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-67d47432-e571-48ad-8c12-4638264d82bf.png" alt="https://www.zm211314.top/" loading="lazy"></p><p>不得不说，都是二哥的铁粉，个人博客还不忘夸二哥一番。</p><p>😜</p><p>之前买阿里云服务器的时候，很多小伙伴就强烈要求二哥出一些教程把饭喂到嘴里，因为是第一次——玩服务器~</p><p>我出过一期视频，讲了程序员拥有一台云服务器能做哪些很酷的事情？</p>',20),r={href:"https://www.bilibili.com/video/BV1nb4y187rU/",target:"_blank",rel:"noopener noreferrer"},s=(0,n.Uk)("https://www.bilibili.com/video/BV1nb4y187rU/"),g=(0,n.uE)('<p>没看过的小伙伴可以去 B 站欣赏一下二哥颜值了，顺带三连交代下。</p><h2 id="宝塔面板" tabindex="-1"><a class="header-anchor" href="#宝塔面板" aria-hidden="true">#</a> 宝塔面板</h2><p>今天来给大家推荐一款玩转云服务器的神器——<strong>宝塔面板</strong>，有了这玩意，服务器能玩一整年，甚至余生！</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-ad40a5f7-30a8-4c6c-9671-c389432e16de.png" alt="https://www.bt.cn/" loading="lazy"></p><p>--------开始保姆级演示如何安装宝塔面板-------</p><p>为了给大家呈现出保姆级的教程，我自己新下单了一款轻量应用服务器。登录阿里云服务器后台，可以看到这台服务器正在运行当中。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-11df60df-a51c-48d4-a704-343d01d44777.png" alt="" loading="lazy"></p><p>点击「远程链接」的小图标，第一次需要手机验证码，之后进入到在线版的终端窗口。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-1fc16ac7-10b1-4e61-98f5-d48bb09ab626.png" alt="" loading="lazy"></p><p>可以按照提示输入 <code>sudo su root</code> 命令切换到 root 账户。</p><p>切换到宝塔 Linux 面板页，可以看到对应的安装命令，如下图所示：</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-ce7e94b5-c90b-422e-a7e3-942c615c2837.png" alt="" loading="lazy"></p><p>我的云服务器镜像选择的是 CentOS，所以可以直接复制 yum 命令 <code>yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh</code> 到云服务器的「终端」下进行在线安装。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-b7dcf834-294a-4bd0-86f0-7b0b92c5b3fe.png" alt="" loading="lazy"></p><p>yum 命令是 CentOS 的优势，可以在线安装和升级软件。当出现上图提示的内容（外网面板地址、用户名和密码）后就表示宝塔面板安装成功了！</p><p>前后大概 2 分钟左右的时间，还是比较快的。记住外网面板地址、用户名和密码，就可以通过宝塔面板访问云服务器了。</p><p>如果无法访问，表示服务器没有开放 8888 端口。选择我的轻量服务器，选择防火墙，选择「添加规则」。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-65f67086-cc35-4b7f-89b4-d73e51a859e0.png" alt="" loading="lazy"></p><p>能看到目前服务器只开放了 HTTP、HTTPS 和 SSH 的端口，8888 端口还没有放行。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-5f7fa1a0-1810-40a0-b371-ae2ee5948f80.png" alt="" loading="lazy"></p><p>再次访问外网面板地址，就可以看到登录页面了。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-1233ea14-2e6b-48d9-b278-ab87b3cc3cbd.png" alt="" loading="lazy"></p><p>登录成功后（让浏览器帮你记住账号和密码），如果之前有宝塔官方账号，可以选择绑定，如果没有的话，注册一个。之后就可以看到宝塔面板推荐我们安装的服务器软件了。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-e618418b-1862-4db2-9d61-61358330b77d.png" alt="" loading="lazy"></p><p>通常来说，直接安装 LNMP 组合包就可以了，包括可以一键安装到 Linux 环境的 Nginx、MySQL、PHP 等成员。</p><p>LNMP 一键安装包能为不会 Linux 的新手提供一个可以使用 Linux 生产的基础环境，无需一个一个的输入命令，无需值守，无需为软件之间的依赖而烦恼。</p>',26),l={href:"https://lnmp.org",target:"_blank",rel:"noopener noreferrer"},p=(0,n.Uk)("https://lnmp.org"),h=(0,n.Uk)("LAMP 和 LNMP 的差别就在于前者提供的是 Apache 的 Web 服务器，后来是 Nginx。Nginx 由 Igor Sysoev 为俄罗斯访问量第二的 "),m={href:"http://Rambler.ru",target:"_blank",rel:"noopener noreferrer"},o=(0,n.Uk)("Rambler.ru"),b=(0,n.Uk)(" 站点开发的 Web 服务器软件，国内外的门户网站、行业网站也都在使用 Nginx，相当的稳定。"),d=(0,n.uE)('<p>MySQL 基本上是中小型服务器必备的关系型数据库软件；PHP 虽然没落了，但仍然是很多服务器软件的前置环境，比如说最受欢迎的服务器建站工具 WordPress。</p><p>点击「一键安装」，宝塔面板就会帮我们自动安排上了。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-036631d0-5160-4b9e-a750-0f15966e1ee3.png" alt="" loading="lazy"></p><p>到此为止，宝塔面板的基础环境就准备完成了。可以在上面按照左侧的菜单项目对服务器进行操作了，比如说：</p><ul><li>网站</li><li>FTP</li><li>数据库</li><li>监控</li><li>安全</li><li>防火墙</li><li>文件</li><li>终端</li><li>计划任务</li><li>软件商店</li><li>等等</li></ul><p>这里先说一下终端，第一次进来的时候需要进行 SSH 账号验证。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-08cec2c4-0c4d-4b06-aefb-be29ef1052e6.png" alt="" loading="lazy"></p><p>密码从哪里来的呢？</p><p>在「服务器运维」中选择「远程链接」页面下。有 3 种方式，第一种可以直接使用浏览器，第二种使用密钥，第三种使用账户和密码。</p><p>为了方便演示，这里选择选择「设置密码」。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-0560b7fc-4c22-4dd3-be91-d35b631b93e2.png" alt="" loading="lazy"></p><p>设置完成后，重启服务器生效。之后在宝塔面板的「终端」面板下填写密码就可以链接了。不过在浏览器的终端里敲命令总感觉有点不太方便，我们最好选择 iterm2、putty、xshell 这样的客户端。</p><p>再说一下软件商店，有付费的有免费的，不过对于我们个人服务器来说，免费版的都足够用了。需要什么安装什么就好了。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-6f4f2ed4-74cf-4cc2-af6c-1750f14d3846.png" alt="" loading="lazy"></p><p>上传下载文件也非常方便。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-aefbcc8e-28c3-48ff-bf66-efdcb8fd57ae.png" alt="" loading="lazy"></p><p>---再再割一下------</p><p>讲真，有了宝塔面板后，操作服务器是真特么的方便啊！装了以后可以：</p><ul><li>创建管理网站</li><li>带颜色的终端命令行</li><li>数据库可视化管理</li><li>文件可视化管理</li><li>服务器软件可视化管理</li><li>一键安装 Nginx 反向代理软件</li><li>申请部署网站 SSL 证书</li><li>代理云服务器端口</li><li>更多强大功能，等待大家去解锁</li></ul><p>接下来，我们开始整活个人博客，有小伙伴已经投稿过了，我随后整理出来。拿到服务器的小伙伴都用起来哈~</p><h2 id="域名购买-解析" tabindex="-1"><a class="header-anchor" href="#域名购买-解析" aria-hidden="true">#</a> 域名购买/解析</h2><p>购买域名可以通过多个服务商，比如说阿里云、百度云、腾讯云。</p>',22),c=(0,n.Uk)("我这里以阿里云为例，购入一个 "),v={href:"http://tobebetterjavaer.com",target:"_blank",rel:"noopener noreferrer"},u=(0,n.Uk)("tobebetterjavaer.com"),j=(0,n.Uk)(" 的域名（寓意通过 Java 程序员进阶之路，成为一个更好的 Java 工程师）。"),k=(0,n._)("p",null,[(0,n._)("img",{src:"https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-yuming-jiexi-02.png",alt:"",loading:"lazy"})],-1),y=(0,n._)("p",null,"在此之前呢，我已经购买了一台阿里云的服务器，2 核 4G 内存的轻量级云服务器。就是上次带大家白票的那波，我自己也购入了一台。",-1),z=(0,n._)("p",null,[(0,n._)("img",{src:"https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-yuming-jiexi-03.png",alt:"",loading:"lazy"})],-1),_=(0,n.Uk)("这台服务器上目前已经安装了"),f={href:"https://mp.weixin.qq.com/s/ditN9J80rSWwnYRumwb4ww",target:"_blank",rel:"noopener noreferrer"},w=(0,n.Uk)("宝塔面板"),x=(0,n.Uk)("、"),S={href:"https://mp.weixin.qq.com/s/OYOcjUwPZyPo8K4KAgJ4kw",target:"_blank",rel:"noopener noreferrer"},U=(0,n.Uk)("Nginx"),T=(0,n.Uk)("，并且可以通过 IP 地址成功访问 80 端口。"),P=(0,n._)("p",null,[(0,n._)("img",{src:"https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-yuming-jiexi-04.png",alt:"",loading:"lazy"})],-1),H=(0,n._)("p",null,"我想做什么呢？",-1),L=(0,n._)("p",null,[(0,n._)("strong",null,"我希望可以通过域名直接访问而不是 IP"),(0,n.Uk)("！")],-1),W=(0,n._)("p",null,"直接在浏览器地址栏里输入域名访问肯定是不行的。",-1),N=(0,n._)("p",null,[(0,n._)("img",{src:"https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-yuming-jiexi-05.png",alt:"",loading:"lazy"})],-1),q=(0,n._)("p",null,"那该怎么办呢？",-1),C=(0,n._)("p",null,[(0,n.Uk)("进行"),(0,n._)("strong",null,"域名解析"),(0,n.Uk)("。当我们购买了一台云服务器后，系统会默认给这台服务器分配一个已经绑定的 IP 地址。但由于 IP 地址是由数组组成的，不方便记忆，所以就使用域名来代替。")],-1),A=(0,n.Uk)("不过，讲真 "),I={href:"http://tobebetterjavaer.com",target:"_blank",rel:"noopener noreferrer"},E=(0,n.Uk)("tobebetterjavaer.com"),M=(0,n.Uk)(" 这个域名也不好记忆，好歹是寓意比较好：成为一个更好的 Java 工程师嘛。再加上 com 域名本身也比较稀缺了，短域名基本上都已经用尽了。"),J=(0,n.uE)('<p>那<strong>域名解析</strong>就是把域名指向网站的 IP 地址，让用户通过域名就可以访问到网站的一种服务。</p><p>阿里云是通过云解析 DNS 提供域名解析服务的。DNS，全称 Domain Name System，也就是域名系统，是一个将域名和 IP 地址相互映射的分布式数据库，以便用户访问互联网。</p><p>云解析 DNS 支持 A、AAAA 、CNAME 等记录类型。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-yuming-jiexi-06.png" alt="" loading="lazy"></p><p>进入域名控制台，选择要解析的域名，点击「解析」会跳转到解析设置页面。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-yuming-jiexi-07.png" alt="" loading="lazy"></p><p>直接点击「新手指导」按钮，填写服务器的 IP 地址。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-yuming-jiexi-08.png" alt="" loading="lazy"></p><p>该方法可以同时添加 www 和 @ 记录，成功后，可以通过带 www 和不带 www 的方式访问网站。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-yuming-jiexi-09.png" alt="" loading="lazy"></p>',10),O=(0,n.Uk)("主机记录 @ 表示可以直接通过不带 www 的域名访问，也就是 "),D={href:"http://tobebetterjavaer.com",target:"_blank",rel:"noopener noreferrer"},Z=(0,n.Uk)("tobebetterjavaer.com"),R=(0,n.Uk)("；"),F=(0,n.Uk)("主机记录 www 表示可以带 www 的域名访问，也就是 "),G={href:"http://www.tobebetterjavaer.com",target:"_blank",rel:"noopener noreferrer"},Q=(0,n.Uk)("www.tobebetterjavaer.com"),B=(0,n.Uk)("；"),K=(0,n._)("p",null,"TTL 为缓存时间，数值越小，表示修改记录生效的时间越快，默认为 10 分钟。",-1),V=(0,n._)("p",null,"记得对域名进行实名认证，认证通过后（否则域名会处于锁定状态 serverhold），再次刷新页面，就可以访问成功了！",-1),Y=(0,n._)("p",null,[(0,n._)("img",{src:"https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-yuming-jiexi-10.png",alt:"",loading:"lazy"})],-1),$=(0,n._)("p",null,"nice！",-1),X=(0,n._)("h2",{id:"域名备案",tabindex:"-1"},[(0,n._)("a",{class:"header-anchor",href:"#域名备案","aria-hidden":"true"},"#"),(0,n.Uk)(" 域名备案")],-1),ee=(0,n.Uk)("新注册的域名在短时间内是可以访问到的（参照"),te={href:"https://mp.weixin.qq.com/s/9Tn5d2ey2lr06oGPZSp6Qw",target:"_blank",rel:"noopener noreferrer"},ie=(0,n.Uk)("上篇"),ne=(0,n.Uk)("），但过一段时间后，就会提示「网站暂时无法访问」。"),ae=(0,n.uE)('<p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-1.png" alt="" loading="lazy"></p><p>这就意味着我们需要对网站进行备案。关于网站备案，百度百科是这样解释的：</p><blockquote><p>网站备案的目的是为了防止在网上从事非法的网站经营活动，打击不良互联网信息的传播，如果网站不备案的话，很有可能被查处以后关停。</p></blockquote><p>那网站如何备案呢？</p><p>登录你购买服务器的服务器厂商官网，就可以进行网站备案。我购买的是阿里云服务器，所以这里以阿里云为例。</p><p>登录阿里云，点击「ICP 备案」（指网站在信息产业部提交网站信息进行官方认可）菜单，点击「开始备案」。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-2.png" alt="" loading="lazy"></p><p>初次备案的小伙伴建议看一遍「秒懂备案」的视频，对备案进行简单地了解，方便后续操作的时候对备案有一个大致的印象。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-3.png" alt="" loading="lazy"></p><p>填写基本信息。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-4.png" alt="" loading="lazy"></p><p>点击「信息校验」，通过后进入下一步。如果不通过，按照对应提示信息进行修改，一般新注册的域名需要 3 天的实名认证审核周期。</p><p>填写主办者信息：</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-5.png" alt="" loading="lazy"></p><p>填写网站信息：</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-6.png" alt="" loading="lazy"></p><p>完成后会提示我们下载「阿里云 APP」上传一些资料，主要是方便上传身份证和人脸认证（注意不要带眼镜，否则容易校验不通过，踩坑人良心建议）。</p><p>提交初审后，记得接听电话。</p><p>这一步审核通过后，会受到工信部的短信核验，记得及时处理。然后等待管局审核，预计 9 天左右。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-7.png" alt="" loading="lazy"></p><p>我差不多等了一周左右，管局审核终于通过了。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-8.png" alt="" loading="lazy"></p>',22),re=(0,n.Uk)("现在立刻马上，登录"),se={href:"http://www.beian.gov.cn/portal/index",target:"_blank",rel:"noopener noreferrer"},ge=(0,n.Uk)("全国互联网安全管理平台"),le=(0,n.Uk)("注册登录提交公安联网备案申请。"),pe=(0,n.uE)('<p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-9.png" alt="" loading="lazy"></p><p>填写申请信息的时候最好不要用 Safari 浏览器，不然会提示要安装 flash 插件（果然政企网站的技术都非常地追求稳定啊）。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-10.png" alt="" loading="lazy"></p><p>macOS 系统可以选择用 Chrome 浏览器。</p><p>这里吐槽一点，就是在新办网站申请的「域名证书」填写时，要求的证书大小不能超过 400kb，但从阿里云上下载的 492kb，真的是。。。。</p><p>幸好，这一项是非必选项。</p><p>提交后再次等待审核。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-11.png" alt="" loading="lazy"></p><p>等了四天，上去看了一下，审核通过了。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-12.png" alt="" loading="lazy"></p><p>我们需要做的是下载备案编号图标和复制备案编号 HTML 代码到网站上。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-13.png" alt="" loading="lazy"></p><h2 id="http-升级到-https" tabindex="-1"><a class="header-anchor" href="#http-升级到-https" aria-hidden="true">#</a> HTTP 升级到 HTTPS</h2>',13),he=(0,n.Uk)("上一次，我们完成"),me={href:"https://mp.weixin.qq.com/s/9Tn5d2ey2lr06oGPZSp6Qw",target:"_blank",rel:"noopener noreferrer"},oe=(0,n.Uk)("域名解析"),be=(0,n.Uk)("后，发现浏览器地址栏里的域名被提示为不安全，就是因为它还是个宝宝，没有升级为 HTTPS 证书。"),de=(0,n._)("p",null,[(0,n._)("img",{src:"https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-https-01.png",alt:"",loading:"lazy"})],-1),ce=(0,n._)("p",null,"那怎么升级为 HTTPS 证书呢？可以直接通过阿里云购买 SSL 证书，但特么巨贵！",-1),ve=(0,n._)("p",null,"本来想尝试一下 AWS 的免费 SSL 证书，但卡到验证码这一步就是收不到信息。",-1),ue=(0,n._)("p",null,[(0,n._)("img",{src:"https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-https-02.png",alt:"",loading:"lazy"})],-1),je=(0,n._)("p",null,"索性就还用 FreeSSL 吧。",-1),ke={href:"http://FreeSSL.cn",target:"_blank",rel:"noopener noreferrer"},ye=(0,n.Uk)("FreeSSL.cn"),ze=(0,n.Uk)(" 是一个提供免费 HTTPS 证书申请的网站，网址如下："),_e={href:"https://freessl.cn",target:"_blank",rel:"noopener noreferrer"},fe=(0,n.Uk)("https://freessl.cn"),we=(0,n.Uk)("输入域名 "),xe={href:"http://tobebetterjavaer.com",target:"_blank",rel:"noopener noreferrer"},Se=(0,n.Uk)("tobebetterjavaer.com"),Ue=(0,n.Uk)(" 选择 trustAsia 品牌证书，点击「创建」，这次我选择的是三年期自动化（刚好我的服务器申请的是三年，域名也是三年），9.9 元，还是非常良心的。"),Te=(0,n.uE)('<p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-https-03.png" alt="" loading="lazy"></p><p>微信/支付宝支付完成后会跳到证书的订单列表。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-https-04.png" alt="" loading="lazy"></p><p>选择「更多操作」里的订单详情，会跳转到 CertCloud 页的管理订单。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-https-05.png" alt="" loading="lazy"></p><p>点击「提交 CSR」后点击「提交」。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-https-06.png" alt="" loading="lazy"></p><p>接下来就到了域名验证环节，点击「获取验证信息」。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-https-07.png" alt="" loading="lazy"></p><p>切换到域名解析设置页，准备添加记录。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-https-08.png" alt="" loading="lazy"></p><p>按照 CertCloud 提供的域名验证信息，添加记录。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-https-09.png" alt="" loading="lazy"></p><p>添加完成后切换到 CertCloud，点击「域名验证」。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-https-10.png" alt="" loading="lazy"></p><p>如果不确定上一步的记录是否添加成功，可以点击「诊断」按钮进行测试，如果没有问题会提示匹配成功的信息。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-https-11.png" alt="" loading="lazy"></p><p>之后，点击「我已完成配置，检测一下」，如果没有问题，会先提示等待 CA 颁发证书，之后再次检测会提示「证书已签发，请刷新页面查看」。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-https-12.png" alt="" loading="lazy"></p><p>好的，直接刷新页面，可以看到订单状态已经变成「已签发」的状态。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-https-13.png" alt="" loading="lazy"></p><p>点击证书操作中的「下载证书」，选择适用于 Nginx 的 PEM 格式证书，点击下载。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-https-14.png" alt="" loading="lazy"></p>',23),Pe=(0,n.Uk)("使用 "),He={href:"https://mp.weixin.qq.com/s/HeUAPe4LqqjfzIeWDe8KIg",target:"_blank",rel:"noopener noreferrer"},Le=(0,n.Uk)("Tabby 终端"),We=(0,n.Uk)("的「SFTP」将证书上传到网站的云服务器。"),Ne=(0,n._)("p",null,[(0,n._)("img",{src:"https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-https-15.png",alt:"",loading:"lazy"})],-1),qe=(0,n.Uk)("打开"),Ce={href:"https://mp.weixin.qq.com/s/ditN9J80rSWwnYRumwb4ww",target:"_blank",rel:"noopener noreferrer"},Ae=(0,n.Uk)("宝塔面板"),Ie=(0,n.Uk)("，准备配置 Nginx 的 SSL 证书。将以下信息复制到 Nginx 的配置文件中，保存后重新加载配置。"),Ee=(0,n.uE)('<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># HTTPS server\n\nserver {\n    listen       443 ssl;\n    server_name  localhost;\n\n    ssl_certificate      /home/cert/nginx/tobebetterjavaer.com_cert_chain.pem;\n    ssl_certificate_key  /home/cert/nginx/tobebetterjavaer.com_key.key;\n\n    ssl_session_cache    shared:SSL:1m;\n    ssl_session_timeout  5m;\n\n    ssl_ciphers  HIGH:!aNULL:!MD5;\n    ssl_prefer_server_ciphers  on;\n\n    location / {\n        root   /home/www;\n        index  index.html index.htm;\n    }\n}\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>记得在宝塔面板和云服务器后台放行 443 端口。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-https-16.png" alt="" loading="lazy"></p><p>在地址栏访问 <code>https://tobebetterjavaer.com</code> 就可以看到我们的域名已经升级为 HTTPS 了（安全锁的小图标也显示出来了）。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-https-17.png" alt="" loading="lazy"></p><p>这时候，如果我们访问 80 端口的 http，仍然是可以的。只不过仍然会显示一个不安全的提示。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-https-18.png" alt="" loading="lazy"></p><p>此时，我们需要将 HTTP 重定向到 HTTPS。</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>server {\n    listen       80;\n    server_name  tobebetterjavaer.com www.tobebetterjavaer.com;\n    return 301 https://$server_name$request_uri;\n}\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注释掉原来的 80 端口监听，改为 return 跳转。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-https-19.png" alt="" loading="lazy"></p><p>再次刷新原来的 HTTP 访问链接，可以看到已经跳转到 HTTPS 了，如果你查看地址栏的话，也会看到地址变成了 <code>https://tobebetterjavaer.com</code>。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-https-20.png" alt="" loading="lazy"></p><p>顺带再给大家分享一个好消息，《Java 程序员进阶之路》网站 PV 访问人数已经突破了 1000，来到了 1168，又一个小小的里程碑~</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-beian-c0665162-9d0d-4ded-b485-5ea535954457.png" alt="" loading="lazy"></p><p>三年之后又三年，希望这个小破站能自力更生地活下去。目前已有的花费有：</p><ul><li>阿里云服务器：3 年 204 元</li><li>域名：3 年 273 元</li><li>SSL 证书：3 年 9.9 元</li></ul><p>希望能给学习 Java 的小伙伴提供一点点帮助，二哥就感觉值了！</p><p>到此为止，《Java 程序员进阶之路》网站的硬件设施就全部完善了，她已经是个成熟的宝宝了。</p><p>希望百度和谷歌等搜索引擎尽快收录，后面也会去学习一些 SEO 方面的知识，提高一下网站的排名，让网站获得更多的流量，从而提升品牌的影响力。</p><p>恭喜！</p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/xingbiaogongzhonghao.png">',22),Me={},Je=(0,i(13860).Z)(Me,[["render",function(e,t){const i=(0,n.up)("ExternalLinkIcon");return(0,n.wg)(),(0,n.iD)("div",null,[a,(0,n._)("blockquote",null,[(0,n._)("p",null,[(0,n._)("a",r,[s,(0,n.Wm)(i)])])]),g,(0,n._)("blockquote",null,[(0,n._)("p",null,[(0,n._)("a",l,[p,(0,n.Wm)(i)])])]),(0,n._)("p",null,[h,(0,n._)("a",m,[o,(0,n.Wm)(i)]),b]),d,(0,n._)("p",null,[c,(0,n._)("a",v,[u,(0,n.Wm)(i)]),j]),k,y,z,(0,n._)("p",null,[_,(0,n._)("a",f,[w,(0,n.Wm)(i)]),x,(0,n._)("a",S,[U,(0,n.Wm)(i)]),T]),P,H,L,W,N,q,C,(0,n._)("p",null,[A,(0,n._)("a",I,[E,(0,n.Wm)(i)]),M]),J,(0,n._)("ul",null,[(0,n._)("li",null,[O,(0,n._)("a",D,[Z,(0,n.Wm)(i)]),R]),(0,n._)("li",null,[F,(0,n._)("a",G,[Q,(0,n.Wm)(i)]),B])]),K,V,Y,$,X,(0,n._)("p",null,[ee,(0,n._)("a",te,[ie,(0,n.Wm)(i)]),ne]),ae,(0,n._)("p",null,[re,(0,n._)("a",se,[ge,(0,n.Wm)(i)]),le]),pe,(0,n._)("p",null,[he,(0,n._)("a",me,[oe,(0,n.Wm)(i)]),be]),de,ce,ve,ue,je,(0,n._)("p",null,[(0,n._)("a",ke,[ye,(0,n.Wm)(i)]),ze]),(0,n._)("blockquote",null,[(0,n._)("p",null,[(0,n._)("a",_e,[fe,(0,n.Wm)(i)])])]),(0,n._)("p",null,[we,(0,n._)("a",xe,[Se,(0,n.Wm)(i)]),Ue]),Te,(0,n._)("p",null,[Pe,(0,n._)("a",He,[Le,(0,n.Wm)(i)]),We]),Ne,(0,n._)("p",null,[qe,(0,n._)("a",Ce,[Ae,(0,n.Wm)(i)]),Ie]),Ee])}]])},13860:(e,t)=>{t.Z=(e,t)=>{const i=e.__vccOpts||e;for(const[e,n]of t)i[e]=n;return i}}}]);