"use strict";(self.webpackChunkcoding_road=self.webpackChunkcoding_road||[]).push([[7957],{77365:(e,t,n)=>{n.r(t),n.d(t,{data:()=>i});const i={key:"v-5c219956",path:"/szjy/tobebetterjavaer-wangzhan-shangxian.html",title:"使用 docsify+Git+GitHub+码云+阿里云服务器搭建知识库网站",lang:"zh-CN",frontmatter:{category:["知识库搭建历程"],tag:["辅助工具","轮子"],summary:"使用 docsify+Git+GitHub+码云+阿里云服务器搭建知识库网站 大家好，我是二哥呀！ 2022 年 1 月 1 日，二哥的《Java 程序员进阶之路》网站终于上线了！10 天过去了，网站在没有 SEO 的加持下访问量也突破了 1000 pu，算是一个小小的里程碑吧。 往下看，你不仅会直呼这个网站的颜值贼高，丝毫不输 B 站上那些舞蹈区的小姐姐，",head:[["meta",{property:"og:url",content:"https://vuepress-theme-hope-v2-demo.mrhope.site/szjy/tobebetterjavaer-wangzhan-shangxian.html"}],["meta",{property:"og:site_name",content:"coding-rode"}],["meta",{property:"og:title",content:"使用 docsify+Git+GitHub+码云+阿里云服务器搭建知识库网站"}],["meta",{property:"og:type",content:"article"}],["meta",{property:"og:updated_time",content:"2022-06-04T08:56:49.000Z"}],["meta",{property:"og:locale",content:"zh-CN"}],["meta",{property:"article:tag",content:"辅助工具"}],["meta",{property:"article:tag",content:"轮子"}],["meta",{property:"article:modified_time",content:"2022-06-04T08:56:49.000Z"}]]},excerpt:"",headers:[{level:3,title:"解决方案一",slug:"解决方案一",children:[]},{level:3,title:"解决方案二",slug:"解决方案二",children:[]}],git:{createdTime:1653617096e3,updatedTime:1654333009e3,contributors:[{name:"林振辉",email:"linzhenhui@apexsoft.com",commits:2},{name:"thinkingme",email:"linzhenhuigg@gmail.com",commits:1}]},readingTime:{minutes:7.96,words:2389},filePathRelative:"szjy/tobebetterjavaer-wangzhan-shangxian.md"}},88109:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ne});var i=n(95393);const a=(0,i.uE)('<h1 id="使用-docsify-git-github-码云-阿里云服务器搭建知识库网站" tabindex="-1"><a class="header-anchor" href="#使用-docsify-git-github-码云-阿里云服务器搭建知识库网站" aria-hidden="true">#</a> 使用 docsify+Git+GitHub+码云+阿里云服务器搭建知识库网站</h1><p>大家好，我是二哥呀！</p><p>2022 年 1 月 1 日，<strong>二哥的《Java 程序员进阶之路》网站终于上线了</strong>！10 天过去了，网站在没有 SEO 的加持下访问量也突破了 1000 pu，算是一个小小的里程碑吧。</p><p>往下看，你不仅会直呼这个网站的颜值贼高，丝毫不输 B 站上那些舞蹈区的小姐姐，hhh，另外你还会学到如何从 0 到 1 搭建一个个人的学习网站。</p><p>经常逛 GitHub 的小伙伴应该已经发现了，二哥的《Java 程序员进阶之路》最近在持续霸榜，今天仍然在 GitHub 的周榜上。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-01.png" alt="" loading="lazy"></p><p>这也是 2021-2022 年二哥收获的最后一点点小惊喜了。</p><p>原来的《Java 程序员进阶之路》网站是托管在码云 Pages 上的，而码云 Pages 没办法自定义域名，这样就很不利于小伙伴们直接通过网址去访问。</p>',8),g=(0,i.Uk)("码云 Pages："),r={href:"https://itwanger.gitee.io/tobebetterjavaer",target:"_blank",rel:"noopener noreferrer"},s=(0,i.Uk)("https://itwanger.gitee.io/tobebetterjavaer"),l=(0,i._)("p",null,[(0,i._)("img",{src:"https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-02.png",alt:"",loading:"lazy"})],-1),p=(0,i._)("p",null,"怎么解决这个问题呢？",-1),h=(0,i._)("p",null,"。。。。。。",-1),o=(0,i._)("p",null,"让我先来给大家铺垫一下这个码云 Pages 是如何服务的，搞清楚了状况后，我们就容易想到解决办法。",-1),m=(0,i._)("p",null,"首先，《Java 程序员进阶之路》专栏的源头是 GitHub 上的一个开源仓库。",-1),d=(0,i.Uk)("GitHub 地址："),c={href:"https://github.com/itwanger/toBeBetterJavaer",target:"_blank",rel:"noopener noreferrer"},u=(0,i.Uk)("https://github.com/itwanger/toBeBetterJavaer"),b=(0,i._)("p",null,"里面除了 md 文档和图片之外，还有代码示例，以及 docsify 的基础环境文件。",-1),v=(0,i._)("p",null,[(0,i._)("img",{src:"https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-03.png",alt:"",loading:"lazy"})],-1),k=(0,i._)("li",null,"index.html 入口文件",-1),z={href:"http://README.md",target:"_blank",rel:"noopener noreferrer"},j=(0,i.Uk)("README.md"),y=(0,i.Uk)(" 会做为主页内容渲染"),_=(0,i._)("li",null,".nojekyll 用于阻止 GitHub Pages 忽略掉下划线开头的文件",-1),x=(0,i._)("li",null,"_sidebar.md 会做为侧边栏内容渲染",-1),w=(0,i._)("li",null,"_coverpage.md 会做为封面图渲染",-1),f=(0,i._)("p",null,"docsify 是一个神奇的文档网站生成器，不同于 GitBook、Hexo 的是，它不会生成静态的 .html 文件，所有转换工作都是在运行时发生的。只需要一个 index.html 文件以及一些基础配置文件就可以开始编写文档，并直接托管在 GitHub Pages 上（省去了服务器的钱）。",-1),G=(0,i._)("p",null,"不过，由于 GitHub 的网络访问原因，我就将 《Java 程序员进阶之路》专栏同步到了码云，用码云 Pages 来替代 GitHub Pages，这样的网络访问速度会快很多。",-1),H=(0,i.Uk)("码云地址："),J={href:"https://gitee.com/itwanger/toBeBetterJavaer",target:"_blank",rel:"noopener noreferrer"},P=(0,i.Uk)("https://gitee.com/itwanger/toBeBetterJavaer"),U=(0,i.uE)('<p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-04.png" alt="" loading="lazy"></p><p>同时，码云 Pages 也支持 Jekyll、Hugo、Hexo、docsify 等静态网站的服务。当 GitHub 仓库有更新后，直接在 GitHub Pages 上点一下刷新图标就会立即完成网站服务的同步工作。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-05.png" alt="" loading="lazy"></p><p>通过码云 Pages 提供的网址就可以访问《Java 程序员进阶之路》网址了。</p><p>但由于种种原因，码云 Pages 没有提供自定义域名+ HTTPS 的服务，Pro 版支持，但也因为业务调整，关闭了个人用户的购买入口。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-06.png" alt="" loading="lazy"></p><p>这就很扯了。</p><h3 id="解决方案一" tabindex="-1"><a class="header-anchor" href="#解决方案一" aria-hidden="true">#</a> 解决方案一</h3><p>这是最容易想到的办法，也是最笨的办法：<strong>将本地仓库上传到云服务器，通过 Nginx 部署静态网站</strong>。</p><p>在上传服务器之前，让我们先来确认一下本地的 docsify 目录是否是完整的。因此我们需要在本地运行起来 docsify 服务。</p><p>进入本地《Java 程序员进阶之路》的仓库目录，执行 <code>docsify serve</code> 启动服务。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-07.png" alt="" loading="lazy"></p><p>在浏览器地址栏访问 <code>http://localhost:3000</code>：</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-08.png" alt="" loading="lazy"></p><p>可以确认是没有问题的。</p><p>然后将本地的文件上传到云服务器上，再通过 Nginx 部署静态网站就 OK 了。</p><p>不过，这样做会存在一个很严重的问题，就是云服务器和本地、GitHub 仓库之间没办法进行同步。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-09.png" alt="" loading="lazy"></p><h3 id="解决方案二" tabindex="-1"><a class="header-anchor" href="#解决方案二" aria-hidden="true">#</a> 解决方案二</h3><p>这是比较完善一点的解决方案：<strong>在服务器上搭建一个 Git 仓库，从 GitHub 上拉取，再通过 Nginx 部署静态网站</strong>。</p><p>这样就很容易解决掉仓库之间不同步的问题，因为 GitHub 仓库提交的一定是正式版本，也是最新版本，从上面拉取是最方便和稳妥的。本地会做一些测试工作，比如说调整 docsify 的配置等等，不适合作为云服务器拉取的对象。</p><p>关于 Git 环境的搭建，我在《Java 程序员进阶之路》专栏的「Git」篇里已经详细的讲解了。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-10.png" alt="" loading="lazy"></p><p>搭建过程我这里简单演示下。</p><p><strong>第一步，安装 Git</strong></p><p>CentOS 上可以直接通过 <code>yum install git</code> 命令来安装 Git 环境。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-11.png" alt="" loading="lazy"></p><p><strong>第二步，初始化 Git</strong></p><p>执行 <code>git init</code> 初始化 Git 目录。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-12.png" alt="" loading="lazy"></p><p><strong>第三步，克隆 GitHub 仓库到云服务器</strong></p>',31),q=(0,i.Uk)("为了使 GitHub 相信所有的操作都是“你本人”操作的，所以在 clone 之前需要先配置 SSH 密钥。具体的步骤可参考："),S={href:"https://mp.weixin.qq.com/s/Fhh5-7AFDUThmd4tsyA55Q",target:"_blank",rel:"noopener noreferrer"},B=(0,i.Uk)("崩溃！实习生把小组的代码仓库搞得一团糟。。。"),T=(0,i.Uk)("这篇中的「远程仓库」小节。"),E=(0,i._)("p",null,"这里就不再演示了。",-1),N=(0,i._)("p",null,"在 GitHub 仓库上点击「Code」菜单，复制 SSH 地址。",-1),W=(0,i._)("p",null,[(0,i._)("img",{src:"https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-13.png",alt:"",loading:"lazy"})],-1),O=(0,i._)("p",null,[(0,i.Uk)("然后执行 "),(0,i._)("code",null,"git clone"),(0,i.Uk)(" 命令就可以从远程仓库上拉取到最新内容了。")],-1),C=(0,i._)("p",null,[(0,i._)("img",{src:"https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-14.png",alt:"",loading:"lazy"})],-1),A=(0,i._)("p",null,[(0,i._)("strong",null,"第四步，通过 Nginx 部署静态网站")],-1),Z={href:"https://mp.weixin.qq.com/s/OYOcjUwPZyPo8K4KAgJ4kw",target:"_blank",rel:"noopener noreferrer"},D=(0,i.Uk)("Nginx"),K=(0,i.Uk)(" 非常适合用来部署静态网站，只需要将服务器的访问目录设定为 index.html 文件就可以了。"),R=(0,i.uE)('<p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-15.png" alt="" loading="lazy"></p><p>OK，此时再访问域名 <code>https://tobebetterjavaer.com</code> 就可以看到《Java 程序员进阶之路》的内容了。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-16.png" alt="" loading="lazy"></p><p>用这种方案的话，本地、GitHub、云服务器之间的同步就完全打通了。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-17.png" alt="" loading="lazy"></p><p>当 GitHub 上有更新的时候，再将内容拉取到云服务器上。</p><p>举例来说，我们在《Java 程序员进阶之路》专栏的 GitHub 仓库中修改 _sidebar.md 文件，追加一个感叹号的标点符号。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-18.png" alt="" loading="lazy"></p><p>有两种办法拉取。</p><p>第一种，先执行 <code>git fetch</code>，再执行 <code>git merge</code>。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-19.png" alt="" loading="lazy"></p><p><code>9909f82..7f4b815 master -&gt; origin/master</code> 就表示内容有变动。</p><p>第二种，直接执行 <code>git pull</code> 命令。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-20.png" alt="" loading="lazy"></p><p>不过，这有一点不尽善尽美，每当 GitHub 上有更新的时候，还要手动在云服务器上拉取更新，能不能做到自动化呢？</p>',15),V=(0,i.Uk)("可以利用"),F={href:"https://mp.weixin.qq.com/s/ditN9J80rSWwnYRumwb4ww",target:"_blank",rel:"noopener noreferrer"},L=(0,i.Uk)("宝塔面板"),M=(0,i.Uk)("的计划任务，添加一个 Shell 脚本。"),Y=(0,i.uE)('<p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-21.png" alt="" loading="lazy"></p><p>脚本内容很简单，就两行内容：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># 切换到 git 目录\ncd /home/www/git/toBeBetterJavaer\n# 执行git命令\ngit pull\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>保存后我们来测试下。</p><p>我们在《Java 程序员进阶之路》专栏的 GitHub 仓库中修改 _sidebar.md 文件，修改中文的感叹号为英文的感叹号。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-22.png" alt="" loading="lazy"></p><p>点击计划任务的「执行」按钮。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-23.png" alt="" loading="lazy"></p><p>查看云服务器上的文件是否发生了变化。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-24.png" alt="" loading="lazy"></p><p>到此为止，我们就完成了《Java 程序员进阶之路》网站从码云 Pages 到 VPS（Virtual private server，虚拟专用服务器）迁移的整个工作。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-25.png" alt="" loading="lazy"></p>',12),I=(0,i.Uk)("最后，再带着大家使用"),Q={href:"https://busuanzi.ibruce.info/",target:"_blank",rel:"noopener noreferrer"},X=(0,i.Uk)("不蒜子"),$=(0,i.Uk)("给网站加一个总访问次数和总访客数吧，看看一个月后《Java 程序员进阶之路》的 PV 有多少。"),ee=(0,i.uE)('<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;script async src=&quot;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js&quot;&gt;&lt;/script&gt;\n&lt;span id=&quot;busuanzi_container_site_pv&quot;&gt;本站总访问量&lt;span id=&quot;busuanzi_value_site_pv&quot;&gt;&lt;/span&gt;次&lt;/span&gt;\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>两行代码，一行引入 JS 文件，一行展示数据。</p><p>刷新网页，发现已经有了哈，我是第一个。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-26.png" alt="" loading="lazy"></p><p>紧接着，可以把 GitHub/码云上的预览链接从码云 Pages 修改为 <code>https://tobebetterjavaer.com</code> 了。</p><p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/szjy/tobebetterjavaer-wangzhan-shangxian-27.png" alt="" loading="lazy"></p><p>简单总结一波：为了搭建这个网站，真的是能学到非常多的实战知识，比如说：</p><ul><li>HTTP 升级为 HTTPS</li><li>Nginx 配置静态资源</li><li>域名解析</li><li>SSL 证书生成</li><li>Git 的基本使用</li><li>宝塔面板的基本使用</li><li>Tabby 终端的基本使用</li><li>域名备案</li><li>等等等等</li></ul><p>如果大家有时间的话，强烈建议大家动手去搭一个，尤其是之前白票过阿里云服务器的小伙伴，动过手后你才会真正地学到实战经验。</p><p>2022 年，二哥一定会继续肝出更多优质的原创，丰富《Java 程序员进阶之路》的内容，希望这个专栏日后成为大家学习 Java 的第一选择！</p><hr><p><em>没有什么使我停留——除了目的，纵然岸旁有玫瑰、有绿荫、有宁静的港湾，我是不系之舟</em>。</p><p>我们下期见~</p><img src="https://cdn.jsdelivr.net/gh/thinkingme/thinkingme.github.io@master/images/xingbiaogongzhonghao.png">',14),te={},ne=(0,n(13860).Z)(te,[["render",function(e,t){const n=(0,i.up)("ExternalLinkIcon");return(0,i.wg)(),(0,i.iD)("div",null,[a,(0,i._)("blockquote",null,[(0,i._)("p",null,[g,(0,i._)("a",r,[s,(0,i.Wm)(n)])])]),l,p,h,o,m,(0,i._)("blockquote",null,[(0,i._)("p",null,[d,(0,i._)("a",c,[u,(0,i.Wm)(n)])])]),b,v,(0,i._)("ul",null,[k,(0,i._)("li",null,[(0,i._)("a",z,[j,(0,i.Wm)(n)]),y]),_,x,w]),f,G,(0,i._)("blockquote",null,[(0,i._)("p",null,[H,(0,i._)("a",J,[P,(0,i.Wm)(n)])])]),U,(0,i._)("p",null,[q,(0,i._)("a",S,[B,(0,i.Wm)(n)]),T]),E,N,W,O,C,A,(0,i._)("p",null,[(0,i._)("a",Z,[D,(0,i.Wm)(n)]),K]),R,(0,i._)("p",null,[V,(0,i._)("a",F,[L,(0,i.Wm)(n)]),M]),Y,(0,i._)("p",null,[I,(0,i._)("a",Q,[X,(0,i.Wm)(n)]),$]),ee])}]])},13860:(e,t)=>{t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[e,i]of t)n[e]=i;return n}}}]);